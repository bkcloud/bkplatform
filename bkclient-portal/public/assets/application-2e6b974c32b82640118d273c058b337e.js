function combine_array_buffers(t,e){var n,i=new Uint8Array(t),r=new Uint8Array(e),o=new ArrayBuffer(t.byteLength+e.byteLength),s=new Uint8Array(o),a=0;for(n=0;n<i.length;n++)s[a++]=i[n];for(n=0;n<r.length;n++)s[a++]=r[n];return o}function hexdump_buffer(t){for(var e=new Uint8Array(t),n="",i="",r=0,o=0;o<e.length;o++){var s=Number(e[o]).toString(16);if(1==s.length&&(n+="0"),n+=s+" ",i+=String.fromCharCode(e[o]),o%16==15||o==e.length-1){for(;o%16!=15;)n+="   ",o++;0==r&&console.log(n+" | "+i),"00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 "==n?1==r?(console.log("."),r++):0==r&&r++:r=0,n=i=""}}}function get_scancode(t){return void 0===common_scanmap[t]?-1!=navigator.userAgent.indexOf("Firefox")?firefox_scanmap[t]:DOM_scanmap[t]:common_scanmap[t]}function keycode_to_start_scan(t){var e=get_scancode(t);return void 0===e?(alert("no map for "+t),0):256>e?e:224|e-256<<8}function keycode_to_end_scan(t){var e=get_scancode(t);return void 0===e?0:256>e?128|e:32992|e-256<<8}function rfc2083_make_crc_table(){var t,e,n;for(e=0;256>e;e++){for(t=e,n=0;8>n;n++)1&t?t=(3988292384^t>>>1)>>>0&4294967295:t>>>=1;rfc2083_crc_table[e]=t}rfc2083_crc_table_computed=1}function rfc2083_update_crc(t,e,n,i){var r,o=t;for(rfc2083_crc_table_computed||rfc2083_make_crc_table(),r=0;i>r;r++)o=rfc2083_crc_table[255&(o^e[n+r])]^o>>>8;return o}function rfc2083_crc(t,e,n){return 4294967295^rfc2083_update_crc(4294967295,t,e,n)}function crc32(t,e,n){var i=new Uint8Array(t);return rfc2083_crc(i,e,n)}function PngIHDR(t,e){this.width=t,this.height=e,this.depth=8,this.type=6,this.compression=0,this.filter=0,this.interlace=0}function adler(){this.s1=1,this.s2=0}function PngIDAT(t,e,n){if(n.byteLength>65535)throw new Error("Cannot handle more than 64K");this.data=n,this.width=t,this.height=e}function PngIEND(){}function create_rgba_png(t,e,n){var i,r=new PngIHDR(t,e),o=new PngIDAT(t,e,n),s=new PngIEND,a=new ArrayBuffer(r.buffer_size()+o.buffer_size()+s.buffer_size()),c=r.to_buffer(a);c=o.to_buffer(a,c),c=s.to_buffer(a,c);var l=new Uint8Array(a),u="";for(i=0;c>i;i++)u+="%",l[i]<16&&(u+="0"),u+=l[i].toString(16);return"%89PNG%0D%0A%1A%0A"+u}function lz_rgb32_decompress(t,e,n,r,o){var s,a=e,c=0;for(s=t[a++];4*c<n.length;s=t[a++]){var l=c,u=s>>5,h=(31&s)<<8;if(s>=32){var p;if(u--,6==u)do p=t[a++],u+=p;while(255==p);if(p=t[a++],h+=p,255==p&&h-p==7936&&(h=t[a++]<<8,h+=t[a++],h+=8191),u+=1,r==LZ_IMAGE_TYPE_RGBA&&(u+=2),h+=1,l-=h,l==c-1)for(var d=l;u;--u){if(r==LZ_IMAGE_TYPE_RGBA)n[4*c+3]=n[4*d+3];else for(i=0;4>i;i++)n[4*c+i]=n[4*d+i];c++}else for(;u;--u){if(r==LZ_IMAGE_TYPE_RGBA)n[4*c+3]=n[4*l+3];else for(i=0;4>i;i++)n[4*c+i]=n[4*l+i];c++,l++}}else for(s++,r==LZ_IMAGE_TYPE_RGBA?n[4*c+3]=t[a++]:(n[4*c+0]=t[a+2],n[4*c+1]=t[a+1],n[4*c+2]=t[a+0],o&&(n[4*c+3]=255),a+=3),c++,--s;s;s--)r==LZ_IMAGE_TYPE_RGBA?n[4*c+3]=t[a++]:(n[4*c+0]=t[a+2],n[4*c+1]=t[a+1],n[4*c+2]=t[a+0],o&&(n[4*c+3]=255),a+=3),c++}return a-1}function convert_spice_lz_to_web(t,e){var n;if(e.type===LZ_IMAGE_TYPE_RGB32||e.type===LZ_IMAGE_TYPE_RGBA){var i=new Uint8Array(e.data),r=t.createImageData(e.width,e.height);n=lz_rgb32_decompress(i,0,r.data,LZ_IMAGE_TYPE_RGB32,e.type!=LZ_IMAGE_TYPE_RGBA),e.type==LZ_IMAGE_TYPE_RGBA&&lz_rgb32_decompress(i,n,r.data,LZ_IMAGE_TYPE_RGBA,!1)}else{if(e.type!==LZ_IMAGE_TYPE_XXXA)return void 0;var i=new Uint8Array(e.data),r=t.createImageData(e.width,e.height);lz_rgb32_decompress(i,0,r.data,LZ_IMAGE_TYPE_RGBA,!1)}return r}function ceil_log_2(t){if(1===t)return 0;var e=1;for(t-=1;t>>>=1;)e++;return e}function family_init(t,e,n){var i;for(i=0;e>i;i++){var r,o;r=n-e,r>bppmask[e-i]&&(r=bppmask[e-i]),o=bppmask[e]+1-(r<<i),t.nGRcodewords[i]=r<<i,t.notGRcwlen[i]=r+ceil_log_2(o),t.notGRprefixmask[i]=bppmask[32-r]>>>0,t.notGRsuffixlen[i]=ceil_log_2(o)}var s,a=bppmask[e],c=a>>>1;for(s=0;a>=s;s++)t.xlatU2L[s]=c>=s?s<<1:(a-s<<1)+1;for(s=0;a>=s;s++)t.xlatL2U[s]=1&s?a-(s>>>1):s>>>1}function quic_image_bpc(t){switch(t){case QUIC_IMAGE_TYPE_GRAY:return 8;case QUIC_IMAGE_TYPE_RGB16:return 5;case QUIC_IMAGE_TYPE_RGB24:return 8;case QUIC_IMAGE_TYPE_RGB32:return 8;case QUIC_IMAGE_TYPE_RGBA:return 8;case QUIC_IMAGE_TYPE_INVALID:default:return console.log("quic: bad image type\n"),0}}function cnt_l_zeroes(t){return 4286578688&t?lzeroes[t>>>24]:4294934528&t?8+lzeroes[t>>>16&255]:4294967168&t?16+lzeroes[t>>>8&255]:24+lzeroes[255&t]}function golomb_decoding_8bpc(t,e){var n,i;if(0>e||e>family_8bpc.notGRprefixmask[t]){var r=cnt_l_zeroes(e);i=r+1+t,n=r<<t|e>>32-i&bppmask[t]}else i=family_8bpc.notGRcwlen[t],n=family_8bpc.nGRcodewords[t]+(e>>32-i&bppmask[family_8bpc.notGRsuffixlen[t]]);return{codewordlen:i,rc:n}}function golomb_code_len_8bpc(t,e){return t<family_8bpc.nGRcodewords[e]?(t>>>e)+1+e:family_8bpc.notGRcwlen[e]}function QuicModel(t){var e,n=0;switch(this.levels=1<<t,this.n_buckets_ptrs=0,evol){case 1:this.repfirst=3,this.firstsize=1,this.repnext=2,this.mulsize=2;break;case 3:this.repfirst=1,this.firstsize=1,this.repnext=1,this.mulsize=2;break;case 5:this.repfirst=1,this.firstsize=1,this.repnext=1,this.mulsize=4;break;case 0:case 2:case 4:console.log("quic: findmodelparams(): evol value obsolete!!!\n");default:console.log("quic: findmodelparams(): evol out of range!!!\n")}this.n_buckets=0;var i=this.repfirst+1,r=this.firstsize;do e=this.n_buckets?n+1:0,--i||(i=this.repnext,r*=this.mulsize),n=e+r-1,n+r>=this.levels&&(n=this.levels-1),this.n_buckets_ptrs||(this.n_buckets_ptrs=this.levels),this.n_buckets++;while(n<this.levels-1)}function QuicBucket(){this.counters=[0,0,0,0,0,0,0,0]}function QuicFamilyStat(){this.buckets_ptrs=[],this.buckets_buf=[]}function QuicChannel(t,e){return this.state=new CommonState,this.family_stat_8bpc=new QuicFamilyStat,this.family_stat_5bpc=new QuicFamilyStat,this.correlate_row={zero:0,row:[]},this.model_8bpc=t,this.model_5bpc=e,this.buckets_ptrs=[],this.family_stat_8bpc.fill_model_structures(this.model_8bpc)?this.family_stat_5bpc.fill_model_structures(this.model_5bpc)?void 0:void 0:void 0}function CommonState(){}function QuicEncoder(){this.rgb_state=new CommonState,this.model_8bpc=new QuicModel(8),this.model_5bpc=new QuicModel(5),this.channels=[];var t;for(t=0;4>t;t++)if(this.channels[t]=new QuicChannel(this.model_8bpc,this.model_5bpc),!this.channels[t])return console.log("quic: failed to create channel"),void 0}function SpiceQuic(){}function convert_spice_quic_to_web(t,e){var n,i=t.createImageData(e.width,e.height);for(n=0;n<i.width*i.height*4;n+=4)i.data[n+0]=e.outptr[n+2],i.data[n+1]=e.outptr[n+1],i.data[n+2]=e.outptr[n+0],i.data[n+3]=e.type!==QUIC_IMAGE_TYPE_RGBA?255:255-e.outptr[n+3];return i}function convert_spice_bitmap_to_web(t,e){var n,i,r,o=new Uint8Array(e.data);if(e.format!=SPICE_BITMAP_FMT_32BIT&&e.format!=SPICE_BITMAP_FMT_RGBA)return void 0;for(n=t.createImageData(e.x,e.y),i=0;i<e.y*e.stride;)for(r=0;r<e.x;r++,i+=4)n.data[i+0]=o[i+2],n.data[i+1]=o[i+1],n.data[i+2]=o[i+0],n.data[i+3]=e.format==SPICE_BITMAP_FMT_32BIT?255:o[i];return n}function SpiceDataView(t,e,n){this.u8=void 0!==e?void 0!==n?new Uint8Array(t,e,n):new Uint8Array(t,e):new Uint8Array(t)}function SpiceChannelId(){}function SpiceRect(){}function SpiceClipRects(){}function SpiceClip(){}function SpiceImageDescriptor(){}function SpicePalette(){}function SpiceBitmap(){}function SpiceImage(){}function SpiceQMask(){}function SpicePattern(){}function SpiceBrush(){}function SpiceFill(){}function SpiceCopy(){}function SpicePoint16(){}function SpicePoint(){}function SpiceCursorHeader(){}function SpiceCursor(){}function SpiceSurface(){}function SpiceLinkHeader(t,e){this.magic=SPICE_MAGIC,this.major_version=SPICE_VERSION_MAJOR,this.minor_version=SPICE_VERSION_MINOR,this.size=0,void 0!==t&&this.from_buffer(t,e)}function SpiceLinkMess(t,e){this.connection_id=0,this.channel_type=0,this.channel_id=0,this.common_caps=[],this.channel_caps=[],void 0!==t&&this.from_buffer(t,e)}function SpiceLinkReply(t,e){this.error=0,this.pub_key=void 0,this.common_caps=[],this.channel_caps=[],void 0!==t&&this.from_buffer(t,e)}function SpiceLinkAuthTicket(){this.auth_mechanism=0,this.encrypted_data=void 0}function SpiceLinkAuthReply(t,e){this.auth_code=0,void 0!==t&&this.from_buffer(t,e)}function SpiceMiniData(t,e){this.type=0,this.size=0,this.data=void 0,void 0!==t&&this.from_buffer(t,e)}function SpiceMsgChannels(t,e){this.num_of_channels=0,this.channels=[],void 0!==t&&this.from_buffer(t,e)}function SpiceMsgMainInit(t,e){this.from_buffer(t,e)}function SpiceMsgMainMouseMode(t,e){this.from_buffer(t,e)}function SpiceMsgSetAck(t,e){this.from_buffer(t,e)}function SpiceMsgcAckSync(t){this.generation=t.generation}function SpiceMsgcMainMouseModeRequest(t){this.mode=t}function SpiceMsgNotify(t,e){this.from_buffer(t,e)}function SpiceMsgcDisplayInit(){this.pixmap_cache_id=1,this.glz_dictionary_id=0,this.pixmap_cache_size=10485760,this.glz_dictionary_window_size=0}function SpiceMsgDisplayBase(){}function SpiceMsgDisplayDrawCopy(t,e){this.from_buffer(t,e)}function SpiceMsgDisplayDrawFill(t,e){this.from_buffer(t,e)}function SpiceMsgDisplayCopyBits(t,e){this.from_buffer(t,e)}function SpiceMsgSurfaceCreate(t,e){this.from_buffer(t,e)}function SpiceMsgSurfaceDestroy(t,e){this.from_buffer(t,e)}function SpiceMsgInputsInit(t,e){this.from_buffer(t,e)}function SpiceMsgInputsKeyModifiers(t,e){this.from_buffer(t,e)}function SpiceMsgCursorInit(t,e){this.from_buffer(t,e)}function SpiceMsgCursorSet(t,e){this.from_buffer(t,e)}function SpiceMsgcMousePosition(t,e){this.display_id=0,this.buttons_state=t.buttons_state,e?(this.x=e.clientX-t.display.surfaces[t.display.primary_surface].canvas.offsetLeft+document.body.scrollLeft,this.y=e.clientY-t.display.surfaces[t.display.primary_surface].canvas.offsetTop+document.body.scrollTop,t.mousex=this.x,t.mousey=this.y):this.x=this.y=this.buttons_state=0}function SpiceMsgcMouseMotion(t,e){this.display_id=0,this.buttons_state=t.buttons_state,e?(this.x=e.clientX-t.display.surfaces[t.display.primary_surface].canvas.offsetLeft,this.y=e.clientY-t.display.surfaces[t.display.primary_surface].canvas.offsetTop,void 0!==t.mousex&&(this.x-=t.mousex,this.y-=t.mousey),t.mousex=e.clientX-t.display.surfaces[t.display.primary_surface].canvas.offsetLeft,t.mousey=e.clientY-t.display.surfaces[t.display.primary_surface].canvas.offsetTop):this.x=this.y=this.buttons_state=0}function SpiceMsgcMousePress(t,e){e?(this.button=e.button+1,this.buttons_state=1<<e.button,t.buttons_state=this.buttons_state):(this.button=SPICE_MOUSE_BUTTON_LEFT,this.buttons_state=SPICE_MOUSE_BUTTON_MASK_LEFT)}function SpiceMsgcMouseRelease(t,e){e?(this.button=e.button+1,this.buttons_state=0,t.buttons_state=this.buttons_state):(this.button=SPICE_MOUSE_BUTTON_LEFT,this.buttons_state=0)}function SpiceMsgcKeyDown(t){this.code=t?keycode_to_start_scan(t.keyCode):0}function SpiceMsgcKeyUp(t){this.code=t?keycode_to_end_scan(t.keyCode):0}function SpiceMsgDisplayStreamCreate(t,e){this.from_buffer(t,e)}function SpiceStreamDataHeader(){}function SpiceMsgDisplayStreamData(t,e){this.from_buffer(t,e)}function SpiceMsgDisplayStreamClip(t,e){this.from_buffer(t,e)}function SpiceMsgDisplayStreamDestroy(t,e){this.from_buffer(t,e)}function SpiceWireReader(t,e){this.sc=t,this.callback=e,this.needed=0,this.buffers=[],this.sc.ws.wire_reader=this,this.sc.ws.binaryType="arraybuffer",this.sc.ws.addEventListener("message",wire_blob_catcher)}function wire_blob_catcher(t){DEBUG>1&&console.log(">> WebSockets.onmessage"),DEBUG>1&&console.log("id "+this.wire_reader.sc.connection_id+"; type "+this.wire_reader.sc.type),SpiceWireReader.prototype.inbound.call(this.wire_reader,t.data)}function SpiceConn(t){if(void 0===t||void 0===t.uri||!t.uri)throw new Error("You must specify a uri");if(this.ws=new WebSocket(t.uri,"binary"),!this.ws.binaryType)throw new Error("WebSocket doesn't support binaryType.  Try a different browser.");if(this.connection_id=void 0!==t.connection_id?t.connection_id:0,this.type=void 0!==t.type?t.type:SPICE_CHANNEL_MAIN,this.chan_id=void 0!==t.chan_id?t.chan_id:0,void 0!==t.parent&&(this.parent=t.parent,this.message_id=t.parent.message_id,this.password=t.parent.password),void 0!==t.screen_id&&(this.screen_id=t.screen_id),void 0!==t.dump_id&&(this.dump_id=t.dump_id),void 0!==t.message_id&&(this.message_id=t.message_id),void 0!==t.password&&(this.password=t.password),void 0!==t.onerror&&(this.onerror=t.onerror),void 0!==t.onsuccess&&(this.onsuccess=t.onsuccess),this.state="connecting",this.ws.parent=this,this.wire_reader=new SpiceWireReader(this,this.process_inbound),this.messages_sent=0,this.warnings=[],this.ws.addEventListener("open",function(){DEBUG>0&&console.log(">> WebSockets.onopen"),DEBUG>0&&console.log("id "+this.parent.connection_id+"; type "+this.parent.type),this.parent.send_hdr(),this.parent.wire_reader.request(SpiceLinkHeader.prototype.buffer_size()),this.parent.state="start"}),this.ws.addEventListener("error",function(t){this.parent.log_err(">> WebSockets.onerror"+t.toString()),this.parent.report_error(t)}),this.ws.addEventListener("close",function(t){if(DEBUG>0&&console.log(">> WebSockets.onclose"),DEBUG>0&&console.log("id "+this.parent.connection_id+"; type "+this.parent.type),DEBUG>0&&console.log(t),"closing"!=this.parent.state&&"error"!=this.parent.state&&void 0!==this.parent.onerror){var t;t="connecting"==this.parent.state?new Error("Connection refused."):"start"==this.parent.state||"link"==this.parent.state?new Error("Unexpected protocol mismatch."):"ticket"==this.parent.state?new Error("Bad password."):new Error("Unexpected close while "+this.parent.state),this.parent.onerror(t),this.parent.log_err(t.toString())}}),2==this.ws.readyState||3==this.ws.readyState)throw new Error("Unable to connect to "+t.uri);this.timeout=window.setTimeout(spiceconn_timeout,SPICE_CONNECT_TIMEOUT,this)}function spiceconn_timeout(t){SpiceConn.prototype.handle_timeout.call(t)}function putImageDataWithAlpha(t,e,n,i){var r=document.createElement("canvas"),o=r.getContext("2d");r.setAttribute("width",e.width),r.setAttribute("height",e.height),o.putImageData(e,0,0),t.drawImage(r,n,i,e.width,e.height)}function stripAlpha(t){var e;for(e=0;e<t.width*t.height*4;e+=4)t.data[e+3]=255}function SpiceDisplayConn(){SpiceConn.apply(this,arguments)}function handle_mouseover(){this.focus()}function handle_mouseout(){this.blur()}function handle_draw_jpeg_onload(){var t,e=null;if(void 0===this.o.sc.surfaces[this.o.base.surface_id]?(DEBUG>2&&this.o.sc.log_info("Discarding jpeg; presumed lost surface "+this.o.base.surface_id),e=document.createElement("canvas"),e.setAttribute("width",this.o.base.box.right),e.setAttribute("height",this.o.base.box.bottom),t=e.getContext("2d")):t=this.o.sc.surfaces[this.o.base.surface_id].canvas.context,this.alpha_img){var n=document.createElement("canvas"),i=n.getContext("2d");n.setAttribute("width",this.alpha_img.width),n.setAttribute("height",this.alpha_img.height),i.putImageData(this.alpha_img,0,0),i.globalCompositeOperation="source-in",i.drawImage(this,0,0),t.drawImage(n,this.o.base.box.left,this.o.base.box.top),this.o.descriptor&&this.o.descriptor.flags&SPICE_IMAGE_FLAGS_CACHE_ME&&("cache"in this.o.sc||(this.o.sc.cache=[]),this.o.sc.cache[this.o.descriptor.id]=i.getImageData(0,0,this.alpha_img.width,this.alpha_img.height))}else t.drawImage(this,this.o.base.box.left,this.o.base.box.top),this.o.descriptor&&this.o.descriptor.flags&SPICE_IMAGE_FLAGS_CACHE_ME&&("cache"in this.o.sc||(this.o.sc.cache=[]),this.o.sc.cache[this.o.descriptor.id]=t.getImageData(this.o.base.box.left,this.o.base.box.top,this.o.base.box.right-this.o.base.box.left,this.o.base.box.bottom-this.o.base.box.top));if(null==e){if(DUMP_DRAWS&&this.o.sc.parent.dump_id){var r=document.createElement("canvas");r.setAttribute("id",this.o.tag+"."+this.o.sc.surfaces[this.o.base.surface_id].draw_count+"."+this.o.base.surface_id+"@"+this.o.base.box.left+"x"+this.o.base.box.top),r.getContext("2d").drawImage(this,0,0),document.getElementById(this.o.sc.parent.dump_id).appendChild(r)}this.o.sc.surfaces[this.o.base.surface_id].draw_count++}}function SpiceMainConn(){if("undefined"==typeof WebSocket)throw new Error("WebSocket unavailable.  You need to use a different browser.");SpiceConn.apply(this,arguments)}function SpiceInputsConn(){SpiceConn.apply(this,arguments),this.mousex=void 0,this.mousey=void 0,this.button_state=0,this.waiting_for_ack=0}function handle_mousemove(t){var e,n=new SpiceMiniData;this.sc.mouse_mode==SPICE_MOUSE_MODE_CLIENT?(e=new SpiceMsgcMousePosition(this.sc,t),n.build_msg(SPICE_MSGC_INPUTS_MOUSE_POSITION,e)):(e=new SpiceMsgcMouseMotion(this.sc,t),n.build_msg(SPICE_MSGC_INPUTS_MOUSE_MOTION,e)),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&(this.sc.inputs.waiting_for_ack<2*SPICE_INPUT_MOTION_ACK_BUNCH?(this.sc.inputs.send_msg(n),this.sc.inputs.waiting_for_ack++):DEBUG>0&&this.sc.log_info("Discarding mouse motion"))}function handle_mousedown(t){var e=new SpiceMsgcMousePress(this.sc,t),n=new SpiceMiniData;n.build_msg(SPICE_MSGC_INPUTS_MOUSE_PRESS,e),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&this.sc.inputs.send_msg(n),t.preventDefault()}function handle_contextmenu(t){return t.preventDefault(),!1}function handle_mouseup(t){var e=new SpiceMsgcMouseRelease(this.sc,t),n=new SpiceMiniData;n.build_msg(SPICE_MSGC_INPUTS_MOUSE_RELEASE,e),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&this.sc.inputs.send_msg(n),t.preventDefault()}function handle_mousewheel(t){var e=new SpiceMsgcMousePress,n=new SpiceMsgcMouseRelease;e.button=n.button=t.wheelDelta>0?SPICE_MOUSE_BUTTON_UP:SPICE_MOUSE_BUTTON_DOWN,e.buttons_state=0,n.buttons_state=0;var i=new SpiceMiniData;i.build_msg(SPICE_MSGC_INPUTS_MOUSE_PRESS,e),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&this.sc.inputs.send_msg(i),i.build_msg(SPICE_MSGC_INPUTS_MOUSE_RELEASE,n),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&this.sc.inputs.send_msg(i),t.preventDefault()}function handle_keydown(t){var e=new SpiceMsgcKeyDown(t),n=new SpiceMiniData;check_and_update_modifiers(t,e.code,this.sc),n.build_msg(SPICE_MSGC_INPUTS_KEY_DOWN,e),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&this.sc.inputs.send_msg(n),t.preventDefault()}function handle_keyup(t){var e=new SpiceMsgcKeyUp(t),n=new SpiceMiniData;check_and_update_modifiers(t,e.code,this.sc),n.build_msg(SPICE_MSGC_INPUTS_KEY_UP,e),this.sc&&this.sc.inputs&&"ready"===this.sc.inputs.state&&this.sc.inputs.send_msg(n),t.preventDefault()}function sendCtrlAltDel(){if(sc&&sc.inputs&&"ready"===sc.inputs.state){var t=new SpiceMsgcKeyDown,e=new SpiceMiniData;update_modifier(!0,KEY_LCtrl,sc),update_modifier(!0,KEY_Alt,sc),t.code=KEY_KP_Decimal,e.build_msg(SPICE_MSGC_INPUTS_KEY_DOWN,t),sc.inputs.send_msg(e),e.build_msg(SPICE_MSGC_INPUTS_KEY_UP,t),sc.inputs.send_msg(e),0==Ctrl_state&&update_modifier(!1,KEY_LCtrl,sc),0==Alt_state&&update_modifier(!1,KEY_Alt,sc)}}function update_modifier(t,e,n){var i=new SpiceMiniData;if(t){var r=new SpiceMsgcKeyDown;r.code=e,i.build_msg(SPICE_MSGC_INPUTS_KEY_DOWN,r)}else{var r=new SpiceMsgcKeyUp;r.code=128|e,i.build_msg(SPICE_MSGC_INPUTS_KEY_UP,r)}n.inputs.send_msg(i)}function check_and_update_modifiers(t,e,n){-1===Shift_state&&(Shift_state=t.shiftKey,Ctrl_state=t.ctrlKey,Alt_state=t.altKey,Meta_state=t.metaKey),e===KEY_ShiftL?Shift_state=!0:e===KEY_Alt?Alt_state=!0:e===KEY_LCtrl?Ctrl_state=!0:57525===e?Meta_state=!0:e===(128|KEY_ShiftL)?Shift_state=!1:e===(128|KEY_Alt)?Alt_state=!1:e===(128|KEY_LCtrl)?Ctrl_state=!1:57525===e&&(Meta_state=!1),n&&n.inputs&&"ready"===n.inputs.state&&(Shift_state!=t.shiftKey&&(console.log("Shift state out of sync"),update_modifier(t.shiftKey,KEY_ShiftL,n),Shift_state=t.shiftKey),Alt_state!=t.altKey&&(console.log("Alt state out of sync"),update_modifier(t.altKey,KEY_Alt,n),Alt_state=t.altKey),Ctrl_state!=t.ctrlKey&&(console.log("Ctrl state out of sync"),update_modifier(t.ctrlKey,KEY_LCtrl,n),Ctrl_state=t.ctrlKey),Meta_state!=t.metaKey&&(console.log("Meta state out of sync"),update_modifier(t.metaKey,57525,n),Meta_state=t.metaKey))}function SpiceCursorConn(){SpiceConn.apply(this,arguments)}function BigInteger(t,e,n){null!=t&&("number"==typeof t?this.fromNumber(t,e,n):null==e&&"string"!=typeof t?this.fromString(t,256):this.fromString(t,e))}function nbi(){return new BigInteger(null)}function am1(t,e,n,i,r,o){for(;--o>=0;){var s=e*this[t++]+n[i]+r;r=Math.floor(s/67108864),n[i++]=67108863&s}return r}function am2(t,e,n,i,r,o){for(var s=32767&e,a=e>>15;--o>=0;){var c=32767&this[t],l=this[t++]>>15,u=a*c+l*s;c=s*c+((32767&u)<<15)+n[i]+(1073741823&r),r=(c>>>30)+(u>>>15)+a*l+(r>>>30),n[i++]=1073741823&c}return r}function am3(t,e,n,i,r,o){for(var s=16383&e,a=e>>14;--o>=0;){var c=16383&this[t],l=this[t++]>>14,u=a*c+l*s;c=s*c+((16383&u)<<14)+n[i]+r,r=(c>>28)+(u>>14)+a*l,n[i++]=268435455&c}return r}function int2char(t){return BI_RM.charAt(t)}function intAt(t,e){var n=BI_RC[t.charCodeAt(e)];return null==n?-1:n}function bnpCopyTo(t){for(var e=this.t-1;e>=0;--e)t[e]=this[e];t.t=this.t,t.s=this.s}function bnpFromInt(t){this.t=1,this.s=0>t?-1:0,t>0?this[0]=t:-1>t?this[0]=t+DV:this.t=0}function nbv(t){var e=nbi();return e.fromInt(t),e}function bnpFromString(t,e){var n;if(16==e)n=4;else if(8==e)n=3;else if(256==e)n=8;else if(2==e)n=1;else if(32==e)n=5;else{if(4!=e)return this.fromRadix(t,e),void 0;n=2}this.t=0,this.s=0;for(var i=t.length,r=!1,o=0;--i>=0;){var s=8==n?255&t[i]:intAt(t,i);0>s?"-"==t.charAt(i)&&(r=!0):(r=!1,0==o?this[this.t++]=s:o+n>this.DB?(this[this.t-1]|=(s&(1<<this.DB-o)-1)<<o,this[this.t++]=s>>this.DB-o):this[this.t-1]|=s<<o,o+=n,o>=this.DB&&(o-=this.DB))}8==n&&0!=(128&t[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),r&&BigInteger.ZERO.subTo(this,this)}function bnpClamp(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}function bnToString(t){if(this.s<0)return"-"+this.negate().toString(t);var e;if(16==t)e=4;else if(8==t)e=3;else if(2==t)e=1;else if(32==t)e=5;else{if(4!=t)return this.toRadix(t);e=2}var n,i=(1<<e)-1,r=!1,o="",s=this.t,a=this.DB-s*this.DB%e;if(s-->0)for(a<this.DB&&(n=this[s]>>a)>0&&(r=!0,o=int2char(n));s>=0;)e>a?(n=(this[s]&(1<<a)-1)<<e-a,n|=this[--s]>>(a+=this.DB-e)):(n=this[s]>>(a-=e)&i,0>=a&&(a+=this.DB,--s)),n>0&&(r=!0),r&&(o+=int2char(n));return r?o:"0"}function bnNegate(){var t=nbi();return BigInteger.ZERO.subTo(this,t),t}function bnAbs(){return this.s<0?this.negate():this}function bnCompareTo(t){var e=this.s-t.s;if(0!=e)return e;var n=this.t;if(e=n-t.t,0!=e)return e;for(;--n>=0;)if(0!=(e=this[n]-t[n]))return e;return 0}function nbits(t){var e,n=1;return 0!=(e=t>>>16)&&(t=e,n+=16),0!=(e=t>>8)&&(t=e,n+=8),0!=(e=t>>4)&&(t=e,n+=4),0!=(e=t>>2)&&(t=e,n+=2),0!=(e=t>>1)&&(t=e,n+=1),n}function bnBitLength(){return this.t<=0?0:this.DB*(this.t-1)+nbits(this[this.t-1]^this.s&this.DM)}function bnpDLShiftTo(t,e){var n;for(n=this.t-1;n>=0;--n)e[n+t]=this[n];for(n=t-1;n>=0;--n)e[n]=0;e.t=this.t+t,e.s=this.s}function bnpDRShiftTo(t,e){for(var n=t;n<this.t;++n)e[n-t]=this[n];e.t=Math.max(this.t-t,0),e.s=this.s}function bnpLShiftTo(t,e){var n,i=t%this.DB,r=this.DB-i,o=(1<<r)-1,s=Math.floor(t/this.DB),a=this.s<<i&this.DM;for(n=this.t-1;n>=0;--n)e[n+s+1]=this[n]>>r|a,a=(this[n]&o)<<i;for(n=s-1;n>=0;--n)e[n]=0;e[s]=a,e.t=this.t+s+1,e.s=this.s,e.clamp()}function bnpRShiftTo(t,e){e.s=this.s;var n=Math.floor(t/this.DB);if(n>=this.t)return e.t=0,void 0;var i=t%this.DB,r=this.DB-i,o=(1<<i)-1;e[0]=this[n]>>i;for(var s=n+1;s<this.t;++s)e[s-n-1]|=(this[s]&o)<<r,e[s-n]=this[s]>>i;i>0&&(e[this.t-n-1]|=(this.s&o)<<r),e.t=this.t-n,e.clamp()}function bnpSubTo(t,e){for(var n=0,i=0,r=Math.min(t.t,this.t);r>n;)i+=this[n]-t[n],e[n++]=i&this.DM,i>>=this.DB;if(t.t<this.t){for(i-=t.s;n<this.t;)i+=this[n],e[n++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;n<t.t;)i-=t[n],e[n++]=i&this.DM,i>>=this.DB;i-=t.s}e.s=0>i?-1:0,-1>i?e[n++]=this.DV+i:i>0&&(e[n++]=i),e.t=n,e.clamp()}function bnpMultiplyTo(t,e){var n=this.abs(),i=t.abs(),r=n.t;for(e.t=r+i.t;--r>=0;)e[r]=0;for(r=0;r<i.t;++r)e[r+n.t]=n.am(0,i[r],e,r,0,n.t);e.s=0,e.clamp(),this.s!=t.s&&BigInteger.ZERO.subTo(e,e)}function bnpSquareTo(t){for(var e=this.abs(),n=t.t=2*e.t;--n>=0;)t[n]=0;for(n=0;n<e.t-1;++n){var i=e.am(n,e[n],t,2*n,0,1);(t[n+e.t]+=e.am(n+1,2*e[n],t,2*n+1,i,e.t-n-1))>=e.DV&&(t[n+e.t]-=e.DV,t[n+e.t+1]=1)}t.t>0&&(t[t.t-1]+=e.am(n,e[n],t,2*n,0,1)),t.s=0,t.clamp()}function bnpDivRemTo(t,e,n){var i=t.abs();if(!(i.t<=0)){var r=this.abs();if(r.t<i.t)return null!=e&&e.fromInt(0),null!=n&&this.copyTo(n),void 0;null==n&&(n=nbi());var o=nbi(),s=this.s,a=t.s,c=this.DB-nbits(i[i.t-1]);c>0?(i.lShiftTo(c,o),r.lShiftTo(c,n)):(i.copyTo(o),r.copyTo(n));var l=o.t,u=o[l-1];if(0!=u){var h=u*(1<<this.F1)+(l>1?o[l-2]>>this.F2:0),p=this.FV/h,d=(1<<this.F1)/h,f=1<<this.F2,m=n.t,_=m-l,g=null==e?nbi():e;for(o.dlShiftTo(_,g),n.compareTo(g)>=0&&(n[n.t++]=1,n.subTo(g,n)),BigInteger.ONE.dlShiftTo(l,g),g.subTo(o,o);o.t<l;)o[o.t++]=0;for(;--_>=0;){var v=n[--m]==u?this.DM:Math.floor(n[m]*p+(n[m-1]+f)*d);if((n[m]+=o.am(0,v,n,_,0,l))<v)for(o.dlShiftTo(_,g),n.subTo(g,n);n[m]<--v;)n.subTo(g,n)}null!=e&&(n.drShiftTo(l,e),s!=a&&BigInteger.ZERO.subTo(e,e)),n.t=l,n.clamp(),c>0&&n.rShiftTo(c,n),0>s&&BigInteger.ZERO.subTo(n,n)}}}function bnMod(t){var e=nbi();return this.abs().divRemTo(t,null,e),this.s<0&&e.compareTo(BigInteger.ZERO)>0&&t.subTo(e,e),e}function Classic(t){this.m=t}function cConvert(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}function cRevert(t){return t}function cReduce(t){t.divRemTo(this.m,null,t)}function cMulTo(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function cSqrTo(t,e){t.squareTo(e),this.reduce(e)}function bnpInvDigit(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var e=3&t;return e=e*(2-(15&t)*e)&15,e=e*(2-(255&t)*e)&255,e=e*(2-((65535&t)*e&65535))&65535,e=e*(2-t*e%this.DV)%this.DV,e>0?this.DV-e:-e}function Montgomery(t){this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}function montConvert(t){var e=nbi();return t.abs().dlShiftTo(this.m.t,e),e.divRemTo(this.m,null,e),t.s<0&&e.compareTo(BigInteger.ZERO)>0&&this.m.subTo(e,e),e}function montRevert(t){var e=nbi();return t.copyTo(e),this.reduce(e),e}function montReduce(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var e=0;e<this.m.t;++e){var n=32767&t[e],i=n*this.mpl+((n*this.mph+(t[e]>>15)*this.mpl&this.um)<<15)&t.DM;for(n=e+this.m.t,t[n]+=this.m.am(0,i,t,e,0,this.m.t);t[n]>=t.DV;)t[n]-=t.DV,t[++n]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}function montSqrTo(t,e){t.squareTo(e),this.reduce(e)}function montMulTo(t,e,n){t.multiplyTo(e,n),this.reduce(n)}function bnpIsEven(){return 0==(this.t>0?1&this[0]:this.s)}function bnpExp(t,e){if(t>4294967295||1>t)return BigInteger.ONE;var n=nbi(),i=nbi(),r=e.convert(this),o=nbits(t)-1;for(r.copyTo(n);--o>=0;)if(e.sqrTo(n,i),(t&1<<o)>0)e.mulTo(i,r,n);else{var s=n;n=i,i=s}return e.revert(n)}function bnModPowInt(t,e){var n;return n=256>t||e.isEven()?new Classic(e):new Montgomery(e),this.exp(t,n)}function parseBigInt(t,e){return new BigInteger(t,e)}function linebrk(t,e){for(var n="",i=0;i+e<t.length;)n+=t.substring(i,i+e)+"\n",i+=e;return n+t.substring(i,t.length)}function byte2Hex(t){return 16>t?"0"+t.toString(16):t.toString(16)}function pkcs1pad2(t,e){if(e<t.length+11)return alert("Message too long for RSA"),null;for(var n=new Array,i=t.length-1;i>=0&&e>0;){var r=t.charCodeAt(i--);128>r?n[--e]=r:r>127&&2048>r?(n[--e]=63&r|128,n[--e]=r>>6|192):(n[--e]=63&r|128,n[--e]=r>>6&63|128,n[--e]=r>>12|224)}n[--e]=0;for(var o=new SecureRandom,s=new Array;e>2;){for(s[0]=0;0==s[0];)o.nextBytes(s);n[--e]=s[0]}return n[--e]=2,n[--e]=0,new BigInteger(n)}function RSAKey(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function RSASetPublic(t,e){null!=t&&null!=e&&t.length>0&&e.length>0?(this.n=parseBigInt(t,16),this.e=parseInt(e,16)):alert("Invalid RSA public key")}function RSADoPublic(t){return t.modPowInt(this.e,this.n)}function RSAEncrypt(t){var e=pkcs1pad2(t,this.n.bitLength()+7>>3);if(null==e)return null;var n=this.doPublic(e);if(null==n)return null;var i=n.toString(16);return 0==(1&i.length)?i:"0"+i}function Arcfour(){this.i=0,this.j=0,this.S=new Array}function ARC4init(t){var e,n,i;for(e=0;256>e;++e)this.S[e]=e;for(n=0,e=0;256>e;++e)n=n+this.S[e]+t[e%t.length]&255,i=this.S[e],this.S[e]=this.S[n],this.S[n]=i;this.i=0,this.j=0}function ARC4next(){var t;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,t=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=t,this.S[t+this.S[this.i]&255]}function prng_newstate(){return new Arcfour}function rng_seed_int(t){rng_pool[rng_pptr++]^=255&t,rng_pool[rng_pptr++]^=t>>8&255,rng_pool[rng_pptr++]^=t>>16&255,rng_pool[rng_pptr++]^=t>>24&255,rng_pptr>=rng_psize&&(rng_pptr-=rng_psize)}function rng_seed_time(){rng_seed_int((new Date).getTime())}function rng_get_byte(){if(null==rng_state){for(rng_seed_time(),rng_state=prng_newstate(),rng_state.init(rng_pool),rng_pptr=0;rng_pptr<rng_pool.length;++rng_pptr)rng_pool[rng_pptr]=0;rng_pptr=0}return rng_state.next()}function rng_get_bytes(t){var e;for(e=0;e<t.length;++e)t[e]=rng_get_byte()}function SecureRandom(){}function hex_sha1(t){return rstr2hex(rstr_sha1(str2rstr_utf8(t)))}function b64_sha1(t){return rstr2b64(rstr_sha1(str2rstr_utf8(t)))}function any_sha1(t,e){return rstr2any(rstr_sha1(str2rstr_utf8(t)),e)}function hex_hmac_sha1(t,e){return rstr2hex(rstr_hmac_sha1(str2rstr_utf8(t),str2rstr_utf8(e)))}function b64_hmac_sha1(t,e){return rstr2b64(rstr_hmac_sha1(str2rstr_utf8(t),str2rstr_utf8(e)))}function any_hmac_sha1(t,e,n){return rstr2any(rstr_hmac_sha1(str2rstr_utf8(t),str2rstr_utf8(e)),n)}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc").toLowerCase()}function rstr_sha1(t){return binb2rstr(binb_sha1(rstr2binb(t),8*t.length))}function rstr_hmac_sha1(t,e){var n=rstr2binb(t);n.length>16&&(n=binb_sha1(n,8*t.length));for(var i=Array(16),r=Array(16),o=0;16>o;o++)i[o]=909522486^n[o],r[o]=1549556828^n[o];var s=binb_sha1(i.concat(rstr2binb(e)),512+8*e.length);return binb2rstr(binb_sha1(r.concat(s),672))}function rstr2hex(t){try{}catch(e){hexcase=0}for(var n,i=hexcase?"0123456789ABCDEF":"0123456789abcdef",r="",o=0;o<t.length;o++)n=t.charCodeAt(o),r+=i.charAt(n>>>4&15)+i.charAt(15&n);return r}function rstr2b64(t){try{}catch(e){b64pad=""}for(var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i="",r=t.length,o=0;r>o;o+=3)for(var s=t.charCodeAt(o)<<16|(r>o+1?t.charCodeAt(o+1)<<8:0)|(r>o+2?t.charCodeAt(o+2):0),a=0;4>a;a++)i+=8*o+6*a>8*t.length?b64pad:n.charAt(s>>>6*(3-a)&63);return i}function rstr2any(t,e){var n,i,r,o,s=e.length,a=Array(),c=Array(Math.ceil(t.length/2));for(n=0;n<c.length;n++)c[n]=t.charCodeAt(2*n)<<8|t.charCodeAt(2*n+1);for(;c.length>0;){for(o=Array(),r=0,n=0;n<c.length;n++)r=(r<<16)+c[n],i=Math.floor(r/s),r-=i*s,(o.length>0||i>0)&&(o[o.length]=i);a[a.length]=r,c=o}var l="";for(n=a.length-1;n>=0;n--)l+=e.charAt(a[n]);var u=Math.ceil(8*t.length/(Math.log(e.length)/Math.log(2)));for(n=l.length;u>n;n++)l=e[0]+l;return l}function str2rstr_utf8(t){for(var e,n,i="",r=-1;++r<t.length;)e=t.charCodeAt(r),n=r+1<t.length?t.charCodeAt(r+1):0,e>=55296&&56319>=e&&n>=56320&&57343>=n&&(e=65536+((1023&e)<<10)+(1023&n),r++),127>=e?i+=String.fromCharCode(e):2047>=e?i+=String.fromCharCode(192|e>>>6&31,128|63&e):65535>=e?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):2097151>=e&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function str2rstr_utf16le(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(255&t.charCodeAt(n),t.charCodeAt(n)>>>8&255);return e}function str2rstr_utf16be(t){for(var e="",n=0;n<t.length;n++)e+=String.fromCharCode(t.charCodeAt(n)>>>8&255,255&t.charCodeAt(n));return e}function rstr2binb(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(var n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function binb2rstr(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}function binb_sha1(t,e){t[e>>5]|=128<<24-e%32,t[(e+64>>9<<4)+15]=e;for(var n=Array(80),i=1732584193,r=-271733879,o=-1732584194,s=271733878,a=-1009589776,c=0;c<t.length;c+=16){for(var l=i,u=r,h=o,p=s,d=a,f=0;80>f;f++){n[f]=16>f?t[c+f]:bit_rol(n[f-3]^n[f-8]^n[f-14]^n[f-16],1);var m=safe_add(safe_add(bit_rol(i,5),sha1_ft(f,r,o,s)),safe_add(safe_add(a,n[f]),sha1_kt(f)));a=s,s=o,o=bit_rol(r,30),r=i,i=m}i=safe_add(i,l),r=safe_add(r,u),o=safe_add(o,h),s=safe_add(s,p),a=safe_add(a,d)}return Array(i,r,o,s,a)}function sha1_ft(t,e,n,i){return 20>t?e&n|~e&i:40>t?e^n^i:60>t?e&n|e&i|n&i:e^n^i}function sha1_kt(t){return 20>t?1518500249:40>t?1859775393:60>t?-1894007588:-899497514}function safe_add(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n}function bit_rol(t,e){return t<<e|t>>>32-e}function MGF1(t,e){var n,i,r;
for(n=0,r=0;r<t.length;n++){var o=new String;for(i=0;i<e.length;i++)o+=String.fromCharCode(e[i]);o+=String.fromCharCode(n>>24&255),o+=String.fromCharCode(n>>16&255),o+=String.fromCharCode(n>>8&255),o+=String.fromCharCode(255&n);var s=rstr_sha1(o);for(i=0;i<s.length&&r<t.length;i++,r++)t[r]=s.charCodeAt(i)}}function RSA_padding_add_PKCS1_OAEP(t,e,n){var i=new Array(SHA_DIGEST_LENGTH),r=new SecureRandom;r.nextBytes(i);var o,s=t-1-i.length,a=new Array(s),c=s-e.length-1;if(void 0===n&&(n=""),SHA_DIGEST_LENGTH>c)return console.log("Error - data too large for key size."),null;for(o=0;c>o;o++)a[o]=0;var l=rstr_sha1(n);for(o=0;o<l.length;o++)a[o]=l.charCodeAt(o);for(a[c]=1,o=0;o<e.length;o++)a[o+c+1]=e.charCodeAt(o);var u=new Array(s);if(MGF1(u,i)<0)return null;for(o=0;o<u.length;o++)a[o]^=u[o];var h=Array(SHA_DIGEST_LENGTH);if(MGF1(h,a)<0)return null;for(o=0;o<h.length;o++)i[o]^=h[o];var p=new String;for(p+=String.fromCharCode(0),o=0;o<i.length;o++)p+=String.fromCharCode(i[o]);for(o=0;o<a.length;o++)p+=String.fromCharCode(a[o]);return p}function asn_get_length(t,e){var n=t[e++];if(n>128){if(129!=n)return console.log("Error:  we lazily don't support keys bigger than 255 bytes.  It'd be easy to fix."),null;n=t[e++]}return[e,n]}function find_sequence(t,e){var n;return e=e||0,48!=t[e++]?(console.log("Error:  public key should start with a sequence flag."),null):(n=asn_get_length(t,e),n?n:null)}function create_rsa_from_mb(t,e){var n,i,r,o,s,a=new Uint8Array(t);if(i=find_sequence(a,e),!i)return null;if(e=i[0],i=find_sequence(a,e),!i)return null;if(e=i[0]+i[1],3!=a[e++])return console.log("Error: expecting bit string next."),null;if(n=asn_get_length(a,e),!n)return null;if(e=n[0],0!=a[e]&&48!=a[e+1])return console.log("Error: unexpected values in bit string."),null;if(i=find_sequence(a,e+1),!i)return null;if(e=i[0],2!=a[e++])return console.log("Error: expecting integer n next."),null;if(n=asn_get_length(a,e),!n)return null;for(e=n[0],r=new Array(n[1]),o=0;o<n[1];o++)r[o]=a[e+o];if(s=new RSAKey,s.n=new BigInteger(r),e+=n[1],2!=a[e++])return console.log("Error: expecting integer e next."),null;if(n=asn_get_length(a,e),!n)return null;for(e=n[0],s.e=a[e++],o=1;o<n[1];o++)s.e<<=8,s.e|=a[e++];return s}function rsa_encrypt(t,e){var n,i=[],r=RSA_padding_add_PKCS1_OAEP(t.n.bitLength()+7>>3,e);if(!r)return null;var o=new Array(r.length);for(n=0;n<r.length;n++)o[n]=r.charCodeAt(n);var s=new BigInteger(o),a=t.doPublic(s),c=a.toString(16);for(0!=(1&c.length)&&(c="0"+c),n=0;n<c.length;n+=2)i[n/2]=parseInt(c.substring(n,n+2),16);return i}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e=t.length,n=oe.type(t);return"function"===n||oe.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function i(t,e,n){if(oe.isFunction(e))return oe.grep(t,function(t,i){return!!e.call(t,i,t)!==n});if(e.nodeType)return oe.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(de.test(e))return oe.filter(e,t,n);e=oe.filter(e,t)}return oe.grep(t,function(t){return oe.inArray(t,e)>=0!==n})}function r(t,e){do t=t[e];while(t&&1!==t.nodeType);return t}function o(t){var e=we[t]={};return oe.each(t.match(be)||[],function(t,n){e[n]=!0}),e}function s(){me.addEventListener?(me.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1)):(me.detachEvent("onreadystatechange",a),t.detachEvent("onload",a))}function a(){(me.addEventListener||"load"===event.type||"complete"===me.readyState)&&(s(),oe.ready())}function c(t,e,n){if(void 0===n&&1===t.nodeType){var i="data-"+e.replace(xe,"-$1").toLowerCase();if(n=t.getAttribute(i),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:$e.test(n)?oe.parseJSON(n):n}catch(r){}oe.data(t,e,n)}else n=void 0}return n}function l(t){var e;for(e in t)if(("data"!==e||!oe.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function u(t,e,n,i){if(oe.acceptData(t)){var r,o,s=oe.expando,a=t.nodeType,c=a?oe.cache:t,l=a?t[s]:t[s]&&s;if(l&&c[l]&&(i||c[l].data)||void 0!==n||"string"!=typeof e)return l||(l=a?t[s]=V.pop()||oe.guid++:s),c[l]||(c[l]=a?{}:{toJSON:oe.noop}),("object"==typeof e||"function"==typeof e)&&(i?c[l]=oe.extend(c[l],e):c[l].data=oe.extend(c[l].data,e)),o=c[l],i||(o.data||(o.data={}),o=o.data),void 0!==n&&(o[oe.camelCase(e)]=n),"string"==typeof e?(r=o[e],null==r&&(r=o[oe.camelCase(e)])):r=o,r}}function h(t,e,n){if(oe.acceptData(t)){var i,r,o=t.nodeType,s=o?oe.cache:t,a=o?t[oe.expando]:oe.expando;if(s[a]){if(e&&(i=n?s[a]:s[a].data)){oe.isArray(e)?e=e.concat(oe.map(e,oe.camelCase)):e in i?e=[e]:(e=oe.camelCase(e),e=e in i?[e]:e.split(" ")),r=e.length;for(;r--;)delete i[e[r]];if(n?!l(i):!oe.isEmptyObject(i))return}(n||(delete s[a].data,l(s[a])))&&(o?oe.cleanData([t],!0):ie.deleteExpando||s!=s.window?delete s[a]:s[a]=null)}}}function p(){return!0}function d(){return!1}function f(){try{return me.activeElement}catch(t){}}function m(t){var e=Le.split("|"),n=t.createDocumentFragment();if(n.createElement)for(;e.length;)n.createElement(e.pop());return n}function _(t,e){var n,i,r=0,o=typeof t.getElementsByTagName!==Ce?t.getElementsByTagName(e||"*"):typeof t.querySelectorAll!==Ce?t.querySelectorAll(e||"*"):void 0;if(!o)for(o=[],n=t.childNodes||t;null!=(i=n[r]);r++)!e||oe.nodeName(i,e)?o.push(i):oe.merge(o,_(i,e));return void 0===e||e&&oe.nodeName(t,e)?oe.merge([t],o):o}function g(t){Pe.test(t.type)&&(t.defaultChecked=t.checked)}function v(t,e){return oe.nodeName(t,"table")&&oe.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function y(t){return t.type=(null!==oe.find.attr(t,"type"))+"/"+t.type,t}function b(t){var e=Ve.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function w(t,e){for(var n,i=0;null!=(n=t[i]);i++)oe._data(n,"globalEval",!e||oe._data(e[i],"globalEval"))}function E(t,e){if(1===e.nodeType&&oe.hasData(t)){var n,i,r,o=oe._data(t),s=oe._data(e,o),a=o.events;if(a){delete s.handle,s.events={};for(n in a)for(i=0,r=a[n].length;r>i;i++)oe.event.add(e,n,a[n][i])}s.data&&(s.data=oe.extend({},s.data))}}function S(t,e){var n,i,r;if(1===e.nodeType){if(n=e.nodeName.toLowerCase(),!ie.noCloneEvent&&e[oe.expando]){r=oe._data(e);for(i in r.events)oe.removeEvent(e,i,r.handle);e.removeAttribute(oe.expando)}"script"===n&&e.text!==t.text?(y(e).text=t.text,b(e)):"object"===n?(e.parentNode&&(e.outerHTML=t.outerHTML),ie.html5Clone&&t.innerHTML&&!oe.trim(e.innerHTML)&&(e.innerHTML=t.innerHTML)):"input"===n&&Pe.test(t.type)?(e.defaultChecked=e.checked=t.checked,e.value!==t.value&&(e.value=t.value)):"option"===n?e.defaultSelected=e.selected=t.defaultSelected:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}}function C(e,n){var i=oe(n.createElement(e)).appendTo(n.body),r=t.getDefaultComputedStyle?t.getDefaultComputedStyle(i[0]).display:oe.css(i[0],"display");return i.detach(),r}function $(t){var e=me,n=tn[t];return n||(n=C(t,e),"none"!==n&&n||(Je=(Je||oe("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=(Je[0].contentWindow||Je[0].contentDocument).document,e.write(),e.close(),n=C(t,e),Je.detach()),tn[t]=n),n}function x(t,e){return{get:function(){var n=t();if(null!=n)return n?(delete this.get,void 0):(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var n=e.charAt(0).toUpperCase()+e.slice(1),i=e,r=fn.length;r--;)if(e=fn[r]+n,e in t)return e;return i}function I(t,e){for(var n,i,r,o=[],s=0,a=t.length;a>s;s++)i=t[s],i.style&&(o[s]=oe._data(i,"olddisplay"),n=i.style.display,e?(o[s]||"none"!==n||(i.style.display=""),""===i.style.display&&Ae(i)&&(o[s]=oe._data(i,"olddisplay",$(i.nodeName)))):o[s]||(r=Ae(i),(n&&"none"!==n||!r)&&oe._data(i,"olddisplay",r?n:oe.css(i,"display"))));for(s=0;a>s;s++)i=t[s],i.style&&(e&&"none"!==i.style.display&&""!==i.style.display||(i.style.display=e?o[s]||"":"none"));return t}function A(t,e,n){var i=un.exec(e);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):e}function M(t,e,n,i,r){for(var o=n===(i?"border":"content")?4:"width"===e?1:0,s=0;4>o;o+=2)"margin"===n&&(s+=oe.css(t,n+Ie[o],!0,r)),i?("content"===n&&(s-=oe.css(t,"padding"+Ie[o],!0,r)),"margin"!==n&&(s-=oe.css(t,"border"+Ie[o]+"Width",!0,r))):(s+=oe.css(t,"padding"+Ie[o],!0,r),"padding"!==n&&(s+=oe.css(t,"border"+Ie[o]+"Width",!0,r)));return s}function P(t,e,n){var i=!0,r="width"===e?t.offsetWidth:t.offsetHeight,o=en(t),s=ie.boxSizing()&&"border-box"===oe.css(t,"boxSizing",!1,o);if(0>=r||null==r){if(r=nn(t,e,o),(0>r||null==r)&&(r=t.style[e]),on.test(r))return r;i=s&&(ie.boxSizingReliable()||r===t.style[e]),r=parseFloat(r)||0}return r+M(t,e,n||(s?"border":"content"),i,o)+"px"}function D(t,e,n,i,r){return new D.prototype.init(t,e,n,i,r)}function k(){return setTimeout(function(){mn=void 0}),mn=oe.now()}function N(t,e){var n,i={height:t},r=0;for(e=e?1:0;4>r;r+=2-e)n=Ie[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function U(t,e,n){for(var i,r=(wn[e]||[]).concat(wn["*"]),o=0,s=r.length;s>o;o++)if(i=r[o].call(n,e,t))return i}function R(t,e,n){var i,r,o,s,a,c,l,u,h=this,p={},d=t.style,f=t.nodeType&&Ae(t),m=oe._data(t,"fxshow");n.queue||(a=oe._queueHooks(t,"fx"),null==a.unqueued&&(a.unqueued=0,c=a.empty.fire,a.empty.fire=function(){a.unqueued||c()}),a.unqueued++,h.always(function(){h.always(function(){a.unqueued--,oe.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],l=oe.css(t,"display"),u=$(t.nodeName),"none"===l&&(l=u),"inline"===l&&"none"===oe.css(t,"float")&&(ie.inlineBlockNeedsLayout&&"inline"!==u?d.zoom=1:d.display="inline-block")),n.overflow&&(d.overflow="hidden",ie.shrinkWrapBlocks()||h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(i in e)if(r=e[i],gn.exec(r)){if(delete e[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||oe.style(t,i)}if(!oe.isEmptyObject(p)){m?"hidden"in m&&(f=m.hidden):m=oe._data(t,"fxshow",{}),o&&(m.hidden=!f),f?oe(t).show():h.done(function(){oe(t).hide()}),h.done(function(){var e;oe._removeData(t,"fxshow");for(e in p)oe.style(t,e,p[e])});for(i in p)s=U(f?m[i]:0,i,h),i in m||(m[i]=s.start,f&&(s.end=s.start,s.start="width"===i||"height"===i?1:0))}}function L(t,e){var n,i,r,o,s;for(n in t)if(i=oe.camelCase(n),r=e[i],o=t[n],oe.isArray(o)&&(r=o[1],o=t[n]=o[0]),n!==i&&(t[i]=o,delete t[n]),s=oe.cssHooks[i],s&&"expand"in s){o=s.expand(o),delete t[i];for(n in o)n in t||(t[n]=o[n],e[n]=r)}else e[i]=r}function O(t,e,n){var i,r,o=0,s=bn.length,a=oe.Deferred().always(function(){delete c.elem}),c=function(){if(r)return!1;for(var e=mn||k(),n=Math.max(0,l.startTime+l.duration-e),i=n/l.duration||0,o=1-i,s=0,c=l.tweens.length;c>s;s++)l.tweens[s].run(o);return a.notifyWith(t,[l,o,n]),1>o&&c?n:(a.resolveWith(t,[l]),!1)},l=a.promise({elem:t,props:oe.extend({},e),opts:oe.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:mn||k(),duration:n.duration,tweens:[],createTween:function(e,n){var i=oe.Tween(t,l.opts,e,n,l.opts.specialEasing[e]||l.opts.easing);return l.tweens.push(i),i},stop:function(e){var n=0,i=e?l.tweens.length:0;if(r)return this;for(r=!0;i>n;n++)l.tweens[n].run(1);return e?a.resolveWith(t,[l,e]):a.rejectWith(t,[l,e]),this}}),u=l.props;for(L(u,l.opts.specialEasing);s>o;o++)if(i=bn[o].call(l,t,u,l.opts))return i;return oe.map(u,U,l),oe.isFunction(l.opts.start)&&l.opts.start.call(t,l),oe.fx.timer(oe.extend(c,{elem:t,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function B(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var i,r=0,o=e.toLowerCase().match(be)||[];if(oe.isFunction(n))for(;i=o[r++];)"+"===i.charAt(0)?(i=i.slice(1)||"*",(t[i]=t[i]||[]).unshift(n)):(t[i]=t[i]||[]).push(n)}}function G(t,e,n,i){function r(a){var c;return o[a]=!0,oe.each(t[a]||[],function(t,a){var l=a(e,n,i);return"string"!=typeof l||s||o[l]?s?!(c=l):void 0:(e.dataTypes.unshift(l),r(l),!1)}),c}var o={},s=t===Hn;return r(e.dataTypes[0])||!o["*"]&&r("*")}function j(t,e){var n,i,r=oe.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((r[i]?t:n||(n={}))[i]=e[i]);return n&&oe.extend(!0,t,n),t}function Y(t,e,n){for(var i,r,o,s,a=t.contents,c=t.dataTypes;"*"===c[0];)c.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(s in a)if(a[s]&&a[s].test(r)){c.unshift(s);break}if(c[0]in n)o=c[0];else{for(s in n){if(!c[0]||t.converters[s+" "+c[0]]){o=s;break}i||(i=s)}o=o||i}return o?(o!==c[0]&&c.unshift(o),n[o]):void 0}function F(t,e,n,i){var r,o,s,a,c,l={},u=t.dataTypes.slice();if(u[1])for(s in t.converters)l[s.toLowerCase()]=t.converters[s];for(o=u.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!c&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),c=o,o=u.shift())if("*"===o)o=c;else if("*"!==c&&c!==o){if(s=l[c+" "+o]||l["* "+o],!s)for(r in l)if(a=r.split(" "),a[1]===o&&(s=l[c+" "+a[0]]||l["* "+a[0]])){s===!0?s=l[r]:l[r]!==!0&&(o=a[0],u.unshift(a[1]));break}if(s!==!0)if(s&&t["throws"])e=s(e);else try{e=s(e)}catch(h){return{state:"parsererror",error:s?h:"No conversion from "+c+" to "+o}}}return{state:"success",data:e}}function K(t,e,n,i){var r;if(oe.isArray(e))oe.each(e,function(e,r){n||Wn.test(t)?i(t,r):K(t+"["+("object"==typeof r?e:"")+"]",r,n,i)});else if(n||"object"!==oe.type(e))i(t,e);else for(r in e)K(t+"["+r+"]",e[r],n,i)}function H(){try{return new t.XMLHttpRequest}catch(e){}}function q(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function z(t){return oe.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var V=[],W=V.slice,Q=V.concat,X=V.push,Z=V.indexOf,J={},te=J.toString,ee=J.hasOwnProperty,ne="".trim,ie={},re="1.11.0",oe=function(t,e){return new oe.fn.init(t,e)},se=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,ae=/^-ms-/,ce=/-([\da-z])/gi,le=function(t,e){return e.toUpperCase()};oe.fn=oe.prototype={jquery:re,constructor:oe,selector:"",length:0,toArray:function(){return W.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:W.call(this)},pushStack:function(t){var e=oe.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return oe.each(this,t,e)},map:function(t){return this.pushStack(oe.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(W.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:X,sort:V.sort,splice:V.splice},oe.extend=oe.fn.extend=function(){var t,e,n,i,r,o,s=arguments[0]||{},a=1,c=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||oe.isFunction(s)||(s={}),a===c&&(s=this,a--);c>a;a++)if(null!=(r=arguments[a]))for(i in r)t=s[i],n=r[i],s!==n&&(l&&n&&(oe.isPlainObject(n)||(e=oe.isArray(n)))?(e?(e=!1,o=t&&oe.isArray(t)?t:[]):o=t&&oe.isPlainObject(t)?t:{},s[i]=oe.extend(l,o,n)):void 0!==n&&(s[i]=n));return s},oe.extend({expando:"jQuery"+(re+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===oe.type(t)},isArray:Array.isArray||function(t){return"array"===oe.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return t-parseFloat(t)>=0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},isPlainObject:function(t){var e;if(!t||"object"!==oe.type(t)||t.nodeType||oe.isWindow(t))return!1;try{if(t.constructor&&!ee.call(t,"constructor")&&!ee.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ie.ownLast)for(e in t)return ee.call(t,e);for(e in t);return void 0===e||ee.call(t,e)},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?J[te.call(t)]||"object":typeof t},globalEval:function(e){e&&oe.trim(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(ae,"ms-").replace(ce,le)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,i){var r,o=0,s=t.length,a=n(t);if(i){if(a)for(;s>o&&(r=e.apply(t[o],i),r!==!1);o++);else for(o in t)if(r=e.apply(t[o],i),r===!1)break}else if(a)for(;s>o&&(r=e.call(t[o],o,t[o]),r!==!1);o++);else for(o in t)if(r=e.call(t[o],o,t[o]),r===!1)break;return t},trim:ne&&!ne.call("﻿ ")?function(t){return null==t?"":ne.call(t)}:function(t){return null==t?"":(t+"").replace(se,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(n(Object(t))?oe.merge(i,"string"==typeof t?[t]:t):X.call(i,t)),i},inArray:function(t,e,n){var i;if(e){if(Z)return Z.call(e,t,n);for(i=e.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in e&&e[n]===t)return n}return-1},merge:function(t,e){for(var n=+e.length,i=0,r=t.length;n>i;)t[r++]=e[i++];if(n!==n)for(;void 0!==e[i];)t[r++]=e[i++];return t.length=r,t},grep:function(t,e,n){for(var i,r=[],o=0,s=t.length,a=!n;s>o;o++)i=!e(t[o],o),i!==a&&r.push(t[o]);return r},map:function(t,e,i){var r,o=0,s=t.length,a=n(t),c=[];if(a)for(;s>o;o++)r=e(t[o],o,i),null!=r&&c.push(r);else for(o in t)r=e(t[o],o,i),null!=r&&c.push(r);return Q.apply([],c)},guid:1,proxy:function(t,e){var n,i,r;return"string"==typeof e&&(r=t[e],e=t,t=r),oe.isFunction(t)?(n=W.call(arguments,2),i=function(){return t.apply(e||this,n.concat(W.call(arguments)))},i.guid=t.guid=t.guid||oe.guid++,i):void 0},now:function(){return+new Date},support:ie}),oe.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){J["[object "+e+"]"]=e.toLowerCase()});var ue=function(t){function e(t,e,n,i){var r,o,s,a,c,l,h,f,m,_;if((e?e.ownerDocument||e:G)!==D&&P(e),e=e||D,n=n||[],!t||"string"!=typeof t)return n;if(1!==(a=e.nodeType)&&9!==a)return[];if(N&&!i){if(r=ve.exec(t))if(s=r[1]){if(9===a){if(o=e.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(s))&&O(e,o)&&o.id===s)return n.push(o),n}else{if(r[2])return J.apply(n,e.getElementsByTagName(t)),n;if((s=r[3])&&S.getElementsByClassName&&e.getElementsByClassName)return J.apply(n,e.getElementsByClassName(s)),n}if(S.qsa&&(!U||!U.test(t))){if(f=h=B,m=e,_=9===a&&t,1===a&&"object"!==e.nodeName.toLowerCase()){for(l=p(t),(h=e.getAttribute("id"))?f=h.replace(be,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",c=l.length;c--;)l[c]=f+d(l[c]);m=ye.test(t)&&u(e.parentNode)||e,_=l.join(",")}if(_)try{return J.apply(n,m.querySelectorAll(_)),n}catch(g){}finally{h||e.removeAttribute("id")}}}return w(t.replace(ce,"$1"),e,n,i)}function n(){function t(n,i){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function i(t){return t[B]=!0,t}function r(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),i=t.length;i--;)C.attrHandle[n[i]]=e}function s(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||V)-(~t.sourceIndex||V);if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function a(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function c(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function l(t){return i(function(e){return e=+e,i(function(n,i){for(var r,o=t([],n.length,e),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function u(t){return t&&typeof t.getElementsByTagName!==z&&t}function h(){}function p(t,n){var i,r,o,s,a,c,l,u=K[t+" "];if(u)return n?0:u.slice(0);for(a=t,c=[],l=C.preFilter;a;){(!i||(r=le.exec(a)))&&(r&&(a=a.slice(r[0].length)||a),c.push(o=[])),i=!1,(r=ue.exec(a))&&(i=r.shift(),o.push({value:i,type:r[0].replace(ce," ")}),a=a.slice(i.length));for(s in C.filter)!(r=fe[s].exec(a))||l[s]&&!(r=l[s](r))||(i=r.shift(),o.push({value:i,type:s,matches:r}),a=a.slice(i.length));if(!i)break}return n?a.length:a?e.error(t):K(t,c).slice(0)}function d(t){for(var e=0,n=t.length,i="";n>e;e++)i+=t[e].value;return i}function f(t,e,n){var i=e.dir,r=n&&"parentNode"===i,o=Y++;return e.first?function(e,n,o){for(;e=e[i];)if(1===e.nodeType||r)return t(e,n,o)}:function(e,n,s){var a,c,l=[j,o];if(s){for(;e=e[i];)if((1===e.nodeType||r)&&t(e,n,s))return!0}else for(;e=e[i];)if(1===e.nodeType||r){if(c=e[B]||(e[B]={}),(a=c[i])&&a[0]===j&&a[1]===o)return l[2]=a[2];if(c[i]=l,l[2]=t(e,n,s))return!0}}}function m(t){return t.length>1?function(e,n,i){for(var r=t.length;r--;)if(!t[r](e,n,i))return!1;return!0}:t[0]}function _(t,e,n,i,r){for(var o,s=[],a=0,c=t.length,l=null!=e;c>a;a++)(o=t[a])&&(!n||n(o,i,r))&&(s.push(o),l&&e.push(a));return s}function g(t,e,n,r,o,s){return r&&!r[B]&&(r=g(r)),o&&!o[B]&&(o=g(o,s)),i(function(i,s,a,c){var l,u,h,p=[],d=[],f=s.length,m=i||b(e||"*",a.nodeType?[a]:a,[]),g=!t||!i&&e?m:_(m,p,t,a,c),v=n?o||(i?t:f||r)?[]:s:g;if(n&&n(g,v,a,c),r)for(l=_(v,d),r(l,[],a,c),u=l.length;u--;)(h=l[u])&&(v[d[u]]=!(g[d[u]]=h));if(i){if(o||t){if(o){for(l=[],u=v.length;u--;)(h=v[u])&&l.push(g[u]=h);o(null,v=[],l,c)}for(u=v.length;u--;)(h=v[u])&&(l=o?ee.call(i,h):p[u])>-1&&(i[l]=!(s[l]=h))}}else v=_(v===s?v.splice(f,v.length):v),o?o(null,s,v,c):J.apply(s,v)})}function v(t){for(var e,n,i,r=t.length,o=C.relative[t[0].type],s=o||C.relative[" "],a=o?1:0,c=f(function(t){return t===e},s,!0),l=f(function(t){return ee.call(e,t)>-1},s,!0),u=[function(t,n,i){return!o&&(i||n!==I)||((e=n).nodeType?c(t,n,i):l(t,n,i))}];r>a;a++)if(n=C.relative[t[a].type])u=[f(m(u),n)];else{if(n=C.filter[t[a].type].apply(null,t[a].matches),n[B]){for(i=++a;r>i&&!C.relative[t[i].type];i++);return g(a>1&&m(u),a>1&&d(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(ce,"$1"),n,i>a&&v(t.slice(a,i)),r>i&&v(t=t.slice(i)),r>i&&d(t))}u.push(n)}return m(u)}function y(t,n){var r=n.length>0,o=t.length>0,s=function(i,s,a,c,l){var u,h,p,d=0,f="0",m=i&&[],g=[],v=I,y=i||o&&C.find.TAG("*",l),b=j+=null==v?1:Math.random()||.1,w=y.length;for(l&&(I=s!==D&&s);f!==w&&null!=(u=y[f]);f++){if(o&&u){for(h=0;p=t[h++];)if(p(u,s,a)){c.push(u);break}l&&(j=b)}r&&((u=!p&&u)&&d--,i&&m.push(u))}if(d+=f,r&&f!==d){for(h=0;p=n[h++];)p(m,g,s,a);if(i){if(d>0)for(;f--;)m[f]||g[f]||(g[f]=X.call(c));g=_(g)}J.apply(c,g),l&&!i&&g.length>0&&d+n.length>1&&e.uniqueSort(c)}return l&&(j=b,I=v),m};return r?i(s):s}function b(t,n,i){for(var r=0,o=n.length;o>r;r++)e(t,n[r],i);return i}function w(t,e,n,i){var r,o,s,a,c,l=p(t);if(!i&&1===l.length){if(o=l[0]=l[0].slice(0),o.length>2&&"ID"===(s=o[0]).type&&S.getById&&9===e.nodeType&&N&&C.relative[o[1].type]){if(e=(C.find.ID(s.matches[0].replace(we,Ee),e)||[])[0],!e)return n;t=t.slice(o.shift().value.length)}for(r=fe.needsContext.test(t)?0:o.length;r--&&(s=o[r],!C.relative[a=s.type]);)if((c=C.find[a])&&(i=c(s.matches[0].replace(we,Ee),ye.test(o[0].type)&&u(e.parentNode)||e))){if(o.splice(r,1),t=i.length&&d(o),!t)return J.apply(n,i),n;break}}return T(t,l)(i,e,!N,n,ye.test(t)&&u(e.parentNode)||e),n}var E,S,C,$,x,T,I,A,M,P,D,k,N,U,R,L,O,B="sizzle"+-new Date,G=t.document,j=0,Y=0,F=n(),K=n(),H=n(),q=function(t,e){return t===e&&(M=!0),0},z="undefined",V=1<<31,W={}.hasOwnProperty,Q=[],X=Q.pop,Z=Q.push,J=Q.push,te=Q.slice,ee=Q.indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(this[e]===t)return e;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",ie="[\\x20\\t\\r\\n\\f]",re="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",oe=re.replace("w","w#"),se="\\["+ie+"*("+re+")"+ie+"*(?:([*^$|!~]?=)"+ie+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+oe+")|)|)"+ie+"*\\]",ae=":("+re+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+se.replace(3,8)+")*)|.*)\\)|)",ce=new RegExp("^"+ie+"+|((?:^|[^\\\\])(?:\\\\.)*)"+ie+"+$","g"),le=new RegExp("^"+ie+"*,"+ie+"*"),ue=new RegExp("^"+ie+"*([>+~]|"+ie+")"+ie+"*"),he=new RegExp("="+ie+"*([^\\]'\"]*?)"+ie+"*\\]","g"),pe=new RegExp(ae),de=new RegExp("^"+oe+"$"),fe={ID:new RegExp("^#("+re+")"),CLASS:new RegExp("^\\.("+re+")"),TAG:new RegExp("^("+re.replace("w","w*")+")"),ATTR:new RegExp("^"+se),PSEUDO:new RegExp("^"+ae),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+ie+"*(even|odd|(([+-]|)(\\d*)n|)"+ie+"*(?:([+-]|)"+ie+"*(\\d+)|))"+ie+"*\\)|)","i"),bool:new RegExp("^(?:"+ne+")$","i"),needsContext:new RegExp("^"+ie+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+ie+"*((?:-\\d)?\\d*)"+ie+"*\\)|)(?=[^-]|$)","i")},me=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,ge=/^[^{]+\{\s*\[native \w/,ve=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ye=/[+~]/,be=/'|\\/g,we=new RegExp("\\\\([\\da-f]{1,6}"+ie+"?|("+ie+")|.)","ig"),Ee=function(t,e,n){var i="0x"+e-65536;return i!==i||n?e:0>i?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)};try{J.apply(Q=te.call(G.childNodes),G.childNodes),Q[G.childNodes.length].nodeType}catch(Se){J={apply:Q.length?function(t,e){Z.apply(t,te.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}S=e.support={},x=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},P=e.setDocument=function(t){var e,n=t?t.ownerDocument||t:G,i=n.defaultView;return n!==D&&9===n.nodeType&&n.documentElement?(D=n,k=n.documentElement,N=!x(n),i&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",function(){P()},!1):i.attachEvent&&i.attachEvent("onunload",function(){P()})),S.attributes=r(function(t){return t.className="i",!t.getAttribute("className")}),S.getElementsByTagName=r(function(t){return t.appendChild(n.createComment("")),!t.getElementsByTagName("*").length}),S.getElementsByClassName=ge.test(n.getElementsByClassName)&&r(function(t){return t.innerHTML="<div class='a'></div><div class='a i'></div>",t.firstChild.className="i",2===t.getElementsByClassName("i").length}),S.getById=r(function(t){return k.appendChild(t).id=B,!n.getElementsByName||!n.getElementsByName(B).length}),S.getById?(C.find.ID=function(t,e){if(typeof e.getElementById!==z&&N){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(we,Ee);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(we,Ee);return function(t){var n=typeof t.getAttributeNode!==z&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=S.getElementsByTagName?function(t,e){return typeof e.getElementsByTagName!==z?e.getElementsByTagName(t):void 0}:function(t,e){var n,i=[],r=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},C.find.CLASS=S.getElementsByClassName&&function(t,e){return typeof e.getElementsByClassName!==z&&N?e.getElementsByClassName(t):void 0},R=[],U=[],(S.qsa=ge.test(n.querySelectorAll))&&(r(function(t){t.innerHTML="<select t=''><option selected=''></option></select>",t.querySelectorAll("[t^='']").length&&U.push("[*^$]="+ie+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||U.push("\\["+ie+"*(?:value|"+ne+")"),t.querySelectorAll(":checked").length||U.push(":checked")}),r(function(t){var e=n.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&U.push("name"+ie+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||U.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),U.push(",.*:")})),(S.matchesSelector=ge.test(L=k.webkitMatchesSelector||k.mozMatchesSelector||k.oMatchesSelector||k.msMatchesSelector))&&r(function(t){S.disconnectedMatch=L.call(t,"div"),L.call(t,"[s!='']:x"),R.push("!=",ae)}),U=U.length&&new RegExp(U.join("|")),R=R.length&&new RegExp(R.join("|")),e=ge.test(k.compareDocumentPosition),O=e||ge.test(k.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=e?function(t,e){if(t===e)return M=!0,0;var i=!t.compareDocumentPosition-!e.compareDocumentPosition;return i?i:(i=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&i||!S.sortDetached&&e.compareDocumentPosition(t)===i?t===n||t.ownerDocument===G&&O(G,t)?-1:e===n||e.ownerDocument===G&&O(G,e)?1:A?ee.call(A,t)-ee.call(A,e):0:4&i?-1:1)}:function(t,e){if(t===e)return M=!0,0;var i,r=0,o=t.parentNode,a=e.parentNode,c=[t],l=[e];if(!o||!a)return t===n?-1:e===n?1:o?-1:a?1:A?ee.call(A,t)-ee.call(A,e):0;if(o===a)return s(t,e);for(i=t;i=i.parentNode;)c.unshift(i);for(i=e;i=i.parentNode;)l.unshift(i);for(;c[r]===l[r];)r++;return r?s(c[r],l[r]):c[r]===G?-1:l[r]===G?1:0},n):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&P(t),n=n.replace(he,"='$1']"),!(!S.matchesSelector||!N||R&&R.test(n)||U&&U.test(n)))try{var i=L.call(t,n);if(i||S.disconnectedMatch||t.document&&11!==t.document.nodeType)return i}catch(r){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&P(t),O(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&P(t);var n=C.attrHandle[e.toLowerCase()],i=n&&W.call(C.attrHandle,e.toLowerCase())?n(t,e,!N):void 0;return void 0!==i?i:S.attributes||!N?t.getAttribute(e):(i=t.getAttributeNode(e))&&i.specified?i.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],i=0,r=0;if(M=!S.detectDuplicates,A=!S.sortStable&&t.slice(0),t.sort(q),M){for(;e=t[r++];)e===t[r]&&(i=n.push(r));for(;i--;)t.splice(n[i],1)}return A=null,t},$=e.getText=function(t){var e,n="",i=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=$(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[i++];)n+=$(e);return n},C=e.selectors={cacheLength:50,createPseudo:i,match:fe,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(we,Ee),t[3]=(t[4]||t[5]||"").replace(we,Ee),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[5]&&t[2];return fe.CHILD.test(t[0])?null:(t[3]&&void 0!==t[4]?t[2]=t[4]:n&&pe.test(n)&&(e=p(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(we,Ee).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=F[t+" "];return e||(e=new RegExp("(^|"+ie+")"+t+"("+ie+"|$)"))&&F(t,function(t){return e.test("string"==typeof t.className&&t.className||typeof t.getAttribute!==z&&t.getAttribute("class")||"")})},ATTR:function(t,n,i){return function(r){var o=e.attr(r,t);return null==o?"!="===n:n?(o+="","="===n?o===i:"!="===n?o!==i:"^="===n?i&&0===o.indexOf(i):"*="===n?i&&o.indexOf(i)>-1:"$="===n?i&&o.slice(-i.length)===i:"~="===n?(" "+o+" ").indexOf(i)>-1:"|="===n?o===i||o.slice(0,i.length+1)===i+"-":!1):!0}},CHILD:function(t,e,n,i,r){var o="nth"!==t.slice(0,3),s="last"!==t.slice(-4),a="of-type"===e;return 1===i&&0===r?function(t){return!!t.parentNode}:function(e,n,c){var l,u,h,p,d,f,m=o!==s?"nextSibling":"previousSibling",_=e.parentNode,g=a&&e.nodeName.toLowerCase(),v=!c&&!a;if(_){if(o){for(;m;){for(h=e;h=h[m];)if(a?h.nodeName.toLowerCase()===g:1===h.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[s?_.firstChild:_.lastChild],s&&v){for(u=_[B]||(_[B]={}),l=u[t]||[],d=l[0]===j&&l[1],p=l[0]===j&&l[2],h=d&&_.childNodes[d];h=++d&&h&&h[m]||(p=d=0)||f.pop();)if(1===h.nodeType&&++p&&h===e){u[t]=[j,d,p];break}}else if(v&&(l=(e[B]||(e[B]={}))[t])&&l[0]===j)p=l[1];else for(;(h=++d&&h&&h[m]||(p=d=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==g:1!==h.nodeType)||!++p||(v&&((h[B]||(h[B]={}))[t]=[j,p]),h!==e)););return p-=r,p===i||p%i===0&&p/i>=0}}},PSEUDO:function(t,n){var r,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(r=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?i(function(t,e){for(var i,r=o(t,n),s=r.length;s--;)i=ee.call(t,r[s]),t[i]=!(e[i]=r[s])
}):function(t){return o(t,0,r)}):o}},pseudos:{not:i(function(t){var e=[],n=[],r=T(t.replace(ce,"$1"));return r[B]?i(function(t,e,n,i){for(var o,s=r(t,null,i,[]),a=t.length;a--;)(o=s[a])&&(t[a]=!(e[a]=o))}):function(t,i,o){return e[0]=t,r(e,null,o,n),!n.pop()}}),has:i(function(t){return function(n){return e(t,n).length>0}}),contains:i(function(t){return function(e){return(e.textContent||e.innerText||$(e)).indexOf(t)>-1}}),lang:i(function(t){return de.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(we,Ee).toLowerCase(),function(e){var n;do if(n=N?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===k},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return _e.test(t.nodeName)},input:function(t){return me.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:l(function(){return[0]}),last:l(function(t,e){return[e-1]}),eq:l(function(t,e,n){return[0>n?n+e:n]}),even:l(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:l(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:l(function(t,e,n){for(var i=0>n?n+e:n;--i>=0;)t.push(i);return t}),gt:l(function(t,e,n){for(var i=0>n?n+e:n;++i<e;)t.push(i);return t})}},C.pseudos.nth=C.pseudos.eq;for(E in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[E]=a(E);for(E in{submit:!0,reset:!0})C.pseudos[E]=c(E);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,T=e.compile=function(t,e){var n,i=[],r=[],o=H[t+" "];if(!o){for(e||(e=p(t)),n=e.length;n--;)o=v(e[n]),o[B]?i.push(o):r.push(o);o=H(t,y(r,i))}return o},S.sortStable=B.split("").sort(q).join("")===B,S.detectDuplicates=!!M,P(),S.sortDetached=r(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),r(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),S.attributes&&r(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),r(function(t){return null==t.getAttribute("disabled")})||o(ne,function(t,e,n){var i;return n?void 0:t[e]===!0?e.toLowerCase():(i=t.getAttributeNode(e))&&i.specified?i.value:null}),e}(t);oe.find=ue,oe.expr=ue.selectors,oe.expr[":"]=oe.expr.pseudos,oe.unique=ue.uniqueSort,oe.text=ue.getText,oe.isXMLDoc=ue.isXML,oe.contains=ue.contains;var he=oe.expr.match.needsContext,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,de=/^.[^:#\[\.,]*$/;oe.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?oe.find.matchesSelector(i,t)?[i]:[]:oe.find.matches(t,oe.grep(e,function(t){return 1===t.nodeType}))},oe.fn.extend({find:function(t){var e,n=[],i=this,r=i.length;if("string"!=typeof t)return this.pushStack(oe(t).filter(function(){for(e=0;r>e;e++)if(oe.contains(i[e],this))return!0}));for(e=0;r>e;e++)oe.find(t,i[e],n);return n=this.pushStack(r>1?oe.unique(n):n),n.selector=this.selector?this.selector+" "+t:t,n},filter:function(t){return this.pushStack(i(this,t||[],!1))},not:function(t){return this.pushStack(i(this,t||[],!0))},is:function(t){return!!i(this,"string"==typeof t&&he.test(t)?oe(t):t||[],!1).length}});var fe,me=t.document,_e=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=oe.fn.init=function(t,e){var n,i;if(!t)return this;if("string"==typeof t){if(n="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:_e.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||fe).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof oe?e[0]:e,oe.merge(this,oe.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:me,!0)),pe.test(n[1])&&oe.isPlainObject(e))for(n in e)oe.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}if(i=me.getElementById(n[2]),i&&i.parentNode){if(i.id!==n[2])return fe.find(t);this.length=1,this[0]=i}return this.context=me,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):oe.isFunction(t)?"undefined"!=typeof fe.ready?fe.ready(t):t(oe):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),oe.makeArray(t,this))};ge.prototype=oe.fn,fe=oe(me);var ve=/^(?:parents|prev(?:Until|All))/,ye={children:!0,contents:!0,next:!0,prev:!0};oe.extend({dir:function(t,e,n){for(var i=[],r=t[e];r&&9!==r.nodeType&&(void 0===n||1!==r.nodeType||!oe(r).is(n));)1===r.nodeType&&i.push(r),r=r[e];return i},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),oe.fn.extend({has:function(t){var e,n=oe(t,this),i=n.length;return this.filter(function(){for(e=0;i>e;e++)if(oe.contains(this,n[e]))return!0})},closest:function(t,e){for(var n,i=0,r=this.length,o=[],s=he.test(t)||"string"!=typeof t?oe(t,e||this.context):0;r>i;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&oe.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?oe.unique(o):o)},index:function(t){return t?"string"==typeof t?oe.inArray(this[0],oe(t)):oe.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(oe.unique(oe.merge(this.get(),oe(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),oe.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return oe.dir(t,"parentNode")},parentsUntil:function(t,e,n){return oe.dir(t,"parentNode",n)},next:function(t){return r(t,"nextSibling")},prev:function(t){return r(t,"previousSibling")},nextAll:function(t){return oe.dir(t,"nextSibling")},prevAll:function(t){return oe.dir(t,"previousSibling")},nextUntil:function(t,e,n){return oe.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return oe.dir(t,"previousSibling",n)},siblings:function(t){return oe.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return oe.sibling(t.firstChild)},contents:function(t){return oe.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:oe.merge([],t.childNodes)}},function(t,e){oe.fn[t]=function(n,i){var r=oe.map(this,e,n);return"Until"!==t.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=oe.filter(i,r)),this.length>1&&(ye[t]||(r=oe.unique(r)),ve.test(t)&&(r=r.reverse())),this.pushStack(r)}});var be=/\S+/g,we={};oe.Callbacks=function(t){t="string"==typeof t?we[t]||o(t):oe.extend({},t);var e,n,i,r,s,a,c=[],l=!t.once&&[],u=function(o){for(n=t.memory&&o,i=!0,s=a||0,a=0,r=c.length,e=!0;c&&r>s;s++)if(c[s].apply(o[0],o[1])===!1&&t.stopOnFalse){n=!1;break}e=!1,c&&(l?l.length&&u(l.shift()):n?c=[]:h.disable())},h={add:function(){if(c){var i=c.length;!function o(e){oe.each(e,function(e,n){var i=oe.type(n);"function"===i?t.unique&&h.has(n)||c.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),e?r=c.length:n&&(a=i,u(n))}return this},remove:function(){return c&&oe.each(arguments,function(t,n){for(var i;(i=oe.inArray(n,c,i))>-1;)c.splice(i,1),e&&(r>=i&&r--,s>=i&&s--)}),this},has:function(t){return t?oe.inArray(t,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=l=n=void 0,this},disabled:function(){return!c},lock:function(){return l=void 0,n||h.disable(),this},locked:function(){return!l},fireWith:function(t,n){return!c||i&&!l||(n=n||[],n=[t,n.slice?n.slice():n],e?l.push(n):u(n)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},oe.extend({Deferred:function(t){var e=[["resolve","done",oe.Callbacks("once memory"),"resolved"],["reject","fail",oe.Callbacks("once memory"),"rejected"],["notify","progress",oe.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var t=arguments;return oe.Deferred(function(n){oe.each(e,function(e,o){var s=oe.isFunction(t[e])&&t[e];r[o[1]](function(){var t=s&&s.apply(this,arguments);t&&oe.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===i?n.promise():this,s?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?oe.extend(t,i):i}},r={};return i.pipe=i.then,oe.each(e,function(t,o){var s=o[2],a=o[3];i[o[1]]=s.add,a&&s.add(function(){n=a},e[1^t][2].disable,e[2][2].lock),r[o[0]]=function(){return r[o[0]+"With"](this===r?i:this,arguments),this},r[o[0]+"With"]=s.fireWith}),i.promise(r),t&&t.call(r,r),r},when:function(t){var e,n,i,r=0,o=W.call(arguments),s=o.length,a=1!==s||t&&oe.isFunction(t.promise)?s:0,c=1===a?t:oe.Deferred(),l=function(t,n,i){return function(r){n[t]=this,i[t]=arguments.length>1?W.call(arguments):r,i===e?c.notifyWith(n,i):--a||c.resolveWith(n,i)}};if(s>1)for(e=new Array(s),n=new Array(s),i=new Array(s);s>r;r++)o[r]&&oe.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(c.reject).progress(l(r,n,e)):--a;return a||c.resolveWith(i,o),c.promise()}});var Ee;oe.fn.ready=function(t){return oe.ready.promise().done(t),this},oe.extend({isReady:!1,readyWait:1,holdReady:function(t){t?oe.readyWait++:oe.ready(!0)},ready:function(t){if(t===!0?!--oe.readyWait:!oe.isReady){if(!me.body)return setTimeout(oe.ready);oe.isReady=!0,t!==!0&&--oe.readyWait>0||(Ee.resolveWith(me,[oe]),oe.fn.trigger&&oe(me).trigger("ready").off("ready"))}}}),oe.ready.promise=function(e){if(!Ee)if(Ee=oe.Deferred(),"complete"===me.readyState)setTimeout(oe.ready);else if(me.addEventListener)me.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1);else{me.attachEvent("onreadystatechange",a),t.attachEvent("onload",a);var n=!1;try{n=null==t.frameElement&&me.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!oe.isReady){try{n.doScroll("left")}catch(t){return setTimeout(r,50)}s(),oe.ready()}}()}return Ee.promise(e)};var Se,Ce="undefined";for(Se in oe(ie))break;ie.ownLast="0"!==Se,ie.inlineBlockNeedsLayout=!1,oe(function(){var t,e,n=me.getElementsByTagName("body")[0];n&&(t=me.createElement("div"),t.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",e=me.createElement("div"),n.appendChild(t).appendChild(e),typeof e.style.zoom!==Ce&&(e.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(ie.inlineBlockNeedsLayout=3===e.offsetWidth)&&(n.style.zoom=1)),n.removeChild(t),t=e=null)}),function(){var t=me.createElement("div");if(null==ie.deleteExpando){ie.deleteExpando=!0;try{delete t.test}catch(e){ie.deleteExpando=!1}}t=null}(),oe.acceptData=function(t){var e=oe.noData[(t.nodeName+" ").toLowerCase()],n=+t.nodeType||1;return 1!==n&&9!==n?!1:!e||e!==!0&&t.getAttribute("classid")===e};var $e=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,xe=/([A-Z])/g;oe.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(t){return t=t.nodeType?oe.cache[t[oe.expando]]:t[oe.expando],!!t&&!l(t)},data:function(t,e,n){return u(t,e,n)},removeData:function(t,e){return h(t,e)},_data:function(t,e,n){return u(t,e,n,!0)},_removeData:function(t,e){return h(t,e,!0)}}),oe.fn.extend({data:function(t,e){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===t){if(this.length&&(r=oe.data(o),1===o.nodeType&&!oe._data(o,"parsedAttrs"))){for(n=s.length;n--;)i=s[n].name,0===i.indexOf("data-")&&(i=oe.camelCase(i.slice(5)),c(o,i,r[i]));oe._data(o,"parsedAttrs",!0)}return r}return"object"==typeof t?this.each(function(){oe.data(this,t)}):arguments.length>1?this.each(function(){oe.data(this,t,e)}):o?c(o,t,oe.data(o,t)):void 0},removeData:function(t){return this.each(function(){oe.removeData(this,t)})}}),oe.extend({queue:function(t,e,n){var i;return t?(e=(e||"fx")+"queue",i=oe._data(t,e),n&&(!i||oe.isArray(n)?i=oe._data(t,e,oe.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=oe.queue(t,e),i=n.length,r=n.shift(),o=oe._queueHooks(t,e),s=function(){oe.dequeue(t,e)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===e&&n.unshift("inprogress"),delete o.stop,r.call(t,s,o)),!i&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return oe._data(t,n)||oe._data(t,n,{empty:oe.Callbacks("once memory").add(function(){oe._removeData(t,e+"queue"),oe._removeData(t,n)})})}}),oe.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?oe.queue(this[0],t):void 0===e?this:this.each(function(){var n=oe.queue(this,t,e);oe._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&oe.dequeue(this,t)})},dequeue:function(t){return this.each(function(){oe.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,i=1,r=oe.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";s--;)n=oe._data(o[s],t+"queueHooks"),n&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(e)}});var Te=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ie=["Top","Right","Bottom","Left"],Ae=function(t,e){return t=e||t,"none"===oe.css(t,"display")||!oe.contains(t.ownerDocument,t)},Me=oe.access=function(t,e,n,i,r,o,s){var a=0,c=t.length,l=null==n;if("object"===oe.type(n)){r=!0;for(a in n)oe.access(t,e,a,n[a],!0,o,s)}else if(void 0!==i&&(r=!0,oe.isFunction(i)||(s=!0),l&&(s?(e.call(t,i),e=null):(l=e,e=function(t,e,n){return l.call(oe(t),n)})),e))for(;c>a;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return r?t:l?e.call(t):c?e(t[0],n):o},Pe=/^(?:checkbox|radio)$/i;!function(){var t=me.createDocumentFragment(),e=me.createElement("div"),n=me.createElement("input");if(e.setAttribute("className","t"),e.innerHTML="  <link/><table></table><a href='/a'>a</a>",ie.leadingWhitespace=3===e.firstChild.nodeType,ie.tbody=!e.getElementsByTagName("tbody").length,ie.htmlSerialize=!!e.getElementsByTagName("link").length,ie.html5Clone="<:nav></:nav>"!==me.createElement("nav").cloneNode(!0).outerHTML,n.type="checkbox",n.checked=!0,t.appendChild(n),ie.appendChecked=n.checked,e.innerHTML="<textarea>x</textarea>",ie.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue,t.appendChild(e),e.innerHTML="<input type='radio' checked='checked' name='t'/>",ie.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,ie.noCloneEvent=!0,e.attachEvent&&(e.attachEvent("onclick",function(){ie.noCloneEvent=!1}),e.cloneNode(!0).click()),null==ie.deleteExpando){ie.deleteExpando=!0;try{delete e.test}catch(i){ie.deleteExpando=!1}}t=e=n=null}(),function(){var e,n,i=me.createElement("div");for(e in{submit:!0,change:!0,focusin:!0})n="on"+e,(ie[e+"Bubbles"]=n in t)||(i.setAttribute(n,"t"),ie[e+"Bubbles"]=i.attributes[n].expando===!1);i=null}();var De=/^(?:input|select|textarea)$/i,ke=/^key/,Ne=/^(?:mouse|contextmenu)|click/,Ue=/^(?:focusinfocus|focusoutblur)$/,Re=/^([^.]*)(?:\.(.+)|)$/;oe.event={global:{},add:function(t,e,n,i,r){var o,s,a,c,l,u,h,p,d,f,m,_=oe._data(t);if(_){for(n.handler&&(c=n,n=c.handler,r=c.selector),n.guid||(n.guid=oe.guid++),(s=_.events)||(s=_.events={}),(u=_.handle)||(u=_.handle=function(t){return typeof oe===Ce||t&&oe.event.triggered===t.type?void 0:oe.event.dispatch.apply(u.elem,arguments)},u.elem=t),e=(e||"").match(be)||[""],a=e.length;a--;)o=Re.exec(e[a])||[],d=m=o[1],f=(o[2]||"").split(".").sort(),d&&(l=oe.event.special[d]||{},d=(r?l.delegateType:l.bindType)||d,l=oe.event.special[d]||{},h=oe.extend({type:d,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&oe.expr.match.needsContext.test(r),namespace:f.join(".")},c),(p=s[d])||(p=s[d]=[],p.delegateCount=0,l.setup&&l.setup.call(t,i,f,u)!==!1||(t.addEventListener?t.addEventListener(d,u,!1):t.attachEvent&&t.attachEvent("on"+d,u))),l.add&&(l.add.call(t,h),h.handler.guid||(h.handler.guid=n.guid)),r?p.splice(p.delegateCount++,0,h):p.push(h),oe.event.global[d]=!0);t=null}},remove:function(t,e,n,i,r){var o,s,a,c,l,u,h,p,d,f,m,_=oe.hasData(t)&&oe._data(t);if(_&&(u=_.events)){for(e=(e||"").match(be)||[""],l=e.length;l--;)if(a=Re.exec(e[l])||[],d=m=a[1],f=(a[2]||"").split(".").sort(),d){for(h=oe.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,p=u[d]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),c=o=p.length;o--;)s=p[o],!r&&m!==s.origType||n&&n.guid!==s.guid||a&&!a.test(s.namespace)||i&&i!==s.selector&&("**"!==i||!s.selector)||(p.splice(o,1),s.selector&&p.delegateCount--,h.remove&&h.remove.call(t,s));c&&!p.length&&(h.teardown&&h.teardown.call(t,f,_.handle)!==!1||oe.removeEvent(t,d,_.handle),delete u[d])}else for(d in u)oe.event.remove(t,d+e[l],n,i,!0);oe.isEmptyObject(u)&&(delete _.handle,oe._removeData(t,"events"))}},trigger:function(e,n,i,r){var o,s,a,c,l,u,h,p=[i||me],d=ee.call(e,"type")?e.type:e,f=ee.call(e,"namespace")?e.namespace.split("."):[];if(a=u=i=i||me,3!==i.nodeType&&8!==i.nodeType&&!Ue.test(d+oe.event.triggered)&&(d.indexOf(".")>=0&&(f=d.split("."),d=f.shift(),f.sort()),s=d.indexOf(":")<0&&"on"+d,e=e[oe.expando]?e:new oe.Event(d,"object"==typeof e&&e),e.isTrigger=r?2:3,e.namespace=f.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),n=null==n?[e]:oe.makeArray(n,[e]),l=oe.event.special[d]||{},r||!l.trigger||l.trigger.apply(i,n)!==!1)){if(!r&&!l.noBubble&&!oe.isWindow(i)){for(c=l.delegateType||d,Ue.test(c+d)||(a=a.parentNode);a;a=a.parentNode)p.push(a),u=a;u===(i.ownerDocument||me)&&p.push(u.defaultView||u.parentWindow||t)}for(h=0;(a=p[h++])&&!e.isPropagationStopped();)e.type=h>1?c:l.bindType||d,o=(oe._data(a,"events")||{})[e.type]&&oe._data(a,"handle"),o&&o.apply(a,n),o=s&&a[s],o&&o.apply&&oe.acceptData(a)&&(e.result=o.apply(a,n),e.result===!1&&e.preventDefault());if(e.type=d,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(p.pop(),n)===!1)&&oe.acceptData(i)&&s&&i[d]&&!oe.isWindow(i)){u=i[s],u&&(i[s]=null),oe.event.triggered=d;try{i[d]()}catch(m){}oe.event.triggered=void 0,u&&(i[s]=u)}return e.result}},dispatch:function(t){t=oe.event.fix(t);var e,n,i,r,o,s=[],a=W.call(arguments),c=(oe._data(this,"events")||{})[t.type]||[],l=oe.event.special[t.type]||{};if(a[0]=t,t.delegateTarget=this,!l.preDispatch||l.preDispatch.call(this,t)!==!1){for(s=oe.event.handlers.call(this,t,c),e=0;(r=s[e++])&&!t.isPropagationStopped();)for(t.currentTarget=r.elem,o=0;(i=r.handlers[o++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(i.namespace))&&(t.handleObj=i,t.data=i.data,n=((oe.event.special[i.origType]||{}).handle||i.handler).apply(r.elem,a),void 0!==n&&(t.result=n)===!1&&(t.preventDefault(),t.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,i,r,o,s=[],a=e.delegateCount,c=t.target;if(a&&c.nodeType&&(!t.button||"click"!==t.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==t.type)){for(r=[],o=0;a>o;o++)i=e[o],n=i.selector+" ",void 0===r[n]&&(r[n]=i.needsContext?oe(n,this).index(c)>=0:oe.find(n,this,null,[c]).length),r[n]&&r.push(i);r.length&&s.push({elem:c,handlers:r})}return a<e.length&&s.push({elem:this,handlers:e.slice(a)}),s},fix:function(t){if(t[oe.expando])return t;var e,n,i,r=t.type,o=t,s=this.fixHooks[r];for(s||(this.fixHooks[r]=s=Ne.test(r)?this.mouseHooks:ke.test(r)?this.keyHooks:{}),i=s.props?this.props.concat(s.props):this.props,t=new oe.Event(o),e=i.length;e--;)n=i[e],t[n]=o[n];return t.target||(t.target=o.srcElement||me),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey=!!t.metaKey,s.filter?s.filter(t,o):t},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,i,r,o=e.button,s=e.fromElement;return null==t.pageX&&null!=e.clientX&&(i=t.target.ownerDocument||me,r=i.documentElement,n=i.body,t.pageX=e.clientX+(r&&r.scrollLeft||n&&n.scrollLeft||0)-(r&&r.clientLeft||n&&n.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||n&&n.scrollTop||0)-(r&&r.clientTop||n&&n.clientTop||0)),!t.relatedTarget&&s&&(t.relatedTarget=s===t.target?e.toElement:s),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==f()&&this.focus)try{return this.focus(),!1}catch(t){}},delegateType:"focusin"},blur:{trigger:function(){return this===f()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return oe.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(t){return oe.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,i){var r=oe.extend(new oe.Event,n,{type:t,isSimulated:!0,originalEvent:{}});i?oe.event.trigger(r,null,e):oe.event.dispatch.call(e,r),r.isDefaultPrevented()&&n.preventDefault()}},oe.removeEvent=me.removeEventListener?function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)}:function(t,e,n){var i="on"+e;t.detachEvent&&(typeof t[i]===Ce&&(t[i]=null),t.detachEvent(i,n))},oe.Event=function(t,e){return this instanceof oe.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&(t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault())?p:d):this.type=t,e&&oe.extend(this,e),this.timeStamp=t&&t.timeStamp||oe.now(),this[oe.expando]=!0,void 0):new oe.Event(t,e)},oe.Event.prototype={isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=p,t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=p,t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=p,this.stopPropagation()}},oe.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){oe.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,i=this,r=t.relatedTarget,o=t.handleObj;return(!r||r!==i&&!oe.contains(i,r))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),ie.submitBubbles||(oe.event.special.submit={setup:function(){return oe.nodeName(this,"form")?!1:(oe.event.add(this,"click._submit keypress._submit",function(t){var e=t.target,n=oe.nodeName(e,"input")||oe.nodeName(e,"button")?e.form:void 0;n&&!oe._data(n,"submitBubbles")&&(oe.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),oe._data(n,"submitBubbles",!0))}),void 0)},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&oe.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return oe.nodeName(this,"form")?!1:(oe.event.remove(this,"._submit"),void 0)}}),ie.changeBubbles||(oe.event.special.change={setup:function(){return De.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(oe.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),oe.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1),oe.event.simulate("change",this,t,!0)})),!1):(oe.event.add(this,"beforeactivate._change",function(t){var e=t.target;De.test(e.nodeName)&&!oe._data(e,"changeBubbles")&&(oe.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||oe.event.simulate("change",this.parentNode,t,!0)}),oe._data(e,"changeBubbles",!0))}),void 0)},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return oe.event.remove(this,"._change"),!De.test(this.nodeName)}}),ie.focusinBubbles||oe.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){oe.event.simulate(e,t.target,oe.event.fix(t),!0)};oe.event.special[e]={setup:function(){var i=this.ownerDocument||this,r=oe._data(i,e);r||i.addEventListener(t,n,!0),oe._data(i,e,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=oe._data(i,e)-1;r?oe._data(i,e,r):(i.removeEventListener(t,n,!0),oe._removeData(i,e))}}}),oe.fn.extend({on:function(t,e,n,i,r){var o,s;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(o in t)this.on(o,e,n,t[o],r);return this}if(null==n&&null==i?(i=e,n=e=void 0):null==i&&("string"==typeof e?(i=n,n=void 0):(i=n,n=e,e=void 0)),i===!1)i=d;else if(!i)return this;return 1===r&&(s=i,i=function(t){return oe().off(t),s.apply(this,arguments)},i.guid=s.guid||(s.guid=oe.guid++)),this.each(function(){oe.event.add(this,t,i,n,e)})},one:function(t,e,n,i){return this.on(t,e,n,i,1)},off:function(t,e,n){var i,r;if(t&&t.preventDefault&&t.handleObj)return i=t.handleObj,oe(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof t){for(r in t)this.off(r,e,t[r]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=d),this.each(function(){oe.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){oe.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?oe.event.trigger(t,e,n,!0):void 0}});var Le="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Oe=/ jQuery\d+="(?:null|\d+)"/g,Be=new RegExp("<(?:"+Le+")[\\s/>]","i"),Ge=/^\s+/,je=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ye=/<([\w:]+)/,Fe=/<tbody/i,Ke=/<|&#?\w+;/,He=/<(?:script|style|link)/i,qe=/checked\s*(?:[^=]|=\s*.checked.)/i,ze=/^$|\/(?:java|ecma)script/i,Ve=/^true\/(.*)/,We=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Qe={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ie.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},Xe=m(me),Ze=Xe.appendChild(me.createElement("div"));Qe.optgroup=Qe.option,Qe.tbody=Qe.tfoot=Qe.colgroup=Qe.caption=Qe.thead,Qe.th=Qe.td,oe.extend({clone:function(t,e,n){var i,r,o,s,a,c=oe.contains(t.ownerDocument,t);if(ie.html5Clone||oe.isXMLDoc(t)||!Be.test("<"+t.nodeName+">")?o=t.cloneNode(!0):(Ze.innerHTML=t.outerHTML,Ze.removeChild(o=Ze.firstChild)),!(ie.noCloneEvent&&ie.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||oe.isXMLDoc(t)))for(i=_(o),a=_(t),s=0;null!=(r=a[s]);++s)i[s]&&S(r,i[s]);if(e)if(n)for(a=a||_(t),i=i||_(o),s=0;null!=(r=a[s]);s++)E(r,i[s]);else E(t,o);return i=_(o,"script"),i.length>0&&w(i,!c&&_(t,"script")),i=a=r=null,o},buildFragment:function(t,e,n,i){for(var r,o,s,a,c,l,u,h=t.length,p=m(e),d=[],f=0;h>f;f++)if(o=t[f],o||0===o)if("object"===oe.type(o))oe.merge(d,o.nodeType?[o]:o);else if(Ke.test(o)){for(a=a||p.appendChild(e.createElement("div")),c=(Ye.exec(o)||["",""])[1].toLowerCase(),u=Qe[c]||Qe._default,a.innerHTML=u[1]+o.replace(je,"<$1></$2>")+u[2],r=u[0];r--;)a=a.lastChild;if(!ie.leadingWhitespace&&Ge.test(o)&&d.push(e.createTextNode(Ge.exec(o)[0])),!ie.tbody)for(o="table"!==c||Fe.test(o)?"<table>"!==u[1]||Fe.test(o)?0:a:a.firstChild,r=o&&o.childNodes.length;r--;)oe.nodeName(l=o.childNodes[r],"tbody")&&!l.childNodes.length&&o.removeChild(l);for(oe.merge(d,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=p.lastChild}else d.push(e.createTextNode(o));for(a&&p.removeChild(a),ie.appendChecked||oe.grep(_(d,"input"),g),f=0;o=d[f++];)if((!i||-1===oe.inArray(o,i))&&(s=oe.contains(o.ownerDocument,o),a=_(p.appendChild(o),"script"),s&&w(a),n))for(r=0;o=a[r++];)ze.test(o.type||"")&&n.push(o);return a=null,p},cleanData:function(t,e){for(var n,i,r,o,s=0,a=oe.expando,c=oe.cache,l=ie.deleteExpando,u=oe.event.special;null!=(n=t[s]);s++)if((e||oe.acceptData(n))&&(r=n[a],o=r&&c[r])){if(o.events)for(i in o.events)u[i]?oe.event.remove(n,i):oe.removeEvent(n,i,o.handle);c[r]&&(delete c[r],l?delete n[a]:typeof n.removeAttribute!==Ce?n.removeAttribute(a):n[a]=null,V.push(r))}}}),oe.fn.extend({text:function(t){return Me(this,function(t){return void 0===t?oe.text(this):this.empty().append((this[0]&&this[0].ownerDocument||me).createTextNode(t))},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=v(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,i=t?oe.filter(t,this):this,r=0;null!=(n=i[r]);r++)e||1!==n.nodeType||oe.cleanData(_(n)),n.parentNode&&(e&&oe.contains(n.ownerDocument,n)&&w(_(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++){for(1===t.nodeType&&oe.cleanData(_(t,!1));t.firstChild;)t.removeChild(t.firstChild);t.options&&oe.nodeName(t,"select")&&(t.options.length=0)}return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return oe.clone(this,t,e)})},html:function(t){return Me(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t)return 1===e.nodeType?e.innerHTML.replace(Oe,""):void 0;if(!("string"!=typeof t||He.test(t)||!ie.htmlSerialize&&Be.test(t)||!ie.leadingWhitespace&&Ge.test(t)||Qe[(Ye.exec(t)||["",""])[1].toLowerCase()])){t=t.replace(je,"<$1></$2>");try{for(;i>n;n++)e=this[n]||{},1===e.nodeType&&(oe.cleanData(_(e,!1)),e.innerHTML=t);e=0}catch(r){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,oe.cleanData(_(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=Q.apply([],t);var n,i,r,o,s,a,c=0,l=this.length,u=this,h=l-1,p=t[0],d=oe.isFunction(p);if(d||l>1&&"string"==typeof p&&!ie.checkClone&&qe.test(p))return this.each(function(n){var i=u.eq(n);d&&(t[0]=p.call(this,n,i.html())),i.domManip(t,e)});if(l&&(a=oe.buildFragment(t,this[0].ownerDocument,!1,this),n=a.firstChild,1===a.childNodes.length&&(a=n),n)){for(o=oe.map(_(a,"script"),y),r=o.length;l>c;c++)i=a,c!==h&&(i=oe.clone(i,!0,!0),r&&oe.merge(o,_(i,"script"))),e.call(this[c],i,c);if(r)for(s=o[o.length-1].ownerDocument,oe.map(o,b),c=0;r>c;c++)i=o[c],ze.test(i.type||"")&&!oe._data(i,"globalEval")&&oe.contains(s,i)&&(i.src?oe._evalUrl&&oe._evalUrl(i.src):oe.globalEval((i.text||i.textContent||i.innerHTML||"").replace(We,"")));a=n=null}return this}}),oe.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){oe.fn[t]=function(t){for(var n,i=0,r=[],o=oe(t),s=o.length-1;s>=i;i++)n=i===s?this:this.clone(!0),oe(o[i])[e](n),X.apply(r,n.get());return this.pushStack(r)}});var Je,tn={};!function(){var t,e,n=me.createElement("div"),i="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";n.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=n.getElementsByTagName("a")[0],t.style.cssText="float:left;opacity:.5",ie.opacity=/^0.5/.test(t.style.opacity),ie.cssFloat=!!t.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===n.style.backgroundClip,t=n=null,ie.shrinkWrapBlocks=function(){var t,n,r,o;
if(null==e){if(t=me.getElementsByTagName("body")[0],!t)return;o="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",n=me.createElement("div"),r=me.createElement("div"),t.appendChild(n).appendChild(r),e=!1,typeof r.style.zoom!==Ce&&(r.style.cssText=i+";width:1px;padding:1px;zoom:1",r.innerHTML="<div></div>",r.firstChild.style.width="5px",e=3!==r.offsetWidth),t.removeChild(n),t=n=r=null}return e}}();var en,nn,rn=/^margin/,on=new RegExp("^("+Te+")(?!px)[a-z%]+$","i"),sn=/^(top|right|bottom|left)$/;t.getComputedStyle?(en=function(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)},nn=function(t,e,n){var i,r,o,s,a=t.style;return n=n||en(t),s=n?n.getPropertyValue(e)||n[e]:void 0,n&&(""!==s||oe.contains(t.ownerDocument,t)||(s=oe.style(t,e)),on.test(s)&&rn.test(e)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0===s?s:s+""}):me.documentElement.currentStyle&&(en=function(t){return t.currentStyle},nn=function(t,e,n){var i,r,o,s,a=t.style;return n=n||en(t),s=n?n[e]:void 0,null==s&&a&&a[e]&&(s=a[e]),on.test(s)&&!sn.test(e)&&(i=a.left,r=t.runtimeStyle,o=r&&r.left,o&&(r.left=t.currentStyle.left),a.left="fontSize"===e?"1em":s,s=a.pixelLeft+"px",a.left=i,o&&(r.left=o)),void 0===s?s:s+""||"auto"}),function(){function e(){var e,n,i=me.getElementsByTagName("body")[0];i&&(e=me.createElement("div"),n=me.createElement("div"),e.style.cssText=l,i.appendChild(e).appendChild(n),n.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",oe.swap(i,null!=i.style.zoom?{zoom:1}:{},function(){r=4===n.offsetWidth}),o=!0,s=!1,a=!0,t.getComputedStyle&&(s="1%"!==(t.getComputedStyle(n,null)||{}).top,o="4px"===(t.getComputedStyle(n,null)||{width:"4px"}).width),i.removeChild(e),n=i=null)}var n,i,r,o,s,a,c=me.createElement("div"),l="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",u="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";c.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=c.getElementsByTagName("a")[0],n.style.cssText="float:left;opacity:.5",ie.opacity=/^0.5/.test(n.style.opacity),ie.cssFloat=!!n.style.cssFloat,c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",ie.clearCloneStyle="content-box"===c.style.backgroundClip,n=c=null,oe.extend(ie,{reliableHiddenOffsets:function(){if(null!=i)return i;var t,e,n,r=me.createElement("div"),o=me.getElementsByTagName("body")[0];if(o)return r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=me.createElement("div"),t.style.cssText=l,o.appendChild(t).appendChild(r),r.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=r.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",n=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",i=n&&0===e[0].offsetHeight,o.removeChild(t),r=o=null,i},boxSizing:function(){return null==r&&e(),r},boxSizingReliable:function(){return null==o&&e(),o},pixelPosition:function(){return null==s&&e(),s},reliableMarginRight:function(){var e,n,i,r;if(null==a&&t.getComputedStyle){if(e=me.getElementsByTagName("body")[0],!e)return;n=me.createElement("div"),i=me.createElement("div"),n.style.cssText=l,e.appendChild(n).appendChild(i),r=i.appendChild(me.createElement("div")),r.style.cssText=i.style.cssText=u,r.style.marginRight=r.style.width="0",i.style.width="1px",a=!parseFloat((t.getComputedStyle(r,null)||{}).marginRight),e.removeChild(n)}return a}})}(),oe.swap=function(t,e,n,i){var r,o,s={};for(o in e)s[o]=t.style[o],t.style[o]=e[o];r=n.apply(t,i||[]);for(o in e)t.style[o]=s[o];return r};var an=/alpha\([^)]*\)/i,cn=/opacity\s*=\s*([^)]*)/,ln=/^(none|table(?!-c[ea]).+)/,un=new RegExp("^("+Te+")(.*)$","i"),hn=new RegExp("^([+-])=("+Te+")","i"),pn={position:"absolute",visibility:"hidden",display:"block"},dn={letterSpacing:0,fontWeight:400},fn=["Webkit","O","Moz","ms"];oe.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=nn(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ie.cssFloat?"cssFloat":"styleFloat"},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var r,o,s,a=oe.camelCase(e),c=t.style;if(e=oe.cssProps[a]||(oe.cssProps[a]=T(c,a)),s=oe.cssHooks[e]||oe.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(t,!1,i))?r:c[e];if(o=typeof n,"string"===o&&(r=hn.exec(n))&&(n=(r[1]+1)*r[2]+parseFloat(oe.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||oe.cssNumber[a]||(n+="px"),ie.clearCloneStyle||""!==n||0!==e.indexOf("background")||(c[e]="inherit"),!(s&&"set"in s&&void 0===(n=s.set(t,n,i)))))try{c[e]="",c[e]=n}catch(l){}}},css:function(t,e,n,i){var r,o,s,a=oe.camelCase(e);return e=oe.cssProps[a]||(oe.cssProps[a]=T(t.style,a)),s=oe.cssHooks[e]||oe.cssHooks[a],s&&"get"in s&&(o=s.get(t,!0,n)),void 0===o&&(o=nn(t,e,i)),"normal"===o&&e in dn&&(o=dn[e]),""===n||n?(r=parseFloat(o),n===!0||oe.isNumeric(r)?r||0:o):o}}),oe.each(["height","width"],function(t,e){oe.cssHooks[e]={get:function(t,n,i){return n?0===t.offsetWidth&&ln.test(oe.css(t,"display"))?oe.swap(t,pn,function(){return P(t,e,i)}):P(t,e,i):void 0},set:function(t,n,i){var r=i&&en(t);return A(t,n,i?M(t,e,i,ie.boxSizing()&&"border-box"===oe.css(t,"boxSizing",!1,r),r):0)}}}),ie.opacity||(oe.cssHooks.opacity={get:function(t,e){return cn.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":e?"1":""},set:function(t,e){var n=t.style,i=t.currentStyle,r=oe.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,(e>=1||""===e)&&""===oe.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===e||i&&!i.filter)||(n.filter=an.test(o)?o.replace(an,r):o+" "+r)}}),oe.cssHooks.marginRight=x(ie.reliableMarginRight,function(t,e){return e?oe.swap(t,{display:"inline-block"},nn,[t,"marginRight"]):void 0}),oe.each({margin:"",padding:"",border:"Width"},function(t,e){oe.cssHooks[t+e]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];4>i;i++)r[t+Ie[i]+e]=o[i]||o[i-2]||o[0];return r}},rn.test(t)||(oe.cssHooks[t+e].set=A)}),oe.fn.extend({css:function(t,e){return Me(this,function(t,e,n){var i,r,o={},s=0;if(oe.isArray(e)){for(i=en(t),r=e.length;r>s;s++)o[e[s]]=oe.css(t,e[s],!1,i);return o}return void 0!==n?oe.style(t,e,n):oe.css(t,e)},t,e,arguments.length>1)},show:function(){return I(this,!0)},hide:function(){return I(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Ae(this)?oe(this).show():oe(this).hide()})}}),oe.Tween=D,D.prototype={constructor:D,init:function(t,e,n,i,r,o){this.elem=t,this.prop=n,this.easing=r||"swing",this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=o||(oe.cssNumber[n]?"":"px")},cur:function(){var t=D.propHooks[this.prop];return t&&t.get?t.get(this):D.propHooks._default.get(this)},run:function(t){var e,n=D.propHooks[this.prop];return this.pos=e=this.options.duration?oe.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):D.propHooks._default.set(this),this}},D.prototype.init.prototype=D.prototype,D.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=oe.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){oe.fx.step[t.prop]?oe.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[oe.cssProps[t.prop]]||oe.cssHooks[t.prop])?oe.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},D.propHooks.scrollTop=D.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},oe.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},oe.fx=D.prototype.init,oe.fx.step={};var mn,_n,gn=/^(?:toggle|show|hide)$/,vn=new RegExp("^(?:([+-])=|)("+Te+")([a-z%]*)$","i"),yn=/queueHooks$/,bn=[R],wn={"*":[function(t,e){var n=this.createTween(t,e),i=n.cur(),r=vn.exec(e),o=r&&r[3]||(oe.cssNumber[t]?"":"px"),s=(oe.cssNumber[t]||"px"!==o&&+i)&&vn.exec(oe.css(n.elem,t)),a=1,c=20;if(s&&s[3]!==o){o=o||s[3],r=r||[],s=+i||1;do a=a||".5",s/=a,oe.style(n.elem,t,s+o);while(a!==(a=n.cur()/i)&&1!==a&&--c)}return r&&(s=n.start=+s||+i||0,n.unit=o,n.end=r[1]?s+(r[1]+1)*r[2]:+r[2]),n}]};oe.Animation=oe.extend(O,{tweener:function(t,e){oe.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,i=0,r=t.length;r>i;i++)n=t[i],wn[n]=wn[n]||[],wn[n].unshift(e)},prefilter:function(t,e){e?bn.unshift(t):bn.push(t)}}),oe.speed=function(t,e,n){var i=t&&"object"==typeof t?oe.extend({},t):{complete:n||!n&&e||oe.isFunction(t)&&t,duration:t,easing:n&&e||e&&!oe.isFunction(e)&&e};return i.duration=oe.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in oe.fx.speeds?oe.fx.speeds[i.duration]:oe.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){oe.isFunction(i.old)&&i.old.call(this),i.queue&&oe.dequeue(this,i.queue)},i},oe.fn.extend({fadeTo:function(t,e,n,i){return this.filter(Ae).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(t,e,n,i){var r=oe.isEmptyObject(t),o=oe.speed(e,n,i),s=function(){var e=O(this,oe.extend({},t),o);(r||oe._data(this,"finish"))&&e.stop(!0)};return s.finish=s,r||o.queue===!1?this.each(s):this.queue(o.queue,s)},stop:function(t,e,n){var i=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,r=null!=t&&t+"queueHooks",o=oe.timers,s=oe._data(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&yn.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=t&&o[r].queue!==t||(o[r].anim.stop(n),e=!1,o.splice(r,1));(e||!n)&&oe.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=oe._data(this),i=n[t+"queue"],r=n[t+"queueHooks"],o=oe.timers,s=i?i.length:0;for(n.finish=!0,oe.queue(this,t,[]),r&&r.stop&&r.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;s>e;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete n.finish})}}),oe.each(["toggle","show","hide"],function(t,e){var n=oe.fn[e];oe.fn[e]=function(t,i,r){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(N(e,!0),t,i,r)}}),oe.each({slideDown:N("show"),slideUp:N("hide"),slideToggle:N("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){oe.fn[t]=function(t,n,i){return this.animate(e,t,n,i)}}),oe.timers=[],oe.fx.tick=function(){var t,e=oe.timers,n=0;for(mn=oe.now();n<e.length;n++)t=e[n],t()||e[n]!==t||e.splice(n--,1);e.length||oe.fx.stop(),mn=void 0},oe.fx.timer=function(t){oe.timers.push(t),t()?oe.fx.start():oe.timers.pop()},oe.fx.interval=13,oe.fx.start=function(){_n||(_n=setInterval(oe.fx.tick,oe.fx.interval))},oe.fx.stop=function(){clearInterval(_n),_n=null},oe.fx.speeds={slow:600,fast:200,_default:400},oe.fn.delay=function(t,e){return t=oe.fx?oe.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var i=setTimeout(e,t);n.stop=function(){clearTimeout(i)}})},function(){var t,e,n,i,r=me.createElement("div");r.setAttribute("className","t"),r.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",t=r.getElementsByTagName("a")[0],n=me.createElement("select"),i=n.appendChild(me.createElement("option")),e=r.getElementsByTagName("input")[0],t.style.cssText="top:1px",ie.getSetAttribute="t"!==r.className,ie.style=/top/.test(t.getAttribute("style")),ie.hrefNormalized="/a"===t.getAttribute("href"),ie.checkOn=!!e.value,ie.optSelected=i.selected,ie.enctype=!!me.createElement("form").enctype,n.disabled=!0,ie.optDisabled=!i.disabled,e=me.createElement("input"),e.setAttribute("value",""),ie.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),ie.radioValue="t"===e.value,t=e=n=i=r=null}();var En=/\r/g;oe.fn.extend({val:function(t){var e,n,i,r=this[0];{if(arguments.length)return i=oe.isFunction(t),this.each(function(n){var r;1===this.nodeType&&(r=i?t.call(this,n,oe(this).val()):t,null==r?r="":"number"==typeof r?r+="":oe.isArray(r)&&(r=oe.map(r,function(t){return null==t?"":t+""})),e=oe.valHooks[this.type]||oe.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,r,"value")||(this.value=r))});if(r)return e=oe.valHooks[r.type]||oe.valHooks[r.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(r,"value"))?n:(n=r.value,"string"==typeof n?n.replace(En,""):null==n?"":n)}}}),oe.extend({valHooks:{option:{get:function(t){var e=oe.find.attr(t,"value");return null!=e?e:oe.text(t)}},select:{get:function(t){for(var e,n,i=t.options,r=t.selectedIndex,o="select-one"===t.type||0>r,s=o?null:[],a=o?r+1:i.length,c=0>r?a:o?r:0;a>c;c++)if(n=i[c],!(!n.selected&&c!==r||(ie.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&oe.nodeName(n.parentNode,"optgroup"))){if(e=oe(n).val(),o)return e;s.push(e)}return s},set:function(t,e){for(var n,i,r=t.options,o=oe.makeArray(e),s=r.length;s--;)if(i=r[s],oe.inArray(oe.valHooks.option.get(i),o)>=0)try{i.selected=n=!0}catch(a){i.scrollHeight}else i.selected=!1;return n||(t.selectedIndex=-1),r}}}}),oe.each(["radio","checkbox"],function(){oe.valHooks[this]={set:function(t,e){return oe.isArray(e)?t.checked=oe.inArray(oe(t).val(),e)>=0:void 0}},ie.checkOn||(oe.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})});var Sn,Cn,$n=oe.expr.attrHandle,xn=/^(?:checked|selected)$/i,Tn=ie.getSetAttribute,In=ie.input;oe.fn.extend({attr:function(t,e){return Me(this,oe.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){oe.removeAttr(this,t)})}}),oe.extend({attr:function(t,e,n){var i,r,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Ce?oe.prop(t,e,n):(1===o&&oe.isXMLDoc(t)||(e=e.toLowerCase(),i=oe.attrHooks[e]||(oe.expr.match.bool.test(e)?Cn:Sn)),void 0===n?i&&"get"in i&&null!==(r=i.get(t,e))?r:(r=oe.find.attr(t,e),null==r?void 0:r):null!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:(t.setAttribute(e,n+""),n):(oe.removeAttr(t,e),void 0))},removeAttr:function(t,e){var n,i,r=0,o=e&&e.match(be);if(o&&1===t.nodeType)for(;n=o[r++];)i=oe.propFix[n]||n,oe.expr.match.bool.test(n)?In&&Tn||!xn.test(n)?t[i]=!1:t[oe.camelCase("default-"+n)]=t[i]=!1:oe.attr(t,n,""),t.removeAttribute(Tn?n:i)},attrHooks:{type:{set:function(t,e){if(!ie.radioValue&&"radio"===e&&oe.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),Cn={set:function(t,e,n){return e===!1?oe.removeAttr(t,n):In&&Tn||!xn.test(n)?t.setAttribute(!Tn&&oe.propFix[n]||n,n):t[oe.camelCase("default-"+n)]=t[n]=!0,n}},oe.each(oe.expr.match.bool.source.match(/\w+/g),function(t,e){var n=$n[e]||oe.find.attr;$n[e]=In&&Tn||!xn.test(e)?function(t,e,i){var r,o;return i||(o=$n[e],$n[e]=r,r=null!=n(t,e,i)?e.toLowerCase():null,$n[e]=o),r}:function(t,e,n){return n?void 0:t[oe.camelCase("default-"+e)]?e.toLowerCase():null}}),In&&Tn||(oe.attrHooks.value={set:function(t,e,n){return oe.nodeName(t,"input")?(t.defaultValue=e,void 0):Sn&&Sn.set(t,e,n)}}),Tn||(Sn={set:function(t,e,n){var i=t.getAttributeNode(n);return i||t.setAttributeNode(i=t.ownerDocument.createAttribute(n)),i.value=e+="","value"===n||e===t.getAttribute(n)?e:void 0}},$n.id=$n.name=$n.coords=function(t,e,n){var i;return n?void 0:(i=t.getAttributeNode(e))&&""!==i.value?i.value:null},oe.valHooks.button={get:function(t,e){var n=t.getAttributeNode(e);return n&&n.specified?n.value:void 0},set:Sn.set},oe.attrHooks.contenteditable={set:function(t,e,n){Sn.set(t,""===e?!1:e,n)}},oe.each(["width","height"],function(t,e){oe.attrHooks[e]={set:function(t,n){return""===n?(t.setAttribute(e,"auto"),n):void 0}}})),ie.style||(oe.attrHooks.style={get:function(t){return t.style.cssText||void 0},set:function(t,e){return t.style.cssText=e+""}});var An=/^(?:input|select|textarea|button|object)$/i,Mn=/^(?:a|area)$/i;oe.fn.extend({prop:function(t,e){return Me(this,oe.prop,t,e,arguments.length>1)},removeProp:function(t){return t=oe.propFix[t]||t,this.each(function(){try{this[t]=void 0,delete this[t]}catch(e){}})}}),oe.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var i,r,o,s=t.nodeType;if(t&&3!==s&&8!==s&&2!==s)return o=1!==s||!oe.isXMLDoc(t),o&&(e=oe.propFix[e]||e,r=oe.propHooks[e]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:t[e]=n:r&&"get"in r&&null!==(i=r.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=oe.find.attr(t,"tabindex");return e?parseInt(e,10):An.test(t.nodeName)||Mn.test(t.nodeName)&&t.href?0:-1}}}}),ie.hrefNormalized||oe.each(["href","src"],function(t,e){oe.propHooks[e]={get:function(t){return t.getAttribute(e,4)}}}),ie.optSelected||(oe.propHooks.selected={get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}}),oe.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){oe.propFix[this.toLowerCase()]=this}),ie.enctype||(oe.propFix.enctype="encoding");var Pn=/[\t\r\n\f]/g;oe.fn.extend({addClass:function(t){var e,n,i,r,o,s,a=0,c=this.length,l="string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(be)||[];c>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pn," "):" ")){for(o=0;r=e[o++];)i.indexOf(" "+r+" ")<0&&(i+=r+" ");s=oe.trim(i),n.className!==s&&(n.className=s)}return this},removeClass:function(t){var e,n,i,r,o,s,a=0,c=this.length,l=0===arguments.length||"string"==typeof t&&t;if(oe.isFunction(t))return this.each(function(e){oe(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(be)||[];c>a;a++)if(n=this[a],i=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Pn," "):"")){for(o=0;r=e[o++];)for(;i.indexOf(" "+r+" ")>=0;)i=i.replace(" "+r+" "," ");s=t?oe.trim(i):"",n.className!==s&&(n.className=s)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):oe.isFunction(t)?this.each(function(n){oe(this).toggleClass(t.call(this,n,this.className,e),e)}):this.each(function(){if("string"===n)for(var e,i=0,r=oe(this),o=t.match(be)||[];e=o[i++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else(n===Ce||"boolean"===n)&&(this.className&&oe._data(this,"__className__",this.className),this.className=this.className||t===!1?"":oe._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Pn," ").indexOf(e)>=0)return!0;return!1}}),oe.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){oe.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),oe.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var Dn=oe.now(),kn=/\?/,Nn=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;oe.parseJSON=function(e){if(t.JSON&&t.JSON.parse)return t.JSON.parse(e+"");var n,i=null,r=oe.trim(e+"");return r&&!oe.trim(r.replace(Nn,function(t,e,r,o){return n&&e&&(i=0),0===i?t:(n=r||e,i+=!o-!r,"")}))?Function("return "+r)():oe.error("Invalid JSON: "+e)},oe.parseXML=function(e){var n,i;if(!e||"string"!=typeof e)return null;try{t.DOMParser?(i=new DOMParser,n=i.parseFromString(e,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(e))}catch(r){n=void 0}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||oe.error("Invalid XML: "+e),n};var Un,Rn,Ln=/#.*$/,On=/([?&])_=[^&]*/,Bn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Gn=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,jn=/^(?:GET|HEAD)$/,Yn=/^\/\//,Fn=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Kn={},Hn={},qn="*/".concat("*");try{Rn=location.href}catch(zn){Rn=me.createElement("a"),Rn.href="",Rn=Rn.href}Un=Fn.exec(Rn.toLowerCase())||[],oe.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Rn,type:"GET",isLocal:Gn.test(Un[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":qn,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":oe.parseJSON,"text xml":oe.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?j(j(t,oe.ajaxSettings),e):j(oe.ajaxSettings,t)},ajaxPrefilter:B(Kn),ajaxTransport:B(Hn),ajax:function(t,e){function n(t,e,n,i){var r,u,g,v,b,E=e;2!==y&&(y=2,a&&clearTimeout(a),l=void 0,s=i||"",w.readyState=t>0?4:0,r=t>=200&&300>t||304===t,n&&(v=Y(h,w,n)),v=F(h,v,w,r),r?(h.ifModified&&(b=w.getResponseHeader("Last-Modified"),b&&(oe.lastModified[o]=b),b=w.getResponseHeader("etag"),b&&(oe.etag[o]=b)),204===t||"HEAD"===h.type?E="nocontent":304===t?E="notmodified":(E=v.state,u=v.data,g=v.error,r=!g)):(g=E,(t||!E)&&(E="error",0>t&&(t=0))),w.status=t,w.statusText=(e||E)+"",r?f.resolveWith(p,[u,E,w]):f.rejectWith(p,[w,E,g]),w.statusCode(_),_=void 0,c&&d.trigger(r?"ajaxSuccess":"ajaxError",[w,h,r?u:g]),m.fireWith(p,[w,E]),c&&(d.trigger("ajaxComplete",[w,h]),--oe.active||oe.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var i,r,o,s,a,c,l,u,h=oe.ajaxSetup({},e),p=h.context||h,d=h.context&&(p.nodeType||p.jquery)?oe(p):oe.event,f=oe.Deferred(),m=oe.Callbacks("once memory"),_=h.statusCode||{},g={},v={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(t){var e;if(2===y){if(!u)for(u={};e=Bn.exec(s);)u[e[1].toLowerCase()]=e[2];e=u[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===y?s:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return y||(t=v[n]=v[n]||t,g[t]=e),this},overrideMimeType:function(t){return y||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>y)for(e in t)_[e]=[_[e],t[e]];else w.always(t[w.status]);return this},abort:function(t){var e=t||b;return l&&l.abort(e),n(0,e),this}};if(f.promise(w).complete=m.add,w.success=w.done,w.error=w.fail,h.url=((t||h.url||Rn)+"").replace(Ln,"").replace(Yn,Un[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=oe.trim(h.dataType||"*").toLowerCase().match(be)||[""],null==h.crossDomain&&(i=Fn.exec(h.url.toLowerCase()),h.crossDomain=!(!i||i[1]===Un[1]&&i[2]===Un[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Un[3]||("http:"===Un[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=oe.param(h.data,h.traditional)),G(Kn,h,e,w),2===y)return w;c=h.global,c&&0===oe.active++&&oe.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!jn.test(h.type),o=h.url,h.hasContent||(h.data&&(o=h.url+=(kn.test(o)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=On.test(o)?o.replace(On,"$1_="+Dn++):o+(kn.test(o)?"&":"?")+"_="+Dn++)),h.ifModified&&(oe.lastModified[o]&&w.setRequestHeader("If-Modified-Since",oe.lastModified[o]),oe.etag[o]&&w.setRequestHeader("If-None-Match",oe.etag[o])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&w.setRequestHeader("Content-Type",h.contentType),w.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+qn+"; q=0.01":""):h.accepts["*"]);for(r in h.headers)w.setRequestHeader(r,h.headers[r]);if(h.beforeSend&&(h.beforeSend.call(p,w,h)===!1||2===y))return w.abort();b="abort";for(r in{success:1,error:1,complete:1})w[r](h[r]);if(l=G(Hn,h,e,w)){w.readyState=1,c&&d.trigger("ajaxSend",[w,h]),h.async&&h.timeout>0&&(a=setTimeout(function(){w.abort("timeout")},h.timeout));try{y=1,l.send(g,n)}catch(E){if(!(2>y))throw E;n(-1,E)}}else n(-1,"No Transport");return w},getJSON:function(t,e,n){return oe.get(t,e,n,"json")},getScript:function(t,e){return oe.get(t,void 0,e,"script")}}),oe.each(["get","post"],function(t,e){oe[e]=function(t,n,i,r){return oe.isFunction(n)&&(r=r||i,i=n,n=void 0),oe.ajax({url:t,type:e,dataType:r,data:n,success:i})}}),oe.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){oe.fn[e]=function(t){return this.on(e,t)}}),oe._evalUrl=function(t){return oe.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},oe.fn.extend({wrapAll:function(t){if(oe.isFunction(t))return this.each(function(e){oe(this).wrapAll(t.call(this,e))});if(this[0]){var e=oe(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return oe.isFunction(t)?this.each(function(e){oe(this).wrapInner(t.call(this,e))}):this.each(function(){var e=oe(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=oe.isFunction(t);return this.each(function(n){oe(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){oe.nodeName(this,"body")||oe(this).replaceWith(this.childNodes)}).end()}}),oe.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0||!ie.reliableHiddenOffsets()&&"none"===(t.style&&t.style.display||oe.css(t,"display"))},oe.expr.filters.visible=function(t){return!oe.expr.filters.hidden(t)};var Vn=/%20/g,Wn=/\[\]$/,Qn=/\r?\n/g,Xn=/^(?:submit|button|image|reset|file)$/i,Zn=/^(?:input|select|textarea|keygen)/i;oe.param=function(t,e){var n,i=[],r=function(t,e){e=oe.isFunction(e)?e():null==e?"":e,i[i.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(void 0===e&&(e=oe.ajaxSettings&&oe.ajaxSettings.traditional),oe.isArray(t)||t.jquery&&!oe.isPlainObject(t))oe.each(t,function(){r(this.name,this.value)});else for(n in t)K(n,t[n],e,r);return i.join("&").replace(Vn,"+")},oe.fn.extend({serialize:function(){return oe.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=oe.prop(this,"elements");return t?oe.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!oe(this).is(":disabled")&&Zn.test(this.nodeName)&&!Xn.test(t)&&(this.checked||!Pe.test(t))}).map(function(t,e){var n=oe(this).val();return null==n?null:oe.isArray(n)?oe.map(n,function(t){return{name:e.name,value:t.replace(Qn,"\r\n")}}):{name:e.name,value:n.replace(Qn,"\r\n")}}).get()}}),oe.ajaxSettings.xhr=void 0!==t.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&H()||q()}:H;var Jn=0,ti={},ei=oe.ajaxSettings.xhr();t.ActiveXObject&&oe(t).on("unload",function(){for(var t in ti)ti[t](void 0,!0)}),ie.cors=!!ei&&"withCredentials"in ei,ei=ie.ajax=!!ei,ei&&oe.ajaxTransport(function(t){if(!t.crossDomain||ie.cors){var e;return{send:function(n,i){var r,o=t.xhr(),s=++Jn;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(r in t.xhrFields)o[r]=t.xhrFields[r];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(r in n)void 0!==n[r]&&o.setRequestHeader(r,n[r]+"");o.send(t.hasContent&&t.data||null),e=function(n,r){var a,c,l;if(e&&(r||4===o.readyState))if(delete ti[s],e=void 0,o.onreadystatechange=oe.noop,r)4!==o.readyState&&o.abort();else{l={},a=o.status,"string"==typeof o.responseText&&(l.text=o.responseText);try{c=o.statusText}catch(u){c=""}a||!t.isLocal||t.crossDomain?1223===a&&(a=204):a=l.text?200:404}l&&i(a,c,l,o.getAllResponseHeaders())},t.async?4===o.readyState?setTimeout(e):o.onreadystatechange=ti[s]=e:e()},abort:function(){e&&e(void 0,!0)}}}}),oe.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return oe.globalEval(t),t}}}),oe.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),oe.ajaxTransport("script",function(t){if(t.crossDomain){var e,n=me.head||oe("head")[0]||me.documentElement;return{send:function(i,r){e=me.createElement("script"),e.async=!0,t.scriptCharset&&(e.charset=t.scriptCharset),e.src=t.url,e.onload=e.onreadystatechange=function(t,n){(n||!e.readyState||/loaded|complete/.test(e.readyState))&&(e.onload=e.onreadystatechange=null,e.parentNode&&e.parentNode.removeChild(e),e=null,n||r(200,"success"))},n.insertBefore(e,n.firstChild)},abort:function(){e&&e.onload(void 0,!0)}}}});var ni=[],ii=/(=)\?(?=&|$)|\?\?/;oe.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=ni.pop()||oe.expando+"_"+Dn++;return this[t]=!0,t}}),oe.ajaxPrefilter("json jsonp",function(e,n,i){var r,o,s,a=e.jsonp!==!1&&(ii.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&ii.test(e.data)&&"data");return a||"jsonp"===e.dataTypes[0]?(r=e.jsonpCallback=oe.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(ii,"$1"+r):e.jsonp!==!1&&(e.url+=(kn.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||oe.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=t[r],t[r]=function(){s=arguments},i.always(function(){t[r]=o,e[r]&&(e.jsonpCallback=n.jsonpCallback,ni.push(r)),s&&oe.isFunction(o)&&o(s[0]),s=o=void 0}),"script"):void 0}),oe.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||me;var i=pe.exec(t),r=!n&&[];return i?[e.createElement(i[1])]:(i=oe.buildFragment([t],e,r),r&&r.length&&oe(r).remove(),oe.merge([],i.childNodes))};var ri=oe.fn.load;oe.fn.load=function(t,e,n){if("string"!=typeof t&&ri)return ri.apply(this,arguments);var i,r,o,s=this,a=t.indexOf(" ");return a>=0&&(i=t.slice(a,t.length),t=t.slice(0,a)),oe.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),s.length>0&&oe.ajax({url:t,type:o,dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?oe("<div>").append(oe.parseHTML(t)).find(i):t)}).complete(n&&function(t,e){s.each(n,r||[t.responseText,e,t])}),this},oe.expr.filters.animated=function(t){return oe.grep(oe.timers,function(e){return t===e.elem}).length};var oi=t.document.documentElement;oe.offset={setOffset:function(t,e,n){var i,r,o,s,a,c,l,u=oe.css(t,"position"),h=oe(t),p={};"static"===u&&(t.style.position="relative"),a=h.offset(),o=oe.css(t,"top"),c=oe.css(t,"left"),l=("absolute"===u||"fixed"===u)&&oe.inArray("auto",[o,c])>-1,l?(i=h.position(),s=i.top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(c)||0),oe.isFunction(e)&&(e=e.call(t,n,a)),null!=e.top&&(p.top=e.top-a.top+s),null!=e.left&&(p.left=e.left-a.left+r),"using"in e?e.using.call(t,p):h.css(p)}},oe.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){oe.offset.setOffset(this,t,e)});var e,n,i={top:0,left:0},r=this[0],o=r&&r.ownerDocument;if(o)return e=o.documentElement,oe.contains(e,r)?(typeof r.getBoundingClientRect!==Ce&&(i=r.getBoundingClientRect()),n=z(o),{top:i.top+(n.pageYOffset||e.scrollTop)-(e.clientTop||0),left:i.left+(n.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):i},position:function(){if(this[0]){var t,e,n={top:0,left:0},i=this[0];return"fixed"===oe.css(i,"position")?e=i.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),oe.nodeName(t[0],"html")||(n=t.offset()),n.top+=oe.css(t[0],"borderTopWidth",!0),n.left+=oe.css(t[0],"borderLeftWidth",!0)),{top:e.top-n.top-oe.css(i,"marginTop",!0),left:e.left-n.left-oe.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||oi;t&&!oe.nodeName(t,"html")&&"static"===oe.css(t,"position");)t=t.offsetParent;return t||oi})}}),oe.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var n=/Y/.test(e);oe.fn[t]=function(i){return Me(this,function(t,i,r){var o=z(t);return void 0===r?o?e in o?o[e]:o.document.documentElement[i]:t[i]:(o?o.scrollTo(n?oe(o).scrollLeft():r,n?r:oe(o).scrollTop()):t[i]=r,void 0)
},t,i,arguments.length,null)}}),oe.each(["top","left"],function(t,e){oe.cssHooks[e]=x(ie.pixelPosition,function(t,n){return n?(n=nn(t,e),on.test(n)?oe(t).position()[e]+"px":n):void 0})}),oe.each({Height:"height",Width:"width"},function(t,e){oe.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,i){oe.fn[i]=function(i,r){var o=arguments.length&&(n||"boolean"!=typeof i),s=n||(i===!0||r===!0?"margin":"border");return Me(this,function(e,n,i){var r;return oe.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===i?oe.css(e,n,s):oe.style(e,n,i,s)},e,o?i:void 0,o,null)}})}),oe.fn.size=function(){return this.length},oe.fn.andSelf=oe.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return oe});var si=t.jQuery,ai=t.$;return oe.noConflict=function(e){return t.$===oe&&(t.$=ai),e&&t.jQuery===oe&&(t.jQuery=si),oe},typeof e===Ce&&(t.jQuery=t.$=oe),oe}),function(t,e){t.rails!==e&&t.error("jquery-ujs has already been loaded!");var n,i=t(document);t.rails=n={linkClickSelector:"a[data-confirm], a[data-method], a[data-remote], a[data-disable-with]",buttonClickSelector:"button[data-remote]",inputChangeSelector:"select[data-remote], input[data-remote], textarea[data-remote]",formSubmitSelector:"form",formInputClickSelector:"form input[type=submit], form input[type=image], form button[type=submit], form button:not([type])",disableSelector:"input[data-disable-with], button[data-disable-with], textarea[data-disable-with]",enableSelector:"input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled",requiredInputSelector:"input[name][required]:not([disabled]),textarea[name][required]:not([disabled])",fileInputSelector:"input[type=file]",linkDisableSelector:"a[data-disable-with]",CSRFProtection:function(e){var n=t('meta[name="csrf-token"]').attr("content");n&&e.setRequestHeader("X-CSRF-Token",n)},refreshCSRFTokens:function(){var e=t("meta[name=csrf-token]").attr("content"),n=t("meta[name=csrf-param]").attr("content");t('form input[name="'+n+'"]').val(e)},fire:function(e,n,i){var r=t.Event(n);return e.trigger(r,i),r.result!==!1},confirm:function(t){return confirm(t)},ajax:function(e){return t.ajax(e)},href:function(t){return t.attr("href")},handleRemote:function(i){var r,o,s,a,c,l,u,h;if(n.fire(i,"ajax:before")){if(a=i.data("cross-domain"),c=a===e?null:a,l=i.data("with-credentials")||null,u=i.data("type")||t.ajaxSettings&&t.ajaxSettings.dataType,i.is("form")){r=i.attr("method"),o=i.attr("action"),s=i.serializeArray();var p=i.data("ujs:submit-button");p&&(s.push(p),i.data("ujs:submit-button",null))}else i.is(n.inputChangeSelector)?(r=i.data("method"),o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):i.is(n.buttonClickSelector)?(r=i.data("method")||"get",o=i.data("url"),s=i.serialize(),i.data("params")&&(s=s+"&"+i.data("params"))):(r=i.data("method"),o=n.href(i),s=i.data("params")||null);h={type:r||"GET",data:s,dataType:u,beforeSend:function(t,r){return r.dataType===e&&t.setRequestHeader("accept","*/*;q=0.5, "+r.accepts.script),n.fire(i,"ajax:beforeSend",[t,r])},success:function(t,e,n){i.trigger("ajax:success",[t,e,n])},complete:function(t,e){i.trigger("ajax:complete",[t,e])},error:function(t,e,n){i.trigger("ajax:error",[t,e,n])},crossDomain:c},l&&(h.xhrFields={withCredentials:l}),o&&(h.url=o);var d=n.ajax(h);return i.trigger("ajax:send",d),d}return!1},handleMethod:function(i){var r=n.href(i),o=i.data("method"),s=i.attr("target"),a=t("meta[name=csrf-token]").attr("content"),c=t("meta[name=csrf-param]").attr("content"),l=t('<form method="post" action="'+r+'"></form>'),u='<input name="_method" value="'+o+'" type="hidden" />';c!==e&&a!==e&&(u+='<input name="'+c+'" value="'+a+'" type="hidden" />'),s&&l.attr("target",s),l.hide().append(u).appendTo("body"),l.submit()},disableFormElements:function(e){e.find(n.disableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with",e[n]()),e[n](e.data("disable-with")),e.prop("disabled",!0)})},enableFormElements:function(e){e.find(n.enableSelector).each(function(){var e=t(this),n=e.is("button")?"html":"val";e.data("ujs:enable-with")&&e[n](e.data("ujs:enable-with")),e.prop("disabled",!1)})},allowAction:function(t){var e,i=t.data("confirm"),r=!1;return i?(n.fire(t,"confirm")&&(r=n.confirm(i),e=n.fire(t,"confirm:complete",[r])),r&&e):!0},blankInputs:function(e,n,i){var r,o,s=t(),a=n||"input,textarea",c=e.find(a);return c.each(function(){if(r=t(this),o=r.is("input[type=checkbox],input[type=radio]")?r.is(":checked"):r.val(),!o==!i){if(r.is("input[type=radio]")&&c.filter('input[type=radio]:checked[name="'+r.attr("name")+'"]').length)return!0;s=s.add(r)}}),s.length?s:!1},nonBlankInputs:function(t,e){return n.blankInputs(t,e,!0)},stopEverything:function(e){return t(e.target).trigger("ujs:everythingStopped"),e.stopImmediatePropagation(),!1},disableElement:function(t){t.data("ujs:enable-with",t.html()),t.html(t.data("disable-with")),t.bind("click.railsDisable",function(t){return n.stopEverything(t)})},enableElement:function(t){t.data("ujs:enable-with")!==e&&(t.html(t.data("ujs:enable-with")),t.removeData("ujs:enable-with")),t.unbind("click.railsDisable")}},n.fire(i,"rails:attachBindings")&&(t.ajaxPrefilter(function(t,e,i){t.crossDomain||n.CSRFProtection(i)}),i.delegate(n.linkDisableSelector,"ajax:complete",function(){n.enableElement(t(this))}),i.delegate(n.linkClickSelector,"click.rails",function(i){var r=t(this),o=r.data("method"),s=r.data("params"),a=i.metaKey||i.ctrlKey;if(!n.allowAction(r))return n.stopEverything(i);if(!a&&r.is(n.linkDisableSelector)&&n.disableElement(r),r.data("remote")!==e){if(a&&(!o||"GET"===o)&&!s)return!0;var c=n.handleRemote(r);return c===!1?n.enableElement(r):c.error(function(){n.enableElement(r)}),!1}return r.data("method")?(n.handleMethod(r),!1):void 0}),i.delegate(n.buttonClickSelector,"click.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.inputChangeSelector,"change.rails",function(e){var i=t(this);return n.allowAction(i)?(n.handleRemote(i),!1):n.stopEverything(e)}),i.delegate(n.formSubmitSelector,"submit.rails",function(i){var r=t(this),o=r.data("remote")!==e,s=n.blankInputs(r,n.requiredInputSelector),a=n.nonBlankInputs(r,n.fileInputSelector);if(!n.allowAction(r))return n.stopEverything(i);if(s&&r.attr("novalidate")==e&&n.fire(r,"ajax:aborted:required",[s]))return n.stopEverything(i);if(o){if(a){setTimeout(function(){n.disableFormElements(r)},13);var c=n.fire(r,"ajax:aborted:file",[a]);return c||setTimeout(function(){n.enableFormElements(r)},13),c}return n.handleRemote(r),!1}setTimeout(function(){n.disableFormElements(r)},13)}),i.delegate(n.formInputClickSelector,"click.rails",function(e){var i=t(this);if(!n.allowAction(i))return n.stopEverything(e);var r=i.attr("name"),o=r?{name:r,value:i.val()}:null;i.closest("form").data("ujs:submit-button",o)}),i.delegate(n.formSubmitSelector,"ajax:beforeSend.rails",function(e){this==e.target&&n.disableFormElements(t(this))}),i.delegate(n.formSubmitSelector,"ajax:complete.rails",function(e){this==e.target&&n.enableFormElements(t(this))}),t(function(){n.refreshCSRFTokens()}))}(jQuery),+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(window.jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof n&&n;r||i.data("bs.button",r=new e(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(window.jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",c=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}this.sliding=!0,o&&this.pause();var l=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:s});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,i.addClass(s),r.addClass(s),i.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:o.slide;r||i.data("bs.carousel",r=new e(this,o)),"number"==typeof n?r.to(n):s?r[s]():o.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),r=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},r.data(),i.data()),s=i.attr("data-slide-to");s&&(o.interval=!1),r.carousel(o),(s=i.attr("data-slide-to"))&&r.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bs.collapse",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),r=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(r),s=o.data("bs.collapse"),a=s?"toggle":i.data(),c=i.attr("data-parent"),l=c&&t(c);s&&s.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(a)})}(window.jQuery),+function(t){"use strict";function e(){t(i).remove(),t(r).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),r.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(r).focus(),i.click();var a=t("[role=menu] li:not(.divider):visible a",o);if(a.length){var c=a.index(a.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<a.length-1&&c++,~c||(c=0),a.eq(c).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.find(".modal-dialog").one(t.support.transition.end,function(){n.$element.focus().trigger(r)}).emulateTransitionEnd(300):n.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new e(this,s)),"string"==typeof n?o[n](i):s.show&&o.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(o,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",c="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(i);o&&(i=i.replace(r,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),a=n[0].offsetWidth,c=n[0].offsetHeight;if(o){var l=this.$element.parent(),u=i,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:l.outerWidth(),d="body"==this.options.container?window.innerHeight:l.outerHeight(),f="body"==this.options.container?0:l.offset().left;i="bottom"==i&&s.top+s.height+c-h>d?"top":"top"==i&&s.top-h-c<0?"bottom":"right"==i&&s.right+a>p?"left":"left"==i&&s.left-a<f?"right":i,n.removeClass(u).addClass(i)}var m=this.getCalculatedOffset(i,s,a,c);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,i.offset(t).addClass("in");var c=i[0].offsetWidth,l=i[0].offsetHeight;if("top"==e&&l!=o&&(n=!0,t.top=t.top+o-l),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,i.offset(t),c=i[0].offsetWidth,l=i[0].offsetHeight),this.replaceArrow(u-r+c,c,"left")}else this.replaceArrow(l-o,l,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=n.hoverState&&i.detach()}var n=this,i=this.tip(),r=t.Event("hide.bs."+this.type);return this.$element.trigger(r),r.isDefaultPrevented()?void 0:(i.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?i.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;r||i.data("bs.tooltip",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof n&&n;r||i.data("bs.popover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),+function(t){"use strict";function e(n,i){var r,o=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(r=t(n).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);{var n=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#\w/.test(r)&&t(r);return o&&o.length&&[[o[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})}},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.attr("data-target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),o.removeClass("in")
};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom());var c=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==c&&(this.unpin&&this.$element.css("top",""),this.affixed=c,this.unpin="bottom"==c?r.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(c?"-"+c:"")),"bottom"==c&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery);var Holder=Holder||{};!function(t,e){function n(t,e){var n="complete",i="readystatechange",r=!1,o=r,s=!0,a=t.document,c=a.documentElement,l=a.addEventListener?"addEventListener":"attachEvent",u=a.addEventListener?"removeEventListener":"detachEvent",h=a.addEventListener?"":"on",p=function(s){(s.type!=i||a.readyState==n)&&(("load"==s.type?t:a)[u](h+s.type,p,r),!o&&(o=!0)&&e.call(t,null))},d=function(){try{c.doScroll("left")}catch(t){return setTimeout(d,50),void 0}p("poll")};if(a.readyState==n)e.call(t,"lazy");else{if(a.createEventObject&&c.doScroll){try{s=!t.frameElement}catch(f){}s&&d()}a[l](h+"DOMContentLoaded",p,r),a[l](h+i,p,r),t[l](h+"load",p,r)}}function r(t){t=t.match(/^(\W)?(.*)/);var e=document["getElement"+(t[1]?"#"==t[1]?"ById":"sByClassName":"sByTagName")](t[2]),n=[];return null!=e&&(n=e.length?e:0==e.length?e:[e]),n}function o(t,e){var n={};for(var i in t)n[i]=t[i];for(var r in e)n[r]=e[r];return n}function s(t,e,n){e=parseInt(e,10),t=parseInt(t,10);var i=Math.max(e,t),r=Math.min(e,t),o=1/12,s=Math.min(.75*r,.75*i*o);return{height:Math.round(Math.max(n.size,s))}}function a(t,e,n,i){var r=s(e.width,e.height,n),o=r.height,a=e.width*i,c=e.height*i,l=n.font?n.font:"sans-serif";d.width=a,d.height=c,t.textAlign="center",t.textBaseline="middle",t.fillStyle=n.background,t.fillRect(0,0,a,c),t.fillStyle=n.foreground,t.font="bold "+o+"px "+l;var u=n.text?n.text:Math.floor(e.width)+"x"+Math.floor(e.height),h=t.measureText(u).width;return h/a>=.75&&(o=Math.floor(.75*o*(a/h))),t.font="bold "+o*i+"px "+l,t.fillText(u,a/2,c/2,a),d.toDataURL("image/png")}function c(t,e,n,i){var r=n.dimensions,s=n.theme,c=n.text?decodeURIComponent(n.text):n.text,u=r.width+"x"+r.height;s=c?o(s,{text:c}):s,s=n.font?o(s,{font:n.font}):s,"image"==t?(e.setAttribute("data-src",i),e.setAttribute("alt",c?c:s.text?s.text+" ["+u+"]":u),(p||!n.auto)&&(e.style.width=r.width+"px",e.style.height=r.height+"px"),p?e.style.backgroundColor=s.background:e.setAttribute("src",a(f,r,s,g))):"background"==t?p||(e.style.backgroundImage="url("+a(f,r,s,g)+")",e.style.backgroundSize=r.width+"px "+r.height+"px"):"fluid"==t&&(e.setAttribute("data-src",i),e.setAttribute("alt",c?c:s.text?s.text+" ["+u+"]":u),e.style.height="%"==r.height.substr(-1)?r.height:r.height+"px",e.style.width="%"==r.width.substr(-1)?r.width:r.width+"px",("inline"==e.style.display||""==e.style.display)&&(e.style.display="block"),p?e.style.backgroundColor=s.background:(e.holderData=n,v.push(e),l(e)))}function l(t){var e;e=null==t.nodeType?v:[t];for(i in e){var n=e[i];if(n.holderData){var r=n.holderData;n.setAttribute("src",a(f,{height:n.clientHeight,width:n.clientWidth},r.theme,g))}}}function u(e,n){var i={theme:y.themes.gray},r=!1;for(sl=e.length,j=0;sl>j;j++){var o=e[j];t.flags.dimensions.match(o)?(r=!0,i.dimensions=t.flags.dimensions.output(o)):t.flags.fluid.match(o)?(r=!0,i.dimensions=t.flags.fluid.output(o),i.fluid=!0):t.flags.colors.match(o)?i.theme=t.flags.colors.output(o):n.themes[o]?i.theme=n.themes[o]:t.flags.text.match(o)?i.text=t.flags.text.output(o):t.flags.font.match(o)?i.font=t.flags.font.output(o):t.flags.auto.match(o)&&(i.auto=!0)}return r?i:!1}var h=!1,p=!1,d=document.createElement("canvas");if(document.getElementsByClassName||(document.getElementsByClassName=function(t){var e,n,i,r=document,o=[];if(r.querySelectorAll)return r.querySelectorAll("."+t);if(r.evaluate)for(n=".//*[contains(concat(' ', @class, ' '), ' "+t+" ')]",e=r.evaluate(n,r,null,0,null);i=e.iterateNext();)o.push(i);else for(e=r.getElementsByTagName("*"),n=new RegExp("(^|\\s)"+t+"(\\s|$)"),i=0;i<e.length;i++)n.test(e[i].className)&&o.push(e[i]);return o}),window.getComputedStyle||(window.getComputedStyle=function(t){return this.el=t,this.getPropertyValue=function(e){var n=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),n.test(e)&&(e=e.replace(n,function(){return arguments[2].toUpperCase()})),t.currentStyle[e]?t.currentStyle[e]:null},this}),Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(t){var e=this.__proto__||this.constructor.prototype;return t in this&&(!(t in e)||e[t]!==this[t])}),d.getContext)if(d.toDataURL("image/png").indexOf("data:image/png")<0)p=!0;else var f=d.getContext("2d");else p=!0;var m=1,_=1;p||(m=window.devicePixelRatio||1,_=f.webkitBackingStorePixelRatio||f.mozBackingStorePixelRatio||f.msBackingStorePixelRatio||f.oBackingStorePixelRatio||f.backingStorePixelRatio||1);var g=m/_,v=[],y={domain:"holder.js",images:"img",bgnodes:".holderjs",themes:{gray:{background:"#eee",foreground:"#aaa",size:12},social:{background:"#3a5a97",foreground:"#fff",size:12},industrial:{background:"#434A52",foreground:"#C2F200",size:12}},stylesheet:".holderjs-fluid {font-size:16px;font-weight:bold;text-align:center;font-family:sans-serif;margin:0}"};t.flags={dimensions:{regex:/^(\d+)x(\d+)$/,output:function(t){var e=this.regex.exec(t);return{width:+e[1],height:+e[2]}}},fluid:{regex:/^([0-9%]+)x([0-9%]+)$/,output:function(t){var e=this.regex.exec(t);return{width:e[1],height:e[2]}}},colors:{regex:/#([0-9a-f]{3,})\:#([0-9a-f]{3,})/i,output:function(t){var e=this.regex.exec(t);return{size:y.themes.gray.size,foreground:"#"+e[2],background:"#"+e[1]}}},text:{regex:/text\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},font:{regex:/font\:(.*)/,output:function(t){return this.regex.exec(t)[1]}},auto:{regex:/^auto$/}};for(var b in t.flags)t.flags.hasOwnProperty(b)&&(t.flags[b].match=function(t){return t.match(this.regex)});t.add_theme=function(e,n){return null!=e&&null!=n&&(y.themes[e]=n),t},t.add_image=function(e,n){var i=r(n);if(i.length)for(var o=0,s=i.length;s>o;o++){var a=document.createElement("img");a.setAttribute("data-src",e),i[o].appendChild(a)}return t},t.run=function(e){var n=o(y,e),i=[],s=[],a=[];for("string"==typeof n.images?s=r(n.images):window.NodeList&&n.images instanceof window.NodeList?s=n.images:window.Node&&n.images instanceof window.Node&&(s=[n.images]),"string"==typeof n.bgnodes?a=r(n.bgnodes):window.NodeList&&n.elements instanceof window.NodeList?a=n.bgnodes:window.Node&&n.bgnodes instanceof window.Node&&(a=[n.bgnodes]),h=!0,f=0,d=s.length;d>f;f++)i.push(s[f]);var l=document.getElementById("holderjs-style");l||(l=document.createElement("style"),l.setAttribute("id","holderjs-style"),l.type="text/css",document.getElementsByTagName("head")[0].appendChild(l)),n.nocss||(l.styleSheet?l.styleSheet.cssText+=n.stylesheet:l.appendChild(document.createTextNode(n.stylesheet)));for(var p=new RegExp(n.domain+'/(.*?)"?\\)'),d=a.length,f=0;d>f;f++){var m=window.getComputedStyle(a[f],null).getPropertyValue("background-image"),_=m.match(p),g=a[f].getAttribute("data-background-src");if(_){var v=u(_[1].split("/"),n);v&&c("background",a[f],v,m)}else if(null!=g){var v=u(g.substr(g.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);v&&c("background",a[f],v,m)}}for(d=i.length,f=0;d>f;f++){var b=attr_data_src=m=null;try{b=i[f].getAttribute("src"),attr_datasrc=i[f].getAttribute("data-src")}catch(w){}if(null==attr_datasrc&&b&&b.indexOf(n.domain)>=0?m=b:attr_datasrc&&attr_datasrc.indexOf(n.domain)>=0&&(m=attr_datasrc),m){var v=u(m.substr(m.lastIndexOf(n.domain)+n.domain.length+1).split("/"),n);v&&(v.fluid?c("fluid",i[f],v,m):c("image",i[f],v,m))}}return t},n(e,function(){window.addEventListener?(window.addEventListener("resize",l,!1),window.addEventListener("orientationchange",l,!1)):window.attachEvent("onresize",l),h||t.run()}),"function"==typeof define&&define.amd&&define("Holder",[],function(){return t})}(Holder,window);var SPICE_MAGIC="REDQ",SPICE_VERSION_MAJOR=2,SPICE_VERSION_MINOR=2,SPICE_CONNECT_TIMEOUT=3e4,SPICE_COMMON_CAP_PROTOCOL_AUTH_SELECTION=0,SPICE_COMMON_CAP_AUTH_SPICE=1,SPICE_COMMON_CAP_AUTH_SASL=2,SPICE_COMMON_CAP_MINI_HEADER=3,SPICE_TICKET_KEY_PAIR_LENGTH=1024,SPICE_TICKET_PUBKEY_BYTES=SPICE_TICKET_KEY_PAIR_LENGTH/8+34,SPICE_LINK_ERR_OK=0,SPICE_LINK_ERR_ERROR=1,SPICE_LINK_ERR_INVALID_MAGIC=2,SPICE_LINK_ERR_INVALID_DATA=3,SPICE_LINK_ERR_VERSION_MISMATCH=4,SPICE_LINK_ERR_NEED_SECURED=5,SPICE_LINK_ERR_NEED_UNSECURED=6,SPICE_LINK_ERR_PERMISSION_DENIED=7,SPICE_LINK_ERR_BAD_CONNECTION_ID=8,SPICE_LINK_ERR_CHANNEL_NOT_AVAILABLE=9,SPICE_MSG_MIGRATE=1,SPICE_MSG_MIGRATE_DATA=2,SPICE_MSG_SET_ACK=3,SPICE_MSG_PING=4,SPICE_MSG_WAIT_FOR_CHANNELS=5,SPICE_MSG_DISCONNECTING=6,SPICE_MSG_NOTIFY=7,SPICE_MSG_LIST=8,SPICE_MSG_MAIN_MIGRATE_BEGIN=101,SPICE_MSG_MAIN_MIGRATE_CANCEL=102,SPICE_MSG_MAIN_INIT=103,SPICE_MSG_MAIN_CHANNELS_LIST=104,SPICE_MSG_MAIN_MOUSE_MODE=105,SPICE_MSG_MAIN_MULTI_MEDIA_TIME=106,SPICE_MSG_MAIN_AGENT_CONNECTED=107,SPICE_MSG_MAIN_AGENT_DISCONNECTED=108,SPICE_MSG_MAIN_AGENT_DATA=109,SPICE_MSG_MAIN_AGENT_TOKEN=110,SPICE_MSG_MAIN_MIGRATE_SWITCH_HOST=111,SPICE_MSG_MAIN_MIGRATE_END=112,SPICE_MSG_MAIN_NAME=113,SPICE_MSG_MAIN_UUID=114,SPICE_MSG_END_MAIN=115,SPICE_MSGC_ACK_SYNC=1,SPICE_MSGC_ACK=2,SPICE_MSGC_PONG=3,SPICE_MSGC_MIGRATE_FLUSH_MARK=4,SPICE_MSGC_MIGRATE_DATA=5,SPICE_MSGC_DISCONNECTING=6,SPICE_MSGC_MAIN_CLIENT_INFO=101,SPICE_MSGC_MAIN_MIGRATE_CONNECTED=102,SPICE_MSGC_MAIN_MIGRATE_CONNECT_ERROR=103,SPICE_MSGC_MAIN_ATTACH_CHANNELS=104,SPICE_MSGC_MAIN_MOUSE_MODE_REQUEST=105,SPICE_MSGC_MAIN_AGENT_START=106,SPICE_MSGC_MAIN_AGENT_DATA=107,SPICE_MSGC_MAIN_AGENT_TOKEN=108,SPICE_MSGC_MAIN_MIGRATE_END=109,SPICE_MSGC_END_MAIN=110,SPICE_MSG_DISPLAY_MODE=101,SPICE_MSG_DISPLAY_MARK=102,SPICE_MSG_DISPLAY_RESET=103,SPICE_MSG_DISPLAY_COPY_BITS=104,SPICE_MSG_DISPLAY_INVAL_LIST=105,SPICE_MSG_DISPLAY_INVAL_ALL_PIXMAPS=106,SPICE_MSG_DISPLAY_INVAL_PALETTE=107,SPICE_MSG_DISPLAY_INVAL_ALL_PALETTES=108,SPICE_MSG_DISPLAY_STREAM_CREATE=122,SPICE_MSG_DISPLAY_STREAM_DATA=123,SPICE_MSG_DISPLAY_STREAM_CLIP=124,SPICE_MSG_DISPLAY_STREAM_DESTROY=125,SPICE_MSG_DISPLAY_STREAM_DESTROY_ALL=126,SPICE_MSG_DISPLAY_DRAW_FILL=302,SPICE_MSG_DISPLAY_DRAW_OPAQUE=303,SPICE_MSG_DISPLAY_DRAW_COPY=304,SPICE_MSG_DISPLAY_DRAW_BLEND=305,SPICE_MSG_DISPLAY_DRAW_BLACKNESS=306,SPICE_MSG_DISPLAY_DRAW_WHITENESS=307,SPICE_MSG_DISPLAY_DRAW_INVERS=308,SPICE_MSG_DISPLAY_DRAW_ROP3=309,SPICE_MSG_DISPLAY_DRAW_STROKE=310,SPICE_MSG_DISPLAY_DRAW_TEXT=311,SPICE_MSG_DISPLAY_DRAW_TRANSPARENT=312,SPICE_MSG_DISPLAY_DRAW_ALPHA_BLEND=313,SPICE_MSG_DISPLAY_SURFACE_CREATE=314,SPICE_MSG_DISPLAY_SURFACE_DESTROY=315,SPICE_MSGC_DISPLAY_INIT=101,SPICE_MSG_INPUTS_INIT=101,SPICE_MSG_INPUTS_KEY_MODIFIERS=102,SPICE_MSG_INPUTS_MOUSE_MOTION_ACK=111,SPICE_MSGC_INPUTS_KEY_DOWN=101,SPICE_MSGC_INPUTS_KEY_UP=102,SPICE_MSGC_INPUTS_KEY_MODIFIERS=103,SPICE_MSGC_INPUTS_MOUSE_MOTION=111,SPICE_MSGC_INPUTS_MOUSE_POSITION=112,SPICE_MSGC_INPUTS_MOUSE_PRESS=113,SPICE_MSGC_INPUTS_MOUSE_RELEASE=114,SPICE_MSG_CURSOR_INIT=101,SPICE_MSG_CURSOR_RESET=102,SPICE_MSG_CURSOR_SET=103,SPICE_MSG_CURSOR_MOVE=104,SPICE_MSG_CURSOR_HIDE=105,SPICE_MSG_CURSOR_TRAIL=106,SPICE_MSG_CURSOR_INVAL_ONE=107,SPICE_MSG_CURSOR_INVAL_ALL=108,SPICE_CHANNEL_MAIN=1,SPICE_CHANNEL_DISPLAY=2,SPICE_CHANNEL_INPUTS=3,SPICE_CHANNEL_CURSOR=4,SPICE_CHANNEL_PLAYBACK=5,SPICE_CHANNEL_RECORD=6,SPICE_CHANNEL_TUNNEL=7,SPICE_CHANNEL_SMARTCARD=8,SPICE_CHANNEL_USBREDIR=9,SPICE_SURFACE_FLAGS_PRIMARY=1,SPICE_NOTIFY_SEVERITY_INFO=0,SPICE_NOTIFY_SEVERITY_WARN=1,SPICE_NOTIFY_SEVERITY_ERROR=2,SPICE_MOUSE_MODE_SERVER=1,SPICE_MOUSE_MODE_CLIENT=2,SPICE_MOUSE_MODE_MASK=3,SPICE_CLIP_TYPE_NONE=0,SPICE_CLIP_TYPE_RECTS=1,SPICE_IMAGE_TYPE_BITMAP=0,SPICE_IMAGE_TYPE_QUIC=1,SPICE_IMAGE_TYPE_RESERVED=2,SPICE_IMAGE_TYPE_LZ_PLT=100,SPICE_IMAGE_TYPE_LZ_RGB=101,SPICE_IMAGE_TYPE_GLZ_RGB=102,SPICE_IMAGE_TYPE_FROM_CACHE=103,SPICE_IMAGE_TYPE_SURFACE=104,SPICE_IMAGE_TYPE_JPEG=105,SPICE_IMAGE_TYPE_FROM_CACHE_LOSSLESS=106,SPICE_IMAGE_TYPE_ZLIB_GLZ_RGB=107,SPICE_IMAGE_TYPE_JPEG_ALPHA=108,SPICE_IMAGE_FLAGS_CACHE_ME=1,SPICE_IMAGE_FLAGS_HIGH_BITS_SET=2,SPICE_IMAGE_FLAGS_CACHE_REPLACE_ME=4,SPICE_BITMAP_FLAGS_PAL_CACHE_ME=1,SPICE_BITMAP_FLAGS_PAL_FROM_CACHE=2,SPICE_BITMAP_FLAGS_TOP_DOWN=4,SPICE_BITMAP_FLAGS_MASK=7,SPICE_BITMAP_FMT_INVALID=0,SPICE_BITMAP_FMT_1BIT_LE=1,SPICE_BITMAP_FMT_1BIT_BE=2,SPICE_BITMAP_FMT_4BIT_LE=3,SPICE_BITMAP_FMT_4BIT_BE=4,SPICE_BITMAP_FMT_8BIT=5,SPICE_BITMAP_FMT_16BIT=6,SPICE_BITMAP_FMT_24BIT=7,SPICE_BITMAP_FMT_32BIT=8,SPICE_BITMAP_FMT_RGBA=9,SPICE_CURSOR_FLAGS_NONE=1,SPICE_CURSOR_FLAGS_CACHE_ME=2,SPICE_CURSOR_FLAGS_FROM_CACHE=4,SPICE_CURSOR_FLAGS_MASK=7,SPICE_MOUSE_BUTTON_MASK_LEFT=1,SPICE_MOUSE_BUTTON_MASK_MIDDLE=2,SPICE_MOUSE_BUTTON_MASK_RIGHT=4,SPICE_MOUSE_BUTTON_MASK_MASK=7,SPICE_MOUSE_BUTTON_INVALID=0,SPICE_MOUSE_BUTTON_LEFT=1,SPICE_MOUSE_BUTTON_MIDDLE=2,SPICE_MOUSE_BUTTON_RIGHT=3,SPICE_MOUSE_BUTTON_UP=4,SPICE_MOUSE_BUTTON_DOWN=5,SPICE_BRUSH_TYPE_NONE=0,SPICE_BRUSH_TYPE_SOLID=1,SPICE_BRUSH_TYPE_PATTERN=2,SPICE_SURFACE_FMT_INVALID=0,SPICE_SURFACE_FMT_1_A=1,SPICE_SURFACE_FMT_8_A=8,SPICE_SURFACE_FMT_16_555=16,SPICE_SURFACE_FMT_32_xRGB=32,SPICE_SURFACE_FMT_16_565=80,SPICE_SURFACE_FMT_32_ARGB=96,SPICE_ROPD_INVERS_SRC=1,SPICE_ROPD_INVERS_BRUSH=2,SPICE_ROPD_INVERS_DEST=4,SPICE_ROPD_OP_PUT=8,SPICE_ROPD_OP_OR=16,SPICE_ROPD_OP_AND=32,SPICE_ROPD_OP_XOR=64,SPICE_ROPD_OP_BLACKNESS=128,SPICE_ROPD_OP_WHITENESS=256,SPICE_ROPD_OP_INVERS=512,SPICE_ROPD_INVERS_RES=1024,SPICE_ROPD_MASK=2047,LZ_IMAGE_TYPE_INVALID=0,LZ_IMAGE_TYPE_PLT1_LE=1,LZ_IMAGE_TYPE_PLT1_BE=2,LZ_IMAGE_TYPE_PLT4_LE=3,LZ_IMAGE_TYPE_PLT4_BE=4,LZ_IMAGE_TYPE_PLT8=5,LZ_IMAGE_TYPE_RGB16=6,LZ_IMAGE_TYPE_RGB24=7,LZ_IMAGE_TYPE_RGB32=8,LZ_IMAGE_TYPE_RGBA=9,LZ_IMAGE_TYPE_XXXA=10,QUIC_IMAGE_TYPE_INVALID=0,QUIC_IMAGE_TYPE_GRAY=1,QUIC_IMAGE_TYPE_RGB16=2,QUIC_IMAGE_TYPE_RGB24=3,QUIC_IMAGE_TYPE_RGB32=4,QUIC_IMAGE_TYPE_RGBA=5,SPICE_INPUT_MOTION_ACK_BUNCH=4,SPICE_CURSOR_TYPE_ALPHA=0,SPICE_CURSOR_TYPE_MONO=1,SPICE_CURSOR_TYPE_COLOR4=2,SPICE_CURSOR_TYPE_COLOR8=3,SPICE_CURSOR_TYPE_COLOR16=4,SPICE_CURSOR_TYPE_COLOR24=5,SPICE_CURSOR_TYPE_COLOR32=6,SPICE_VIDEO_CODEC_TYPE_MJPEG=1,KEY_Escape=1,KEY_1=2,KEY_2=3,KEY_3=4,KEY_4=5,KEY_5=6,KEY_6=7,KEY_7=8,KEY_8=9,KEY_9=10,KEY_0=11,KEY_Minus=12,KEY_Equal=13,KEY_BackSpace=14,KEY_Tab=15,KEY_Q=16,KEY_W=17,KEY_E=18,KEY_R=19,KEY_T=20,KEY_Y=21,KEY_U=22,KEY_I=23,KEY_O=24,KEY_P=25,KEY_LBrace=26,KEY_RBrace=27,KEY_Enter=28,KEY_LCtrl=29,KEY_A=30,KEY_S=31,KEY_D=32,KEY_F=33,KEY_G=34,KEY_H=35,KEY_J=36,KEY_K=37,KEY_L=38,KEY_SemiColon=39,KEY_Quote=40,KEY_Tilde=41,KEY_ShiftL=42,KEY_BSlash=43,KEY_Z=44,KEY_X=45,KEY_C=46,KEY_V=47,KEY_B=48,KEY_N=49,KEY_M=50,KEY_Comma=51,KEY_Period=52,KEY_Slash=53,KEY_ShiftR=54,KEY_KP_Multiply=55,KEY_Alt=56,KEY_Space=57,KEY_CapsLock=58,KEY_F1=59,KEY_F2=60,KEY_F3=61,KEY_F4=62,KEY_F5=63,KEY_F6=64,KEY_F7=65,KEY_F8=66,KEY_F9=67,KEY_F10=68,KEY_NumLock=69,KEY_ScrollLock=70,KEY_KP_7=71,KEY_KP_8=72,KEY_KP_9=73,KEY_KP_Minus=74,KEY_KP_4=75,KEY_KP_5=76,KEY_KP_6=77,KEY_KP_Plus=78,KEY_KP_1=79,KEY_KP_2=80,KEY_KP_3=81,KEY_KP_0=82,KEY_KP_Decimal=83,KEY_SysReqest=84,KEY_Less=86,KEY_F11=87,KEY_F12=88,KEY_Prefix0=96,KEY_Prefix1=97,DEBUG=0,DUMP_DRAWS=!1,DUMP_CANVASES=!1,common_scanmap=[];common_scanmap["Q".charCodeAt(0)]=KEY_Q,common_scanmap["W".charCodeAt(0)]=KEY_W,common_scanmap["E".charCodeAt(0)]=KEY_E,common_scanmap["R".charCodeAt(0)]=KEY_R,common_scanmap["T".charCodeAt(0)]=KEY_T,common_scanmap["Y".charCodeAt(0)]=KEY_Y,common_scanmap["U".charCodeAt(0)]=KEY_U,common_scanmap["I".charCodeAt(0)]=KEY_I,common_scanmap["O".charCodeAt(0)]=KEY_O,common_scanmap["P".charCodeAt(0)]=KEY_P,common_scanmap["A".charCodeAt(0)]=KEY_A,common_scanmap["S".charCodeAt(0)]=KEY_S,common_scanmap["D".charCodeAt(0)]=KEY_D,common_scanmap["F".charCodeAt(0)]=KEY_F,common_scanmap["G".charCodeAt(0)]=KEY_G,common_scanmap["H".charCodeAt(0)]=KEY_H,common_scanmap["J".charCodeAt(0)]=KEY_J,common_scanmap["K".charCodeAt(0)]=KEY_K,common_scanmap["L".charCodeAt(0)]=KEY_L,common_scanmap["Z".charCodeAt(0)]=KEY_Z,common_scanmap["X".charCodeAt(0)]=KEY_X,common_scanmap["C".charCodeAt(0)]=KEY_C,common_scanmap["V".charCodeAt(0)]=KEY_V,common_scanmap["B".charCodeAt(0)]=KEY_B,common_scanmap["N".charCodeAt(0)]=KEY_N,common_scanmap["M".charCodeAt(0)]=KEY_M,common_scanmap[" ".charCodeAt(0)]=KEY_Space,common_scanmap[13]=KEY_Enter,common_scanmap[27]=KEY_Escape,common_scanmap[8]=KEY_BackSpace,common_scanmap[9]=KEY_Tab,common_scanmap[16]=KEY_ShiftL,common_scanmap[17]=KEY_LCtrl,common_scanmap[18]=KEY_Alt,common_scanmap[20]=KEY_CapsLock,common_scanmap[144]=KEY_NumLock,common_scanmap[112]=KEY_F1,common_scanmap[113]=KEY_F2,common_scanmap[114]=KEY_F3,common_scanmap[115]=KEY_F4,common_scanmap[116]=KEY_F5,common_scanmap[117]=KEY_F6,common_scanmap[118]=KEY_F7,common_scanmap[119]=KEY_F8,common_scanmap[120]=KEY_F9,common_scanmap[121]=KEY_F10,common_scanmap[122]=KEY_F11,common_scanmap[123]=KEY_F12,common_scanmap[42]=99,common_scanmap[19]=101,common_scanmap[111]=57397,common_scanmap[106]=57399,common_scanmap[36]=57415,common_scanmap[38]=57416,common_scanmap[33]=57417,common_scanmap[37]=57419,common_scanmap[39]=57421,common_scanmap[35]=57423,common_scanmap[40]=57424,common_scanmap[34]=57425,common_scanmap[45]=57426,common_scanmap[46]=57427,common_scanmap[44]=10807,common_scanmap["1".charCodeAt(0)]=KEY_1,common_scanmap["2".charCodeAt(0)]=KEY_2,common_scanmap["3".charCodeAt(0)]=KEY_3,common_scanmap["4".charCodeAt(0)]=KEY_4,common_scanmap["5".charCodeAt(0)]=KEY_5,common_scanmap["6".charCodeAt(0)]=KEY_6,common_scanmap["7".charCodeAt(0)]=KEY_7,common_scanmap["8".charCodeAt(0)]=KEY_8,common_scanmap["9".charCodeAt(0)]=KEY_9,common_scanmap["0".charCodeAt(0)]=KEY_0,common_scanmap[145]=KEY_ScrollLock,common_scanmap[103]=KEY_KP_7,common_scanmap[104]=KEY_KP_8,common_scanmap[105]=KEY_KP_9,common_scanmap[100]=KEY_KP_4,common_scanmap[101]=KEY_KP_5,common_scanmap[102]=KEY_KP_6,common_scanmap[107]=KEY_KP_Plus,common_scanmap[97]=KEY_KP_1,common_scanmap[98]=KEY_KP_2,common_scanmap[99]=KEY_KP_3,common_scanmap[96]=KEY_KP_0,common_scanmap[110]=KEY_KP_Decimal,common_scanmap[191]=KEY_Slash,common_scanmap[190]=KEY_Period,common_scanmap[188]=KEY_Comma,common_scanmap[220]=KEY_BSlash,common_scanmap[192]=KEY_Tilde,common_scanmap[222]=KEY_Quote,common_scanmap[219]=KEY_LBrace,common_scanmap[221]=KEY_RBrace,common_scanmap[91]=57435,common_scanmap[92]=57436,common_scanmap[93]=57437;var firefox_scanmap=[];firefox_scanmap[109]=KEY_Minus,firefox_scanmap[61]=KEY_Equal,firefox_scanmap[59]=KEY_SemiColon;var DOM_scanmap=[];DOM_scanmap[189]=KEY_Minus,DOM_scanmap[187]=KEY_Equal,DOM_scanmap[186]=KEY_SemiColon;var rfc2083_crc_table=Array(256),rfc2083_crc_table_computed=0;PngIHDR.prototype={to_buffer:function(t,e){e=e||0;var n=e,i=new SpiceDataView(t);return i.setUint32(e,this.buffer_size()-12),e+=4,i.setUint8(e,"I".charCodeAt(0)),e++,i.setUint8(e,"H".charCodeAt(0)),e++,i.setUint8(e,"D".charCodeAt(0)),e++,i.setUint8(e,"R".charCodeAt(0)),e++,i.setUint32(e,this.width),e+=4,i.setUint32(e,this.height),e+=4,i.setUint8(e,this.depth),e++,i.setUint8(e,this.type),e++,i.setUint8(e,this.compression),e++,i.setUint8(e,this.filter),e++,i.setUint8(e,this.interlace),e++,i.setUint32(e,crc32(t,n+4,this.buffer_size()-8)),e+=4},buffer_size:function(){return 25}},adler.prototype.update=function(t){this.s1+=t,this.s1%=65521,this.s2+=this.s1,this.s2%=65521},PngIDAT.prototype={to_buffer:function(t,e){e=e||0;var n,i,r,o=e,s=new SpiceDataView(t),a=new adler;s.setUint32(e,this.buffer_size()-12),e+=4,s.setUint8(e,"I".charCodeAt(0)),e++,s.setUint8(e,"D".charCodeAt(0)),e++,s.setUint8(e,"A".charCodeAt(0)),e++,s.setUint8(e,"T".charCodeAt(0)),e++,s.setUint8(e,120),e++,s.setUint8(e,1),e++,s.setUint8(e,128),e++,s.setUint16(e,this.data.byteLength+this.height),e+=2,s.setUint16(e,~(this.data.byteLength+this.height)),e+=2;var c=new Uint8Array(this.data);for(r=0,i=0;i<this.height;i++)for(s.setUint8(e,0),e++,a.update(0),n=0;n<this.width&&r<this.data.byteLength;n++)a.update(c[r]),s.setUint8(e,c[r++]),e++,a.update(c[r]),s.setUint8(e,c[r++]),e++,a.update(c[r]),s.setUint8(e,c[r++]),e++,a.update(c[r]),s.setUint8(e,c[r++]),e++;return s.setUint16(e,a.s2),e+=2,s.setUint16(e,a.s1),e+=2,s.setUint32(e,crc32(t,o+4,this.buffer_size()-8)),e+=4},buffer_size:function(){return 12+this.data.byteLength+this.height+4+2+1+2+2}},PngIEND.prototype={to_buffer:function(t,e){e=e||0;var n=e,i=new SpiceDataView(t);return i.setUint32(e,this.buffer_size()-12),e+=4,i.setUint8(e,"I".charCodeAt(0)),e++,i.setUint8(e,"E".charCodeAt(0)),e++,i.setUint8(e,"N".charCodeAt(0)),e++,i.setUint8(e,"D".charCodeAt(0)),e++,i.setUint32(e,crc32(t,n+4,this.buffer_size()-8)),e+=4},buffer_size:function(){return 12}};var encoder,QUIC_IMAGE_TYPE_INVALID=0,QUIC_IMAGE_TYPE_GRAY=1,QUIC_IMAGE_TYPE_RGB16=2,QUIC_IMAGE_TYPE_RGB24=3,QUIC_IMAGE_TYPE_RGB32=4,QUIC_IMAGE_TYPE_RGBA=5,DEFevol=3,DEFwmimax=6,DEFwminext=2048,need_init=!0,DEFmaxclen=26,evol=DEFevol,wmimax=DEFwmimax,wminext=DEFwminext,family_5bpc={nGRcodewords:[0,0,0,0,0,0,0,0],notGRcwlen:[0,0,0,0,0,0,0,0],notGRprefixmask:[0,0,0,0,0,0,0,0],notGRsuffixlen:[0,0,0,0,0,0,0,0],xlatU2L:[0,0,0,0,0,0,0,0],xlatL2U:[0,0,0,0,0,0,0,0]},family_8bpc={nGRcodewords:[0,0,0,0,0,0,0,0],notGRcwlen:[0,0,0,0,0,0,0,0],notGRprefixmask:[0,0,0,0,0,0,0,0],notGRsuffixlen:[0,0,0,0,0,0,0,0],xlatU2L:[0,0,0,0,0,0,0,0],xlatL2U:[0,0,0,0,0,0,0,0]},bppmask=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215,33554431,67108863,134217727,268435455,536870911,1073741823,2147483647,4294967295],zeroLUT=[],besttrigtab=[[550,900,800,700,500,350,300,200,180,180,160],[110,550,900,800,550,400,350,250,140,160,140],[100,120,550,900,700,500,400,300,220,250,160]],J=[0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,5,5,6,6,7,7,8,9,10,11,12,13,14,15],lzeroes=[8,7,6,6,5,5,5,5,4,4,4,4,4,4,4,4,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,3,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],tabrand_chaos=[46495042,893548311,794435923,2453991765,2077388039,894197842,1462934312,697534094,1826128012,343623392,2581292719,3811265708,459739748,2638427270,1654964626,101227083,2654850628,3668700691,572794346,2758751005,3445133904,2344099199,3367450297,898927923,3618406352,1606297603,754696453,20823118,2050458127,972590750,3990194068,3305596553,4239238564,1690498157,3015324227,2306127097,1510321853,548392192,971157512,2292288069,1611390505,4086766286,4084927083,1883326811,1891043243,113180603,1107690783,3778825955,3248980775,2443839100,2190866218,1932072870,495393613,1078522166,4051963518,1784694977,1768732442,2146763203,264646923,1474361405,2361552500,296035746,2489922759,2094565616,2409465348,1334241083,72483606,3740181004,4057920662,1734898312,4114662834,574624900,880305546,3258472262,26713132,1571648456,52557195,4043234286,2458021343,676064371,1528437109,64953873,546717185,2709319979,1947039598,2812723004,28691684,286829174,4235176970,3465707163,12526951,2154766700,3165032534,2036061161,3386656087,2301212354,2023576300,1061142336,3105452904,2743866805,3283373992,3397596080,3085489552,3196092395,3210707808,3651022684,925444321,2088074316,230011220,3223248386,533229176,523863486,3028311159,13140218,2538347282,900399636,3000796173,1526771255,3541282854,2992674461,2135722105,389334227,1225164337,3119947809,1803959919,3471171263,704170491,1407019136,1924534819,526887421,168782227,333811993,298623278,4268451686,381087740,2542899140,3266880867,2498950977,200969370,3511909096,3252303004,2268881098,2499828613,2606499854,3163208665,3790254546,1840025712,1319758833,3771674836,519421307,3512796222,1563402978,4284300462,2263719815,715250337,3178437172,2660191010,2982332026,3256309961,2709659997,3434092872,2367065591,69438718,915160508,183164069,3134331940,175242981,2680543346,1421955782,4231173251,1736652874,3990568476,1710820912,2286604440,3464587098,1261907837,1757387321,1128554270,1090050251,2429922486,1288729218,882830086,211637042,1376462063,2147615815,1737974929,798170275,4271572277,4241687072,1638524620,2760366295,1065115089,2097227717,1224023317,1625204849,3383303351,1488272307,2640186157,1649047732,819719707,2615091943,502645401,760628135,4108137983,63606742,1404337880,1865161130,4272996852,1239761976,790984678,3213322601,1917062825,4195069880,1962259360,2111002573,2311983960,1861406170,511141875,2797510619,1331661048,3130608186,147483493,3767089176,2650841450,4096523407,2574446300,1956416337,851468126,3607527519,1811658703,3642821136,832691095,2453312857,933732854,94341217,3393797730,1695907457,2405722077,2877685663,2469507058,2249636341,3988608661,4001245617,825934927,3103985967,1127151177,3691656896,1640967098,2168932645,2830550957,3998822878,3002602893,1509651465,775813869,2599574079,3791574229],rgb32_pixel_pad=3,rgb32_pixel_r=2,rgb32_pixel_g=1,rgb32_pixel_b=0,rgb32_pixel_size=4;if(QuicModel.prototype={n_buckets:0,n_buckets_ptrs:0,repfirst:0,firstsize:0,repnext:0,mulsize:0,levels:0},QuicBucket.prototype={bestcode:0,reste:function(t){this.bestcode=t,this.counters=[0,0,0,0,0,0,0,0]},update_model_8bpc:function(t,e,n){var i,r=n-1,o=this.counters[r]+=golomb_code_len_8bpc(e,r);for(i=n-2;i>=0;i--){var s=this.counters[i]+=golomb_code_len_8bpc(e,i);o>s&&(r=i,o=s)}if(this.bestcode=r,o>t.wm_trigger)for(i=0;n>i;i++)this.counters[i]=this.counters[i]>>>1}},QuicFamilyStat.prototype={fill_model_structures:function(t){var e,n=0,i=0,r=t.repfirst+1,o=t.firstsize;do{e=i?n+1:0,--r||(r=t.repnext,o*=t.mulsize),n=e+o-1,n+o>=t.levels&&(n=t.levels-1),this.buckets_buf[i]=new QuicBucket;var s;for(s=e;n>=s;s++)this.buckets_ptrs[s]=this.buckets_buf[i];i++}while(n<t.levels-1);return!0}},QuicChannel.prototype={reste:function(t){var e;if(this.correlate_row={zero:0,row:[]},8==t){for(e=0;e<this.model_8bpc.n_buckets;e++)this.family_stat_8bpc.buckets_buf[e].reste(7);this.buckets_ptrs=this.family_stat_8bpc.buckets_ptrs}else{if(5!=t)return console.log("quic: %s: bad bpc %d\n",__FUNCTION__,t),!1;for(e=0;e<this.model_5bpc.n_buckets;e++)this.family_stat_8bpc.buckets_buf[e].reste(4);this.buckets_ptrs=this.family_stat_5bpc.buckets_ptrs}return this.state.reste(),!0}},CommonState.prototype={waitcnt:0,tabrand_seed:255,wm_trigger:0,wmidx:0,wmileft:wminext,melcstate:0,melclen:0,melcorder:0,set_wm_trigger:function(){var t=this.wmidx;t>10&&(t=10),this.wm_trigger=besttrigtab[Math.floor(evol/2)][t]},reste:function(){this.waitcnt=0,this.tabrand_seed=255,this.wmidx=0,this.wmileft=wminext,this.set_wm_trigger(),this.melcstate=0,this.melclen=J[0],this.melcorder=1<<this.melclen},tabrand:function(){return this.tabrand_seed++,tabrand_chaos[255&this.tabrand_seed]}},QuicEncoder.prototype={type:0,width:0,height:0,io_idx:0,io_available_bits:0,io_word:0,io_next_word:0,io_now:0,io_end:0,rows_completed:0},QuicEncoder.prototype.reste=function(t){return this.rgb_state.reste(),this.io_now=t,this.io_end=this.io_now.length,this.io_idx=0,this.rows_completed=0,!0},QuicEncoder.prototype.read_io_word=function(){if(this.io_idx>=this.io_end)throw"quic: out of data";this.io_next_word=this.io_now[this.io_idx++]|this.io_now[this.io_idx++]<<8|this.io_now[this.io_idx++]<<16|this.io_now[this.io_idx++]<<24},QuicEncoder.prototype.decode_eatbits=function(t){this.io_word=this.io_word<<t;var e=this.io_available_bits-t;e>=0?(this.io_available_bits=e,this.io_word|=this.io_next_word>>>this.io_available_bits):(e=-1*e,this.io_word|=this.io_next_word<<e,this.read_io_word(),this.io_available_bits=32-e,this.io_word|=this.io_next_word>>>this.io_available_bits)},QuicEncoder.prototype.decode_eat32bits=function(){this.decode_eatbits(16),this.decode_eatbits(16)},QuicEncoder.prototype.reste_channels=function(t){var e;for(e=0;4>e;e++)if(!this.channels[e].reste(t))return!1;return!0},QuicEncoder.prototype.quic_decode_begin=function(t){if(!this.reste(t))return!1;this.io_idx=0,this.io_next_word=this.io_now[this.io_idx++]|this.io_now[this.io_idx++]<<8|this.io_now[this.io_idx++]<<16|this.io_now[this.io_idx++]<<24,this.io_word=this.io_next_word,this.io_available_bits=0;var e=this.io_word;if(this.decode_eat32bits(),1128879441!=e)return console.log("quic: bad magic "+e.toString(16)),!1;var n=this.io_word;if(this.decode_eat32bits(),0!=n)return console.log("quic: bad version "+n.toString(16)),!1;this.type=this.io_word,this.decode_eat32bits(),this.width=this.io_word,this.decode_eat32bits(),this.height=this.io_word,this.decode_eat32bits();var i=quic_image_bpc(this.type);return this.reste_channels(i)?!0:!1},QuicEncoder.prototype.quic_rgb32_uncompress_row0_seg=function(t,e,n,i,r,o){var s,a,c,l=3;if(t)s=t+this.rgb_state.waitcnt;else{e[rgb32_pixel_pad]=0,a=0;do c=golomb_decoding_8bpc(this.channels[a].buckets_ptrs[this.channels[a].correlate_row.zero].bestcode,this.io_word),this.channels[a].correlate_row.row[0]=c.rc,e[2-a]=255&family_8bpc.xlatL2U[c.rc],this.decode_eatbits(c.codewordlen);while(++a<l);if(this.rgb_state.waitcnt)--this.rgb_state.waitcnt;else{this.rgb_state.waitcnt=this.rgb_state.tabrand()&i,a=0;do this.channels[a].buckets_ptrs[this.channels[a].correlate_row.zero].update_model_8bpc(this.rgb_state,this.channels[a].correlate_row.row[0],r);while(++a<l)}s=++t+this.rgb_state.waitcnt}for(;n>s;){for(;s>=t;t++){e[t*rgb32_pixel_size+rgb32_pixel_pad]=0,a=0;do c=golomb_decoding_8bpc(this.channels[a].buckets_ptrs[this.channels[a].correlate_row.row[t-1]].bestcode,this.io_word),this.channels[a].correlate_row.row[t]=c.rc,e[t*rgb32_pixel_size+(2-a)]=family_8bpc.xlatL2U[c.rc]+e[(t-1)*rgb32_pixel_size+(2-a)]&o,this.decode_eatbits(c.codewordlen);while(++a<l)}a=0;do this.channels[a].buckets_ptrs[this.channels[a].correlate_row.row[s-1]].update_model_8bpc(this.rgb_state,this.channels[a].correlate_row.row[s],r);while(++a<l);s=t+(this.rgb_state.tabrand()&i)}for(;n>t;t++){e[t*rgb32_pixel_size+rgb32_pixel_pad]=0,a=0;do c=golomb_decoding_8bpc(this.channels[a].buckets_ptrs[this.channels[a].correlate_row.row[t-1]].bestcode,this.io_word),this.channels[a].correlate_row.row[t]=c.rc,e[t*rgb32_pixel_size+(2-a)]=family_8bpc.xlatL2U[c.rc]+e[(t-1)*rgb32_pixel_size+(2-a)]&o,this.decode_eatbits(c.codewordlen);while(++a<l)}this.rgb_state.waitcnt=s-n},QuicEncoder.prototype.quic_rgb32_uncompress_row0=function(t){for(var e=8,n=255,i=0,r=this.width;wmimax>this.rgb_state.wmidx&&this.rgb_state.wmileft<=r;)this.rgb_state.wmileft&&(this.quic_rgb32_uncompress_row0_seg(i,t,i+this.rgb_state.wmileft,bppmask[this.rgb_state.wmidx],e,n),i+=this.rgb_state.wmileft,r-=this.rgb_state.wmileft),this.rgb_state.wmidx++,this.rgb_state.set_wm_trigger(),this.rgb_state.wmileft=wminext;r&&(this.quic_rgb32_uncompress_row0_seg(i,t,i+r,bppmask[this.rgb_state.wmidx],e,n),wmimax>this.rgb_state.wmidx&&(this.rgb_state.wmileft-=r))},QuicEncoder.prototype.quic_rgb32_uncompress_row_seg=function(t,e,n,i,r,o){var s,a,c=3,l=bppmask[this.rgb_state.wmidx],u=0,h=0,p=0;if(n)h=n+this.rgb_state.waitcnt;else{e[rgb32_pixel_pad]=0,a=0;do s=golomb_decoding_8bpc(this.channels[a].buckets_ptrs[this.channels[a].correlate_row.zero].bestcode,this.io_word),this.channels[a].correlate_row.row[0]=s.rc,e[2-a]=family_8bpc.xlatL2U[this.channels[a].correlate_row.row[0]]+t[2-a]&o,this.decode_eatbits(s.codewordlen);
while(++a<c);if(this.rgb_state.waitcnt)--this.rgb_state.waitcnt;else{this.rgb_state.waitcnt=this.rgb_state.tabrand()&l,a=0;do this.channels[a].buckets_ptrs[this.channels[a].correlate_row.zero].update_model_8bpc(this.rgb_state,this.channels[a].correlate_row.row[0],r);while(++a<c)}h=++n+this.rgb_state.waitcnt}for(;;){for(var d=0;i>h&&!d;){for(;h>=n&&!d;n++){var f=n*rgb32_pixel_size,m=(n-1)*rgb32_pixel_size,_=(n-2)*rgb32_pixel_size;if(t[m+rgb32_pixel_r]==t[f+rgb32_pixel_r]&&t[m+rgb32_pixel_g]==t[f+rgb32_pixel_g]&&t[m+rgb32_pixel_b]==t[f+rgb32_pixel_b]&&u!=n&&n>2&&e[m+rgb32_pixel_r]==e[_+rgb32_pixel_r]&&e[m+rgb32_pixel_g]==e[_+rgb32_pixel_g]&&e[m+rgb32_pixel_b]==e[_+rgb32_pixel_b]){for(this.rgb_state.waitcnt=h-n,u=n,p=n+this.decode_run(this.rgb_state);p>n;n++){var f=n*rgb32_pixel_size,m=(n-1)*rgb32_pixel_size;e[f+rgb32_pixel_pad]=0,e[f+rgb32_pixel_r]=e[m+rgb32_pixel_r],e[f+rgb32_pixel_g]=e[m+rgb32_pixel_g],e[f+rgb32_pixel_b]=e[m+rgb32_pixel_b]}if(n==i)return;h=n+this.rgb_state.waitcnt,d=1;break}a=0,e[f+rgb32_pixel_pad]=0;do{var g=this.channels[a],v=g.correlate_row;s=golomb_decoding_8bpc(g.buckets_ptrs[v.row[n-1]].bestcode,this.io_word),v.row[n]=s.rc,e[f+(2-a)]=family_8bpc.xlatL2U[s.rc]+(e[m+(2-a)]+t[f+(2-a)]>>1)&o,this.decode_eatbits(s.codewordlen)}while(++a<c)}if(d)break;a=0;do this.channels[a].buckets_ptrs[this.channels[a].correlate_row.row[h-1]].update_model_8bpc(this.rgb_state,this.channels[a].correlate_row.row[h],r);while(++a<c);h=n+(this.rgb_state.tabrand()&l)}for(;i>n&&!d;n++){var f=n*rgb32_pixel_size,m=(n-1)*rgb32_pixel_size,_=(n-2)*rgb32_pixel_size;if(t[m+rgb32_pixel_r]==t[f+rgb32_pixel_r]&&t[m+rgb32_pixel_g]==t[f+rgb32_pixel_g]&&t[m+rgb32_pixel_b]==t[f+rgb32_pixel_b]&&u!=n&&n>2&&e[m+rgb32_pixel_r]==e[_+rgb32_pixel_r]&&e[m+rgb32_pixel_g]==e[_+rgb32_pixel_g]&&e[m+rgb32_pixel_b]==e[_+rgb32_pixel_b]){for(this.rgb_state.waitcnt=h-n,u=n,p=n+this.decode_run(this.rgb_state);p>n;n++){var f=n*rgb32_pixel_size,m=(n-1)*rgb32_pixel_size;e[f+rgb32_pixel_pad]=0,e[f+rgb32_pixel_r]=e[m+rgb32_pixel_r],e[f+rgb32_pixel_g]=e[m+rgb32_pixel_g],e[f+rgb32_pixel_b]=e[m+rgb32_pixel_b]}if(n==i)return;h=n+this.rgb_state.waitcnt,d=1;break}e[f+rgb32_pixel_pad]=0,a=0;do s=golomb_decoding_8bpc(this.channels[a].buckets_ptrs[this.channels[a].correlate_row.row[n-1]].bestcode,this.io_word),this.channels[a].correlate_row.row[n]=s.rc,e[f+(2-a)]=family_8bpc.xlatL2U[s.rc]+(e[m+(2-a)]+t[f+(2-a)]>>1)&o,this.decode_eatbits(s.codewordlen);while(++a<c)}if(!d)return this.rgb_state.waitcnt=h-i,void 0}},QuicEncoder.prototype.decode_run=function(t){for(var e=0;;){var n,i=~(this.io_word>>>24)>>>0&255,r=zeroLUT[i];for(n=1;r>=n;n++)e+=t.melcorder,t.melcstate<32&&(t.melclen=J[++t.melcstate],t.melcorder=1<<t.melclen);if(8!=r){this.decode_eatbits(r+1);break}this.decode_eatbits(8)}return t.melclen&&(e+=this.io_word>>>32-t.melclen,this.decode_eatbits(t.melclen)),t.melcstate&&(t.melclen=J[--t.melcstate],t.melcorder=1<<t.melclen),e},QuicEncoder.prototype.quic_rgb32_uncompress_row=function(t,e){for(var n=8,i=255,r=0,o=this.width;wmimax>this.rgb_state.wmidx&&this.rgb_state.wmileft<=o;)this.rgb_state.wmileft&&(this.quic_rgb32_uncompress_row_seg(t,e,r,r+this.rgb_state.wmileft,n,i),r+=this.rgb_state.wmileft,o-=this.rgb_state.wmileft),this.rgb_state.wmidx++,this.rgb_state.set_wm_trigger(),this.rgb_state.wmileft=wminext;o&&(this.quic_rgb32_uncompress_row_seg(t,e,r,r+o,n,i),wmimax>this.rgb_state.wmidx&&(this.rgb_state.wmileft-=o))},QuicEncoder.prototype.quic_four_uncompress_row0_seg=function(t,e,n,i,r,o,s,a){var c,l;for(0==e?(l=golomb_decoding_8bpc(t.buckets_ptrs[n.zero].bestcode,this.io_word),n.row[0]=l.rc,i[rgb32_pixel_pad]=family_8bpc.xlatL2U[l.rc],this.decode_eatbits(l.codewordlen),t.state.waitcnt?--t.state.waitcnt:(t.state.waitcnt=t.state.tabrand()&o,t.buckets_ptrs[n.zero].update_model_8bpc(t.state,n.row[0],s)),c=++e+t.state.waitcnt):c=e+t.state.waitcnt;r>c;){for(var u;c>=e;e++)u=t.buckets_ptrs[n.row[e-1]],l=golomb_decoding_8bpc(u.bestcode,this.io_word),n.row[e]=l.rc,i[e*rgb32_pixel_size+rgb32_pixel_pad]=family_8bpc.xlatL2U[l.rc]+i[(e-1)*rgb32_pixel_size+rgb32_pixel_pad]&a,this.decode_eatbits(l.codewordlen);u.update_model_8bpc(t.state,n.row[c],s),c=e+(t.state.tabrand()&o)}for(;r>e;e++)l=golomb_decoding_8bpc(t.buckets_ptrs[n.row[e-1]].bestcode,this.io_word),n.row[e]=l.rc,i[e*rgb32_pixel_size+rgb32_pixel_pad]=family_8bpc.xlatL2U[l.rc]+i[(e-1)*rgb32_pixel_size+rgb32_pixel_pad]&a,this.decode_eatbits(l.codewordlen);t.state.waitcnt=c-r},QuicEncoder.prototype.quic_four_uncompress_row0=function(t,e){for(var n=8,i=255,r=t.correlate_row,o=0,s=this.width;wmimax>t.state.wmidx&&t.state.wmileft<=s;)t.state.wmileft&&(this.quic_four_uncompress_row0_seg(t,o,r,e,o+t.state.wmileft,bppmask[t.state.wmidx],n,i),o+=t.state.wmileft,s-=t.state.wmileft),t.state.wmidx++,t.state.set_wm_trigger(),t.state.wmileft=wminext;s&&(this.quic_four_uncompress_row0_seg(t,o,r,e,o+s,bppmask[t.state.wmidx],n,i),wmimax>t.state.wmidx&&(t.state.wmileft-=s))},QuicEncoder.prototype.quic_four_uncompress_row_seg=function(t,e,n,i,r,o,s,a){var c,l,u,h=bppmask[t.state.wmidx],p=0;for(0==r?(u=golomb_decoding_8bpc(t.buckets_ptrs[e.zero].bestcode,this.io_word),e.row[0]=u.rc,i[rgb32_pixel_pad]=family_8bpc.xlatL2U[u.rc]+n[rgb32_pixel_pad]&a,this.decode_eatbits(u.codewordlen),t.state.waitcnt?--t.state.waitcnt:(t.state.waitcnt=t.state.tabrand()&h,t.buckets_ptrs[e.zero].update_model_8bpc(t.state,e.row[0],s)),c=++r+t.state.waitcnt):c=r+t.state.waitcnt;;){for(var d=0;o>c&&!d;){for(var f;c>=r&&!d;r++){var m=r*rgb32_pixel_size,_=(r-1)*rgb32_pixel_size,g=(r-2)*rgb32_pixel_size;if(n[_+rgb32_pixel_pad]==n[m+rgb32_pixel_pad]&&p!=r&&r>2&&i[_+rgb32_pixel_pad]==i[g+rgb32_pixel_pad]){for(t.state.waitcnt=c-r,p=r,l=r+this.decode_run(t.state);l>r;r++){var m=r*rgb32_pixel_size,_=(r-1)*rgb32_pixel_size;i[m+rgb32_pixel_pad]=i[_+rgb32_pixel_pad]}if(r==o)return;c=r+t.state.waitcnt,d=1;break}f=t.buckets_ptrs[e.row[r-1]],u=golomb_decoding_8bpc(f.bestcode,this.io_word),e.row[r]=u.rc,i[m+rgb32_pixel_pad]=family_8bpc.xlatL2U[u.rc]+(i[_+rgb32_pixel_pad]+n[m+rgb32_pixel_pad]>>1)&a,this.decode_eatbits(u.codewordlen)}if(d)break;f.update_model_8bpc(t.state,e.row[c],s),c=r+(t.state.tabrand()&h)}for(;o>r&&!d;r++){var m=r*rgb32_pixel_size,_=(r-1)*rgb32_pixel_size,g=(r-2)*rgb32_pixel_size;if(n[_+rgb32_pixel_pad]==n[m+rgb32_pixel_pad]&&p!=r&&r>2&&i[_+rgb32_pixel_pad]==i[g+rgb32_pixel_pad]){for(t.state.waitcnt=c-r,p=r,l=r+this.decode_run(t.state);l>r;r++){var m=r*rgb32_pixel_size,_=(r-1)*rgb32_pixel_size;i[m+rgb32_pixel_pad]=i[_+rgb32_pixel_pad]}if(r==o)return;c=r+t.state.waitcnt,d=1;break}u=golomb_decoding_8bpc(t.buckets_ptrs[e.row[r-1]].bestcode,this.io_word),e.row[r]=u.rc,i[m+rgb32_pixel_pad]=family_8bpc.xlatL2U[u.rc]+(i[_+rgb32_pixel_pad]+n[m+rgb32_pixel_pad]>>1)&a,this.decode_eatbits(u.codewordlen)}if(!d)return t.state.waitcnt=c-o,void 0}},QuicEncoder.prototype.quic_four_uncompress_row=function(t,e,n){for(var i=8,r=255,o=t.correlate_row,s=0,a=this.width;wmimax>t.state.wmidx&&t.state.wmileft<=a;)t.state.wmileft&&(this.quic_four_uncompress_row_seg(t,o,e,n,s,s+t.state.wmileft,i,r),s+=t.state.wmileft,a-=t.state.wmileft),t.state.wmidx++,t.state.set_wm_trigger(),t.state.wmileft=wminext;a&&(this.quic_four_uncompress_row_seg(t,o,e,n,s,s+a,i,r),wmimax>t.state.wmidx&&(t.state.wmileft-=a))},QuicEncoder.prototype.quic_decode=function(t,e){var n;switch(this.type){case QUIC_IMAGE_TYPE_RGB32:case QUIC_IMAGE_TYPE_RGB24:for(this.channels[0].correlate_row.zero=0,this.channels[1].correlate_row.zero=0,this.channels[2].correlate_row.zero=0,this.quic_rgb32_uncompress_row0(t),this.rows_completed++,n=1;n<this.height;n++){var i=t;t=i.subarray(e),this.channels[0].correlate_row.zero=this.channels[0].correlate_row.row[0],this.channels[1].correlate_row.zero=this.channels[1].correlate_row.row[0],this.channels[2].correlate_row.zero=this.channels[2].correlate_row.row[0],this.quic_rgb32_uncompress_row(i,t),this.rows_completed++}break;case QUIC_IMAGE_TYPE_RGB16:return console.log("quic: unsupported output format\n"),!1;case QUIC_IMAGE_TYPE_RGBA:for(this.channels[0].correlate_row.zero=0,this.channels[1].correlate_row.zero=0,this.channels[2].correlate_row.zero=0,this.quic_rgb32_uncompress_row0(t),this.channels[3].correlate_row.zero=0,this.quic_four_uncompress_row0(this.channels[3],t),this.rows_completed++,n=1;n<this.height;n++){var i=t;t=i.subarray(e),this.channels[0].correlate_row.zero=this.channels[0].correlate_row.row[0],this.channels[1].correlate_row.zero=this.channels[1].correlate_row.row[0],this.channels[2].correlate_row.zero=this.channels[2].correlate_row.row[0],this.quic_rgb32_uncompress_row(i,t),this.channels[3].correlate_row.zero=this.channels[3].correlate_row.row[0],this.quic_four_uncompress_row(encoder.channels[3],i,t),this.rows_completed++}break;case QUIC_IMAGE_TYPE_GRAY:return console.log("quic: unsupported output format\n"),!1;case QUIC_IMAGE_TYPE_INVALID:default:return console.log("quic: bad image type\n"),!1}return!0},QuicEncoder.prototype.simple_quic_decode=function(t){var e=4;if(!this.quic_decode_begin(t))return void 0;if(this.type!=QUIC_IMAGE_TYPE_RGB32&&this.type!=QUIC_IMAGE_TYPE_RGB24&&this.type!=QUIC_IMAGE_TYPE_RGBA)return void 0;var n=new Uint8Array(this.width*this.height*4);return n[0]=69,this.quic_decode(n,this.width*e)?n:void 0},SpiceQuic.prototype={from_dv:function(t,e,n){if(!encoder)throw"quic: no quic encoder";this.data_size=t.getUint32(e,!0),e+=4;var i=new Uint8Array(n.slice(e));return this.outptr=encoder.simple_quic_decode(i),this.outptr&&(this.type=encoder.type,this.width=encoder.width,this.height=encoder.height),e+=i.length}},need_init){need_init=!1,family_init(family_8bpc,8,DEFmaxclen),family_init(family_5bpc,5,DEFmaxclen);var i,j,k,l;for(j=k=1,l=8,i=0;256>i;++i)zeroLUT[i]=l,--k,0==k&&(k=j,--l,j*=2);if(encoder=new QuicEncoder,!encoder)throw"quic: failed to create encoder"}SpiceDataView.prototype={getUint8:function(t){return this.u8[t]},getUint16:function(t,e){var n=1,i=0;return e&&(n=0,i=1),this.u8[t+i]<<8|this.u8[t+n]},getUint32:function(t,e){var n=2,i=0;return e&&(n=0,i=2),this.getUint16(t+i,e)<<16|this.getUint16(t+n,e)},setUint8:function(t,e){this.u8[t]=255&e},setUint16:function(t,e,n){var i=1,r=0;n&&(i=0,r=1),this.u8[t+r]=(65535&e)>>8,this.u8[t+i]=255&e},setUint32:function(t,e,n){var i=2,r=0;n&&(i=0,r=2),this.setUint16(t+r,(4294967295&e)>>16,n),this.setUint16(t+i,65535&e,n)}},SpiceChannelId.prototype={from_dv:function(t,e){return this.type=t.getUint8(e,!0),e++,this.id=t.getUint8(e,!0),e++,e}},SpiceRect.prototype={from_dv:function(t,e){return this.top=t.getUint32(e,!0),e+=4,this.left=t.getUint32(e,!0),e+=4,this.bottom=t.getUint32(e,!0),e+=4,this.right=t.getUint32(e,!0),e+=4},is_same_size:function(t){return this.bottom-this.top==t.bottom-t.top&&this.right-this.left==t.right-t.left?!0:!1}},SpiceClipRects.prototype={from_dv:function(t,e,n){var i;for(this.num_rects=t.getUint32(e,!0),e+=4,this.num_rects>0&&(this.rects=[]),i=0;i<this.num_rects;i++)this.rects[i]=new SpiceRect,e=this.rects[i].from_dv(t,e,n);return e}},SpiceClip.prototype={from_dv:function(t,e,n){return this.type=t.getUint8(e,!0),e++,this.type==SPICE_CLIP_TYPE_RECTS&&(this.rects=new SpiceClipRects,e=this.rects.from_dv(t,e,n)),e}},SpiceImageDescriptor.prototype={from_dv:function(t,e){return this.id=t.getUint32(e,!0),e+=4,this.id+=t.getUint32(e,!0)<<32,e+=4,this.type=t.getUint8(e,!0),e++,this.flags=t.getUint8(e,!0),e++,this.width=t.getUint32(e,!0),e+=4,this.height=t.getUint32(e,!0),e+=4}},SpicePalette.prototype={from_dv:function(t,e){var n;for(this.unique=[],this.unique[0]=t.getUint32(e,!0),e+=4,this.unique[1]=t.getUint32(e,!0),e+=4,this.num_ents=t.getUint16(e,!0),e+=2,this.ents=[],n=0;n<this.num_ents;n++)this.ents[n]=t.getUint32(e,!0),e+=4;return e}},SpiceBitmap.prototype={from_dv:function(t,e,n){if(this.format=t.getUint8(e,!0),e++,this.flags=t.getUint8(e,!0),e++,this.x=t.getUint32(e,!0),e+=4,this.y=t.getUint32(e,!0),e+=4,this.stride=t.getUint32(e,!0),e+=4,this.flags&SPICE_BITMAP_FLAGS_PAL_FROM_CACHE)this.palette_id=[],this.palette_id[0]=t.getUint32(e,!0),e+=4,this.palette_id[1]=t.getUint32(e,!0),e+=4;else{var i=t.getUint32(e,!0);e+=4,0==i?this.palette=null:(this.palette=new SpicePalette,this.palette.from_dv(t,i,n))}return this.data=n.slice(e),e+=this.data.byteLength}},SpiceImage.prototype={from_dv:function(t,e,n){if(this.descriptor=new SpiceImageDescriptor,e=this.descriptor.from_dv(t,e,n),this.descriptor.type==SPICE_IMAGE_TYPE_LZ_RGB){this.lz_rgb=new Object,this.lz_rgb.length=t.getUint32(e,!0),e+=4;var i=e;this.lz_rgb.magic="";for(var r=3;r>=0;r--)this.lz_rgb.magic+=String.fromCharCode(t.getUint8(e+r));e+=4,this.lz_rgb.version=t.getUint32(e),e+=4,this.lz_rgb.type=t.getUint32(e),e+=4,this.lz_rgb.width=t.getUint32(e),e+=4,this.lz_rgb.height=t.getUint32(e),e+=4,this.lz_rgb.stride=t.getUint32(e),e+=4,this.lz_rgb.top_down=t.getUint32(e),e+=4;var o=e-i;this.lz_rgb.data=n.slice(e,this.lz_rgb.length+e-o),e+=this.lz_rgb.data.byteLength}if(this.descriptor.type==SPICE_IMAGE_TYPE_BITMAP&&(this.bitmap=new SpiceBitmap,e=this.bitmap.from_dv(t,e,n)),this.descriptor.type==SPICE_IMAGE_TYPE_SURFACE&&(this.surface_id=t.getUint32(e,!0),e+=4),this.descriptor.type==SPICE_IMAGE_TYPE_JPEG&&(this.jpeg=new Object,this.jpeg.data_size=t.getUint32(e,!0),e+=4,this.jpeg.data=n.slice(e),e+=this.jpeg.data.byteLength),this.descriptor.type==SPICE_IMAGE_TYPE_JPEG_ALPHA){this.jpeg_alpha=new Object,this.jpeg_alpha.flags=t.getUint8(e,!0),e+=1,this.jpeg_alpha.jpeg_size=t.getUint32(e,!0),e+=4,this.jpeg_alpha.data_size=t.getUint32(e,!0),e+=4,this.jpeg_alpha.data=n.slice(e,this.jpeg_alpha.jpeg_size+e),e+=this.jpeg_alpha.data.byteLength,this.jpeg_alpha.alpha=new Object,this.jpeg_alpha.alpha.length=this.jpeg_alpha.data_size-this.jpeg_alpha.jpeg_size;var i=e;this.jpeg_alpha.alpha.magic="";for(var r=3;r>=0;r--)this.jpeg_alpha.alpha.magic+=String.fromCharCode(t.getUint8(e+r));e+=4,this.jpeg_alpha.alpha.version=t.getUint32(e),e+=4,this.jpeg_alpha.alpha.type=t.getUint32(e),e+=4,this.jpeg_alpha.alpha.width=t.getUint32(e),e+=4,this.jpeg_alpha.alpha.height=t.getUint32(e),e+=4,this.jpeg_alpha.alpha.stride=t.getUint32(e),e+=4,this.jpeg_alpha.alpha.top_down=t.getUint32(e),e+=4;var o=e-i;this.jpeg_alpha.alpha.data=n.slice(e,this.jpeg_alpha.alpha.length+e-o),e+=this.jpeg_alpha.alpha.data.byteLength}return this.descriptor.type==SPICE_IMAGE_TYPE_QUIC&&(this.quic=new SpiceQuic,e=this.quic.from_dv(t,e,n)),e}},SpiceQMask.prototype={from_dv:function(t,e,n){this.flags=t.getUint8(e,!0),e++,this.pos=new SpicePoint,e=this.pos.from_dv(t,e,n);var i=t.getUint32(e,!0);return e+=4,0==i?(this.bitmap=null,e):(this.bitmap=new SpiceImage,this.bitmap.from_dv(t,i,n))}},SpicePattern.prototype={from_dv:function(t,e,n){var i=t.getUint32(e,!0);return e+=4,0==i?this.pat=null:(this.pat=new SpiceImage,this.pat.from_dv(t,i,n)),this.pos=new SpicePoint,this.pos.from_dv(t,e,n)}},SpiceBrush.prototype={from_dv:function(t,e,n){return this.type=t.getUint8(e,!0),e++,this.type==SPICE_BRUSH_TYPE_SOLID?(this.color=t.getUint32(e,!0),e+=4):this.type==SPICE_BRUSH_TYPE_PATTERN&&(this.pattern=new SpicePattern,e=this.pattern.from_dv(t,e,n)),e}},SpiceFill.prototype={from_dv:function(t,e,n){return this.brush=new SpiceBrush,e=this.brush.from_dv(t,e,n),this.rop_descriptor=t.getUint16(e,!0),e+=2,this.mask=new SpiceQMask,this.mask.from_dv(t,e,n)}},SpiceCopy.prototype={from_dv:function(t,e,n){var i=t.getUint32(e,!0);return e+=4,0==i?this.src_bitmap=null:(this.src_bitmap=new SpiceImage,this.src_bitmap.from_dv(t,i,n)),this.src_area=new SpiceRect,e=this.src_area.from_dv(t,e,n),this.rop_descriptor=t.getUint16(e,!0),e+=2,this.scale_mode=t.getUint8(e,!0),e++,this.mask=new SpiceQMask,this.mask.from_dv(t,e,n)}},SpicePoint16.prototype={from_dv:function(t,e){return this.x=t.getUint16(e,!0),e+=2,this.y=t.getUint16(e,!0),e+=2}},SpicePoint.prototype={from_dv:function(t,e){return this.x=t.getUint32(e,!0),e+=4,this.y=t.getUint32(e,!0),e+=4}},SpiceCursorHeader.prototype={from_dv:function(t,e){return this.unique=[],this.unique[0]=t.getUint32(e,!0),e+=4,this.unique[1]=t.getUint32(e,!0),e+=4,this.type=t.getUint8(e,!0),e++,this.width=t.getUint16(e,!0),e+=2,this.height=t.getUint16(e,!0),e+=2,this.hot_spot_x=t.getUint16(e,!0),e+=2,this.hot_spot_y=t.getUint16(e,!0),e+=2}},SpiceCursor.prototype={from_dv:function(t,e,n){return this.flags=t.getUint16(e,!0),e+=2,this.flags&SPICE_CURSOR_FLAGS_NONE?this.header=null:(this.header=new SpiceCursorHeader,e=this.header.from_dv(t,e,n),this.data=n.slice(e),e+=this.data.byteLength),e}},SpiceSurface.prototype={from_dv:function(t,e){return this.surface_id=t.getUint32(e,!0),e+=4,this.width=t.getUint32(e,!0),e+=4,this.height=t.getUint32(e,!0),e+=4,this.format=t.getUint32(e,!0),e+=4,this.flags=t.getUint32(e,!0),e+=4}},SpiceLinkHeader.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.magic="";for(var i=0;4>i;i++)this.magic+=String.fromCharCode(n.getUint8(e+i));e+=4,this.major_version=n.getUint32(e,!0),e+=4,this.minor_version=n.getUint32(e,!0),e+=4,this.size=n.getUint32(e,!0),e+=4},to_buffer:function(t,e){e=e||0;for(var n=new SpiceDataView(t),i=0;4>i;i++)n.setUint8(e+i,this.magic.charCodeAt(i));e+=4,n.setUint32(e,this.major_version,!0),e+=4,n.setUint32(e,this.minor_version,!0),e+=4,n.setUint32(e,this.size,!0),e+=4},buffer_size:function(){return 16}},SpiceLinkMess.prototype={from_buffer:function(t,e){e=e||0;var n,i=e,r=new SpiceDataView(t);this.connection_id=r.getUint32(e,!0),e+=4,this.channel_type=r.getUint8(e,!0),e++,this.channel_id=r.getUint8(e,!0),e++;var o=r.getUint32(e,!0);e+=4;var s=r.getUint32(e,!0);e+=4;var a=r.getUint32(e,!0);for(e+=4,e=i+a,this.common_caps=[],n=0;o>n;n++)this.common_caps.unshift(r.getUint32(e,!0)),e+=4;for(this.channel_caps=[],n=0;s>n;n++)this.channel_caps.unshift(r.getUint32(e,!0)),e+=4},to_buffer:function(t,e){e=e||0;var n,i=e,r=new SpiceDataView(t);for(r.setUint32(e,this.connection_id,!0),e+=4,r.setUint8(e,this.channel_type,!0),e++,r.setUint8(e,this.channel_id,!0),e++,r.setUint32(e,this.common_caps.length,!0),e+=4,r.setUint32(e,this.channel_caps.length,!0),e+=4,r.setUint32(e,e-i+4,!0),e+=4,n=0;n<this.common_caps.length;n++)r.setUint32(e,this.common_caps[n],!0),e+=4;for(n=0;n<this.channel_caps.length;n++)r.setUint32(e,this.channel_caps[n],!0),e+=4},buffer_size:function(){return 18+4*this.common_caps.length+4*this.channel_caps.length}},SpiceLinkReply.prototype={from_buffer:function(t,e){e=e||0;var n,i=e,r=new SpiceDataView(t);this.error=r.getUint32(e,!0),e+=4,this.pub_key=create_rsa_from_mb(t,e),e+=SPICE_TICKET_PUBKEY_BYTES;var o=r.getUint32(e,!0);e+=4;var s=r.getUint32(e,!0);e+=4;var a=r.getUint32(e,!0);for(e+=4,e=i+a,this.common_caps=[],n=0;o>n;n++)this.common_caps.unshift(r.getUint32(e,!0)),e+=4;for(this.channel_caps=[],n=0;s>n;n++)this.channel_caps.unshift(r.getUint32(e,!0)),e+=4}},SpiceLinkAuthTicket.prototype={to_buffer:function(t,e){e=e||0;var n,i=new SpiceDataView(t);for(i.setUint32(e,this.auth_mechanism,!0),e+=4,n=0;SPICE_TICKET_KEY_PAIR_LENGTH/8>n;n++)this.encrypted_data&&n<this.encrypted_data.length?i.setUint8(e,this.encrypted_data[n],!0):i.setUint8(e,0,!0),e++},buffer_size:function(){return 4+SPICE_TICKET_KEY_PAIR_LENGTH/8}},SpiceLinkAuthReply.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.auth_code=n.getUint32(e,!0),e+=4},buffer_size:function(){return 4}},SpiceMiniData.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.type=n.getUint16(e,!0),e+=2,this.size=n.getUint32(e,!0),e+=4,t.byteLength>e&&(this.data=t.slice(e),e+=this.data.byteLength)},to_buffer:function(t,e){e=e||0;var n,i=new SpiceDataView(t);if(i.setUint16(e,this.type,!0),e+=2,i.setUint32(e,this.data?this.data.byteLength:0,!0),e+=4,this.data&&this.data.byteLength>0){var r=new Uint8Array(this.data);for(n=0;n<r.length;n++,e++)i.setUint8(e,r[n],!0)}},build_msg:function(t,e){this.type=t,this.size=e.buffer_size(),this.data=new ArrayBuffer(this.size),e.to_buffer(this.data)},buffer_size:function(){return this.data?6+this.data.byteLength:6}},SpiceMsgChannels.prototype={from_buffer:function(t,e){e=e||0;var n,i=new SpiceDataView(t);for(this.num_of_channels=i.getUint32(e,!0),e+=4,n=0;n<this.num_of_channels;n++){var r=new SpiceChannelId;e=r.from_dv(i,e,t),this.channels.push(r)}}},SpiceMsgMainInit.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.session_id=n.getUint32(e,!0),e+=4,this.display_channels_hint=n.getUint32(e,!0),e+=4,this.supported_mouse_modes=n.getUint32(e,!0),e+=4,this.current_mouse_mode=n.getUint32(e,!0),e+=4,this.agent_connected=n.getUint32(e,!0),e+=4,this.agent_tokens=n.getUint32(e,!0),e+=4,this.multi_media_time=n.getUint32(e,!0),e+=4,this.ram_hint=n.getUint32(e,!0),e+=4}},SpiceMsgMainMouseMode.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.supported_modes=n.getUint16(e,!0),e+=2,this.current_mode=n.getUint16(e,!0),e+=2}},SpiceMsgSetAck.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.generation=n.getUint32(e,!0),e+=4,this.window=n.getUint32(e,!0),e+=4}},SpiceMsgcAckSync.prototype={to_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);n.setUint32(e,this.generation,!0),e+=4},buffer_size:function(){return 4}},SpiceMsgcMainMouseModeRequest.prototype={to_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);n.setUint16(e,this.mode,!0),e+=2},buffer_size:function(){return 2}},SpiceMsgNotify.prototype={from_buffer:function(t,e){e=e||0;var n,i=new SpiceDataView(t);for(this.time_stamp=[],this.time_stamp[0]=i.getUint32(e,!0),e+=4,this.time_stamp[1]=i.getUint32(e,!0),e+=4,this.severity=i.getUint32(e,!0),e+=4,this.visibility=i.getUint32(e,!0),e+=4,this.what=i.getUint32(e,!0),e+=4,this.message_len=i.getUint32(e,!0),e+=4,this.message="",n=0;n<this.message_len;n++){var r=i.getUint8(e,!0);e++,this.message+=String.fromCharCode(r)}}},SpiceMsgcDisplayInit.prototype={to_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);n.setUint8(e,this.pixmap_cache_id,!0),e++,n.setUint32(e,0,!0),e+=4,n.setUint32(e,this.pixmap_cache_size,!0),e+=4,n.setUint8(e,this.glz_dictionary_id,!0),e++,n.setUint32(e,this.glz_dictionary_window_size,!0),e+=4},buffer_size:function(){return 14}},SpiceMsgDisplayBase.prototype={from_dv:function(t,e,n){return this.surface_id=t.getUint32(e,!0),e+=4,this.box=new SpiceRect,e=this.box.from_dv(t,e,n),this.clip=new SpiceClip,this.clip.from_dv(t,e,n)}},SpiceMsgDisplayDrawCopy.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return this.base=new SpiceMsgDisplayBase,e=this.base.from_dv(n,e,t),this.data=new SpiceCopy,this.data.from_dv(n,e,t)}},SpiceMsgDisplayDrawFill.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return this.base=new SpiceMsgDisplayBase,e=this.base.from_dv(n,e,t),this.data=new SpiceFill,this.data.from_dv(n,e,t)}},SpiceMsgDisplayCopyBits.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return this.base=new SpiceMsgDisplayBase,e=this.base.from_dv(n,e,t),this.src_pos=new SpicePoint,this.src_pos.from_dv(n,e,t)}},SpiceMsgSurfaceCreate.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return this.surface=new SpiceSurface,this.surface.from_dv(n,e,t)}},SpiceMsgSurfaceDestroy.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.surface_id=n.getUint32(e,!0),e+=4}},SpiceMsgInputsInit.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return this.keyboard_modifiers=n.getUint16(e,!0),e+=2}},SpiceMsgInputsKeyModifiers.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return this.keyboard_modifiers=n.getUint16(e,!0),e+=2}},SpiceMsgCursorInit.prototype={from_buffer:function(t,e,n){e=e||0;var i=new SpiceDataView(t);return this.position=new SpicePoint16,e=this.position.from_dv(i,e,n),this.trail_length=i.getUint16(e,!0),e+=2,this.trail_frequency=i.getUint16(e,!0),e+=2,this.visible=i.getUint8(e,!0),e++,this.cursor=new SpiceCursor,this.cursor.from_dv(i,e,t)}},SpiceMsgCursorSet.prototype={from_buffer:function(t,e,n){e=e||0;var i=new SpiceDataView(t);return this.position=new SpicePoint16,e=this.position.from_dv(i,e,n),this.visible=i.getUint8(e,!0),e++,this.cursor=new SpiceCursor,this.cursor.from_dv(i,e,t)}},SpiceMsgcMousePosition.prototype={to_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return n.setUint32(e,this.x,!0),e+=4,n.setUint32(e,this.y,!0),e+=4,n.setUint16(e,this.buttons_state,!0),e+=2,n.setUint8(e,this.display_id,!0),e+=1},buffer_size:function(){return 11}},SpiceMsgcMouseMotion.prototype.to_buffer=SpiceMsgcMousePosition.prototype.to_buffer,SpiceMsgcMouseMotion.prototype.buffer_size=SpiceMsgcMousePosition.prototype.buffer_size,SpiceMsgcMousePress.prototype={to_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return n.setUint8(e,this.button,!0),e++,n.setUint16(e,this.buttons_state,!0),e+=2},buffer_size:function(){return 3}},SpiceMsgcMouseRelease.prototype.to_buffer=SpiceMsgcMousePress.prototype.to_buffer,SpiceMsgcMouseRelease.prototype.buffer_size=SpiceMsgcMousePress.prototype.buffer_size,SpiceMsgcKeyDown.prototype={to_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);return n.setUint32(e,this.code,!0),e+=4},buffer_size:function(){return 4}},SpiceMsgcKeyUp.prototype.to_buffer=SpiceMsgcKeyDown.prototype.to_buffer,SpiceMsgcKeyUp.prototype.buffer_size=SpiceMsgcKeyDown.prototype.buffer_size,SpiceMsgDisplayStreamCreate.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.surface_id=n.getUint32(e,!0),e+=4,this.id=n.getUint32(e,!0),e+=4,this.flags=n.getUint8(e,!0),e+=1,this.codec_type=n.getUint8(e,!0),e+=1,e+=8,this.stream_width=n.getUint32(e,!0),e+=4,this.stream_height=n.getUint32(e,!0),e+=4,this.src_width=n.getUint32(e,!0),e+=4,this.src_height=n.getUint32(e,!0),e+=4,this.dest=new SpiceRect,e=this.dest.from_dv(n,e,t),this.clip=new SpiceClip,this.clip.from_dv(n,e,t)}},SpiceStreamDataHeader.prototype={from_dv:function(t,e){return this.id=t.getUint32(e,!0),e+=4,this.multi_media_time=t.getUint32(e,!0),e+=4}},SpiceMsgDisplayStreamData.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.base=new SpiceStreamDataHeader,e=this.base.from_dv(n,e,t),this.data_size=n.getUint32(e,!0),e+=4,this.data=n.u8.subarray(e,e+this.data_size)}},SpiceMsgDisplayStreamClip.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.id=n.getUint32(e,!0),e+=4,this.clip=new SpiceClip,this.clip.from_dv(n,e,t)}},SpiceMsgDisplayStreamDestroy.prototype={from_buffer:function(t,e){e=e||0;var n=new SpiceDataView(t);this.id=n.getUint32(e,!0),e+=4}},SpiceWireReader.prototype={inbound:function(t){if(0==this.needed)return this.buffers.push(t),void 0;for(0==this.buffers.length&&t.byteLength>=this.needed?(t.byteLength>this.needed&&(this.buffers.push(t.slice(this.needed)),t=t.slice(0,this.needed)),this.callback.call(this.sc,t,this.saved_msg_header||void 0)):this.buffers.push(t);this.buffers.length>1&&this.buffers[0].byteLength<this.needed;){var e=this.buffers.shift(),n=this.buffers.shift();this.buffers.unshift(combine_array_buffers(e,n))}for(;this.buffers.length>0&&this.buffers[0].byteLength>=this.needed;)t=this.buffers.shift(),t.byteLength>this.needed&&(this.buffers.unshift(t.slice(this.needed)),t=t.slice(0,this.needed)),this.callback.call(this.sc,t,this.saved_msg_header||void 0)},request:function(t){this.needed=t},save_header:function(t){this.saved_msg_header=t},clear_header:function(){this.saved_msg_header=void 0}},SpiceConn.prototype={send_hdr:function(){var t=new SpiceLinkHeader,e=new SpiceLinkMess;e.connection_id=this.connection_id,e.channel_type=this.type,e.common_caps.push(1<<SPICE_COMMON_CAP_PROTOCOL_AUTH_SELECTION|1<<SPICE_COMMON_CAP_MINI_HEADER),t.size=e.buffer_size();var n=new ArrayBuffer(t.buffer_size()+e.buffer_size());t.to_buffer(n),e.to_buffer(n,t.buffer_size()),DEBUG>1&&console.log("Sending header:"),DEBUG>2&&hexdump_buffer(n),this.ws.send(n)},send_ticket:function(t){var e=new SpiceLinkAuthTicket;e.auth_mechanism=SPICE_COMMON_CAP_AUTH_SPICE,e.encrypted_data=t;var n=new ArrayBuffer(e.buffer_size());e.to_buffer(n),DEBUG>1&&console.log("Sending ticket:"),DEBUG>2&&hexdump_buffer(n),this.ws.send(n)},send_msg:function(t){var e=new ArrayBuffer(t.buffer_size());t.to_buffer(e),this.messages_sent++,DEBUG>0&&console.log(">> hdr "+this.channel_type()+" type "+t.type+" size "+e.byteLength),DEBUG>2&&hexdump_buffer(e),this.ws.send(e)},process_inbound:function(t,e){if(DEBUG>2&&console.log(this.type+": processing message of size "+t.byteLength+"; state is "+this.state),"ready"==this.state)if(void 0==e){var n=new SpiceMiniData(t);n.type>500&&alert("Something has gone very wrong; we think we have message of type "+n.type),0==n.size?(this.process_message(n),this.wire_reader.request(SpiceMiniData.prototype.buffer_size())):(this.wire_reader.request(n.size),this.wire_reader.save_header(n))}else e.data=t,this.process_message(e),this.wire_reader.request(SpiceMiniData.prototype.buffer_size()),this.wire_reader.save_header(void 0);else if("start"==this.state)if(this.reply_hdr=new SpiceLinkHeader(t),this.reply_hdr.magic!=SPICE_MAGIC){this.state="error";var i=new Error("Error: magic mismatch: "+this.reply_hdr.magic);this.report_error(i)}else this.wire_reader.request(this.reply_hdr.size),this.state="link";else if("link"==this.state)if(this.reply_link=new SpiceLinkReply(t),this.reply_link.error){this.state="error";var i=new Error("Error: reply link error "+this.reply_link.error);this.report_error(i)}else this.send_ticket(rsa_encrypt(this.reply_link.pub_key,this.password+String.fromCharCode(0))),this.state="ticket",this.wire_reader.request(SpiceLinkAuthReply.prototype.buffer_size());else if("ticket"==this.state)if(this.auth_reply=new SpiceLinkAuthReply(t),this.auth_reply.auth_code==SPICE_LINK_ERR_OK){if(DEBUG>0&&console.log(this.type+": Connected"),this.type==SPICE_CHANNEL_DISPLAY){var r=new SpiceMsgcDisplayInit,o=new SpiceMiniData;o.build_msg(SPICE_MSGC_DISPLAY_INIT,r),DEBUG>0&&console.log("Request display init"),this.send_msg(o)}this.state="ready",this.wire_reader.request(SpiceMiniData.prototype.buffer_size()),this.timeout&&(window.clearTimeout(this.timeout),delete this.timeout)}else{if(this.state="error",this.auth_reply.auth_code==SPICE_LINK_ERR_PERMISSION_DENIED)var i=new Error("Permission denied.");else var i=new Error("Unexpected link error "+this.auth_reply.auth_code);this.report_error(i)}},process_common_messages:function(t){if(t.type==SPICE_MSG_SET_ACK){var e=new SpiceMsgSetAck(t.data);this.ack_window=e.window,DEBUG>1&&console.log(this.type+": set ack to "+e.window),this.msgs_until_ack=this.ack_window;var n=new SpiceMsgcAckSync(e),i=new SpiceMiniData;return i.build_msg(SPICE_MSGC_ACK_SYNC,n),this.send_msg(i),!0}if(t.type==SPICE_MSG_PING){DEBUG>1&&console.log("ping!");var r=new SpiceMiniData;return r.type=SPICE_MSGC_PONG,t.data&&(r.data=t.data.slice(0,12)),r.size=r.buffer_size(),this.send_msg(r),!0}if(t.type==SPICE_MSG_NOTIFY){var o=new SpiceMsgNotify(t.data);return o.severity==SPICE_NOTIFY_SEVERITY_ERROR?this.log_err(o.message):o.severity==SPICE_NOTIFY_SEVERITY_WARN?this.log_warn(o.message):this.log_info(o.message),!0}return!1},process_message:function(t){var e;if(DEBUG>0&&console.log("<< hdr "+this.channel_type()+" type "+t.type+" size "+(t.data&&t.data.byteLength)),e=this.process_common_messages(t))return e;if(!this.process_channel_message)return this.log_err(this.type+": No message handlers for this channel; message "+t.type),!1;if(e=this.process_channel_message(t),e||this.log_warn(this.type+": Unknown message type "+t.type+"!"),void 0!==this.msgs_until_ack&&this.ack_window&&(this.msgs_until_ack--,this.msgs_until_ack<=0)){this.msgs_until_ack=this.ack_window;var n=new SpiceMiniData;n.type=SPICE_MSGC_ACK,this.send_msg(n),DEBUG>1&&console.log(this.type+": sent ack")}return e},channel_type:function(){return this.type==SPICE_CHANNEL_MAIN?"main":this.type==SPICE_CHANNEL_DISPLAY?"display":this.type==SPICE_CHANNEL_INPUTS?"inputs":this.type==SPICE_CHANNEL_CURSOR?"cursor":"unknown-"+this.type},log_info:function(){var t=Array.prototype.join.call(arguments," ");if(console.log(t),this.message_id){var e=document.createElement("p");e.appendChild(document.createTextNode(t)),e.className+="spice-message-info",document.getElementById(this.message_id).appendChild(e)}},log_warn:function(){var t=Array.prototype.join.call(arguments," ");if(console.log("WARNING: "+t),this.message_id){var e=document.createElement("p");e.appendChild(document.createTextNode(t)),e.className+="spice-message-warning",document.getElementById(this.message_id).appendChild(e)}},log_err:function(){var t=Array.prototype.join.call(arguments," ");if(console.log("ERROR: "+t),this.message_id){var e=document.createElement("p");e.appendChild(document.createTextNode(t)),e.className+="spice-message-error",document.getElementById(this.message_id).appendChild(e)}},known_unimplemented:function(t,e){if(!this.warnings[t]||DEBUG>1){var n="";1>=DEBUG&&(n=" [ further notices suppressed ]"),this.log_warn("Unimplemented function "+t+"("+e+")"+n),this.warnings[t]=!0
}},report_error:function(t){if(this.log_err(t.toString()),void 0==this.onerror)throw t;this.onerror(t)},report_success:function(t){void 0!=this.onsuccess&&this.onsuccess(t)},cleanup:function(){this.timeout&&(window.clearTimeout(this.timeout),delete this.timeout),this.ws&&(this.ws.close(),this.ws=void 0)},handle_timeout:function(){var t=new Error("Connection timed out.");this.report_error(t)}},SpiceDisplayConn.prototype=Object.create(SpiceConn.prototype),SpiceDisplayConn.prototype.process_channel_message=function(t){if(t.type==SPICE_MSG_DISPLAY_MARK)return this.known_unimplemented(t.type,"Display Mark"),!0;if(t.type==SPICE_MSG_DISPLAY_RESET)return DEBUG>2&&console.log("Display reset"),this.surfaces[this.primary_surface].canvas.context.restore(),!0;if(t.type==SPICE_MSG_DISPLAY_DRAW_COPY){var e=new SpiceMsgDisplayDrawCopy(t.data);if(DEBUG>1&&this.log_draw("DrawCopy",e),e.base.box.is_same_size(e.data.src_area)||this.log_warn("FIXME: DrawCopy src_area is a different size than base.box; we do not handle that yet."),e.base.clip.type!=SPICE_CLIP_TYPE_NONE&&this.log_warn("FIXME: DrawCopy we don't handle clipping yet"),e.data.rop_descriptor!=SPICE_ROPD_OP_PUT&&this.log_warn("FIXME: DrawCopy we don't handle ropd type: "+e.data.rop_descriptor),e.data.mask.flags&&this.log_warn("FIXME: DrawCopy we don't handle mask flag: "+e.data.mask.flags),e.data.mask.bitmap&&this.log_warn("FIXME: DrawCopy we don't handle mask"),e.data&&e.data.src_bitmap){if(e.data.src_bitmap.descriptor.flags&&e.data.src_bitmap.descriptor.flags!=SPICE_IMAGE_FLAGS_CACHE_ME&&e.data.src_bitmap.descriptor.flags!=SPICE_IMAGE_FLAGS_HIGH_BITS_SET&&(this.log_warn("FIXME: DrawCopy unhandled image flags: "+e.data.src_bitmap.descriptor.flags),1>=DEBUG&&this.log_draw("DrawCopy",e)),e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_QUIC){var n=this.surfaces[e.base.surface_id].canvas;if(!e.data.src_bitmap.quic)return this.log_warn("FIXME: DrawCopy could not handle this QUIC file."),!1;var i=convert_spice_quic_to_web(n.context,e.data.src_bitmap.quic);return this.draw_copy_helper({base:e.base,src_area:e.data.src_area,image_data:i,tag:"copyquic."+e.data.src_bitmap.quic.type,has_alpha:e.data.src_bitmap.quic.type==QUIC_IMAGE_TYPE_RGBA?!0:!1,descriptor:e.data.src_bitmap.descriptor})}if(e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_FROM_CACHE||e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_FROM_CACHE_LOSSLESS)return this.cache&&this.cache[e.data.src_bitmap.descriptor.id]?this.draw_copy_helper({base:e.base,src_area:e.data.src_area,image_data:this.cache[e.data.src_bitmap.descriptor.id],tag:"copycache."+e.data.src_bitmap.descriptor.id,has_alpha:!0,descriptor:e.data.src_bitmap.descriptor}):(this.log_warn("FIXME: DrawCopy did not find image id "+e.data.src_bitmap.descriptor.id+" in cache."),!1);if(e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_SURFACE){var r=this.surfaces[e.data.src_bitmap.surface_id].canvas.context,i=(this.surfaces[e.base.surface_id].canvas.context,r.getImageData(e.data.src_area.left,e.data.src_area.top,e.data.src_area.right-e.data.src_area.left,e.data.src_area.bottom-e.data.src_area.top)),o=new SpiceRect;return o.top=o.left=0,o.right=i.width,o.bottom=i.height,this.draw_copy_helper({base:e.base,src_area:o,image_data:i,tag:"copysurf."+e.data.src_bitmap.surface_id,has_alpha:this.surfaces[e.data.src_bitmap.surface_id].format==SPICE_SURFACE_FMT_32_xRGB?!1:!0,descriptor:e.data.src_bitmap.descriptor})}if(e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_JPEG){if(!e.data.src_bitmap.jpeg)return this.log_warn("FIXME: DrawCopy could not handle this JPEG file."),!1;var s,a="data:image/jpeg,",c=new Image,l=new Uint8Array(e.data.src_bitmap.jpeg.data);for(s=0;s<l.length;s++)a+="%",l[s]<16&&(a+="0"),a+=l[s].toString(16);return c.o={base:e.base,tag:"jpeg."+e.data.src_bitmap.surface_id,descriptor:e.data.src_bitmap.descriptor,sc:this},c.onload=handle_draw_jpeg_onload,c.src=a,!0}if(e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_JPEG_ALPHA){if(!e.data.src_bitmap.jpeg_alpha)return this.log_warn("FIXME: DrawCopy could not handle this JPEG ALPHA file."),!1;var s,a="data:image/jpeg,",c=new Image,l=new Uint8Array(e.data.src_bitmap.jpeg_alpha.data);for(s=0;s<l.length;s++)a+="%",l[s]<16&&(a+="0"),a+=l[s].toString(16);if(c.o={base:e.base,tag:"jpeg."+e.data.src_bitmap.surface_id,descriptor:e.data.src_bitmap.descriptor,sc:this},this.surfaces[e.base.surface_id].format==SPICE_SURFACE_FMT_32_ARGB){var n=this.surfaces[e.base.surface_id].canvas;c.alpha_img=convert_spice_lz_to_web(n.context,e.data.src_bitmap.jpeg_alpha.alpha)}return c.onload=handle_draw_jpeg_onload,c.src=a,!0}if(e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_BITMAP){var n=this.surfaces[e.base.surface_id].canvas;if(!e.data.src_bitmap.bitmap)return this.log_err("null bitmap"),!1;var i=convert_spice_bitmap_to_web(n.context,e.data.src_bitmap.bitmap);return i?this.draw_copy_helper({base:e.base,src_area:e.data.src_area,image_data:i,tag:"bitmap."+e.data.src_bitmap.bitmap.format,has_alpha:e.data.src_bitmap.bitmap==SPICE_BITMAP_FMT_32BIT?!1:!0,descriptor:e.data.src_bitmap.descriptor}):(this.log_warn("FIXME: Unable to interpret bitmap of format: "+e.data.src_bitmap.bitmap.format),!1)}if(e.data.src_bitmap.descriptor.type==SPICE_IMAGE_TYPE_LZ_RGB){var n=this.surfaces[e.base.surface_id].canvas;if(!e.data.src_bitmap.lz_rgb)return this.log_err("null lz_rgb "),!1;1!=e.data.src_bitmap.lz_rgb.top_down&&this.log_warn("FIXME: Implement non top down support for lz_rgb");var i=convert_spice_lz_to_web(n.context,e.data.src_bitmap.lz_rgb);return i?this.draw_copy_helper({base:e.base,src_area:e.data.src_area,image_data:i,tag:"lz_rgb."+e.data.src_bitmap.lz_rgb.type,has_alpha:e.data.src_bitmap.lz_rgb.type==LZ_IMAGE_TYPE_RGBA?!0:!1,descriptor:e.data.src_bitmap.descriptor}):(this.log_warn("FIXME: Unable to interpret bitmap of type: "+e.data.src_bitmap.lz_rgb.type),!1)}return this.log_warn("FIXME: DrawCopy unhandled image type: "+e.data.src_bitmap.descriptor.type),this.log_draw("DrawCopy",e),!1}return this.log_warn("FIXME: DrawCopy no src_bitmap."),!1}if(t.type==SPICE_MSG_DISPLAY_DRAW_FILL){var u=new SpiceMsgDisplayDrawFill(t.data);if(DEBUG>1&&this.log_draw("DrawFill",u),u.data.rop_descriptor!=SPICE_ROPD_OP_PUT&&this.log_warn("FIXME: DrawFill we don't handle ropd type: "+u.data.rop_descriptor),u.data.mask.flags&&this.log_warn("FIXME: DrawFill we don't handle mask flag: "+u.data.mask.flags),u.data.mask.bitmap&&this.log_warn("FIXME: DrawFill we don't handle mask"),u.data.brush.type==SPICE_BRUSH_TYPE_SOLID){var h=16777215&u.data.brush.color,p="rgb("+(h>>16)+", "+(h>>8&255)+", "+(255&h)+")";if(this.surfaces[u.base.surface_id].canvas.context.fillStyle=p,this.surfaces[u.base.surface_id].canvas.context.fillRect(u.base.box.left,u.base.box.top,u.base.box.right-u.base.box.left,u.base.box.bottom-u.base.box.top),DUMP_DRAWS&&this.parent.dump_id){var d=document.createElement("canvas");d.setAttribute("width",this.surfaces[u.base.surface_id].canvas.width),d.setAttribute("height",this.surfaces[u.base.surface_id].canvas.height),d.setAttribute("id","fillbrush."+u.base.surface_id+"."+this.surfaces[u.base.surface_id].draw_count),d.getContext("2d").fillStyle=p,d.getContext("2d").fillRect(u.base.box.left,u.base.box.top,u.base.box.right-u.base.box.left,u.base.box.bottom-u.base.box.top),document.getElementById(this.parent.dump_id).appendChild(d)}this.surfaces[u.base.surface_id].draw_count++}else this.log_warn("FIXME: DrawFill can't handle brush type: "+u.data.brush.type);return!0}if(t.type==SPICE_MSG_DISPLAY_COPY_BITS){var f=new SpiceMsgDisplayCopyBits(t.data);DEBUG>1&&this.log_draw("CopyBits",f);var m=this.surfaces[f.base.surface_id].canvas,r=m.context,_=m.width-f.src_pos.x,g=m.height-f.src_pos.y;_>f.base.box.right-f.base.box.left&&(_=f.base.box.right-f.base.box.left),g>f.base.box.bottom-f.base.box.top&&(g=f.base.box.bottom-f.base.box.top);var i=r.getImageData(f.src_pos.x,f.src_pos.y,_,g);if(putImageDataWithAlpha(r,i,f.base.box.left,f.base.box.top),DUMP_DRAWS&&this.parent.dump_id){var d=document.createElement("canvas");d.setAttribute("width",_),d.setAttribute("height",g),d.setAttribute("id","copybits"+f.base.surface_id+"."+this.surfaces[f.base.surface_id].draw_count),d.getContext("2d").putImageData(i,0,0),document.getElementById(this.parent.dump_id).appendChild(d)}return this.surfaces[f.base.surface_id].draw_count++,!0}if(t.type==SPICE_MSG_DISPLAY_INVAL_ALL_PALETTES)return this.known_unimplemented(t.type,"Inval All Palettes"),!0;if(t.type==SPICE_MSG_DISPLAY_SURFACE_CREATE){"surfaces"in this||(this.surfaces=[]);var v=new SpiceMsgSurfaceCreate(t.data);if(DEBUG>1&&console.log(this.type+": MsgSurfaceCreate id "+v.surface.surface_id+"; "+v.surface.width+"x"+v.surface.height+"; format "+v.surface.format+"; flags "+v.surface.flags),v.surface.format!=SPICE_SURFACE_FMT_32_xRGB&&v.surface.format!=SPICE_SURFACE_FMT_32_ARGB)return this.log_warn("FIXME: cannot handle surface format "+v.surface.format+" yet."),!1;var n=document.createElement("canvas");return n.setAttribute("width",v.surface.width),n.setAttribute("height",v.surface.height),n.setAttribute("id","spice_surface_"+v.surface.surface_id),n.setAttribute("tabindex",v.surface.surface_id),n.context=n.getContext("2d"),DUMP_CANVASES&&this.parent.dump_id&&document.getElementById(this.parent.dump_id).appendChild(n),v.surface.canvas=n,v.surface.draw_count=0,this.surfaces[v.surface.surface_id]=v.surface,v.surface.flags&SPICE_SURFACE_FLAGS_PRIMARY&&(this.primary_surface=v.surface.surface_id,n.context.save(),document.getElementById(this.parent.screen_id).appendChild(n),document.getElementById(this.parent.screen_id).setAttribute("width",v.surface.width),document.getElementById(this.parent.screen_id).setAttribute("height",v.surface.height),this.hook_events()),!0}if(t.type==SPICE_MSG_DISPLAY_SURFACE_DESTROY){var v=new SpiceMsgSurfaceDestroy(t.data);return DEBUG>1&&console.log(this.type+": MsgSurfaceDestroy id "+v.surface_id),this.delete_surface(v.surface_id),!0}if(t.type==SPICE_MSG_DISPLAY_STREAM_CREATE){var v=new SpiceMsgDisplayStreamCreate(t.data);return DEBUG>1&&console.log(this.type+": MsgStreamCreate id"+v.id),this.streams||(this.streams=new Array),this.streams[v.id]?console.log("Stream already exists"):this.streams[v.id]=v,v.codec_type!=SPICE_VIDEO_CODEC_TYPE_MJPEG&&console.log("Unhandled stream codec: "+v.codec_type),!0}if(t.type==SPICE_MSG_DISPLAY_STREAM_DATA){var v=new SpiceMsgDisplayStreamData(t.data);if(!this.streams[v.base.id])return console.log("no stream for data"),!1;if(this.streams[v.base.id].codec_type===SPICE_VIDEO_CODEC_TYPE_MJPEG){var s,a="data:image/jpeg,",c=new Image;for(s=0;s<v.data.length;s++)a+="%",v.data[s]<16&&(a+="0"),a+=v.data[s].toString(16);var y=new SpiceMsgDisplayBase;y.surface_id=this.streams[v.base.id].surface_id,y.box=this.streams[v.base.id].dest,y.clip=this.streams[v.base.id].clip,c.o={base:y,tag:"mjpeg."+v.base.id,descriptor:null,sc:this},c.onload=handle_draw_jpeg_onload,c.src=a}return!0}if(t.type==SPICE_MSG_DISPLAY_STREAM_CLIP){var v=new SpiceMsgDisplayStreamClip(t.data);return DEBUG>1&&console.log(this.type+": MsgStreamClip id"+v.id),this.streams[v.id].clip=v.clip,!0}if(t.type==SPICE_MSG_DISPLAY_STREAM_DESTROY){var v=new SpiceMsgDisplayStreamDestroy(t.data);return DEBUG>1&&console.log(this.type+": MsgStreamDestroy id"+v.id),this.streams[v.id]=void 0,!0}return!1},SpiceDisplayConn.prototype.delete_surface=function(t){var e=document.getElementById("spice_surface_"+t);DUMP_CANVASES&&this.parent.dump_id&&document.getElementById(this.parent.dump_id).removeChild(e),this.primary_surface==t&&(this.unhook_events(),this.primary_surface=void 0,document.getElementById(this.parent.screen_id).removeChild(e)),delete this.surfaces[t]},SpiceDisplayConn.prototype.draw_copy_helper=function(t){var e=this.surfaces[t.base.surface_id].canvas;if(t.has_alpha?this.surfaces[t.base.surface_id].format==SPICE_SURFACE_FMT_32_xRGB?(stripAlpha(t.image_data),e.context.putImageData(t.image_data,t.base.box.left,t.base.box.top)):putImageDataWithAlpha(e.context,t.image_data,t.base.box.left,t.base.box.top):e.context.putImageData(t.image_data,t.base.box.left,t.base.box.top),(t.src_area.left>0||t.src_area.top>0)&&this.log_warn("FIXME: DrawCopy not shifting draw copies just yet..."),t.descriptor&&t.descriptor.flags&SPICE_IMAGE_FLAGS_CACHE_ME&&("cache"in this||(this.cache=[]),this.cache[t.descriptor.id]=t.image_data),DUMP_DRAWS&&this.parent.dump_id){var n=document.createElement("canvas");n.setAttribute("width",t.image_data.width),n.setAttribute("height",t.image_data.height),n.setAttribute("id",t.tag+"."+this.surfaces[t.base.surface_id].draw_count+"."+t.base.surface_id+"@"+t.base.box.left+"x"+t.base.box.top),n.getContext("2d").putImageData(t.image_data,0,0),document.getElementById(this.parent.dump_id).appendChild(n)}return this.surfaces[t.base.surface_id].draw_count++,!0},SpiceDisplayConn.prototype.log_draw=function(t,e){var n=t+"."+e.base.surface_id+"."+this.surfaces[e.base.surface_id].draw_count+": ";n+="base.box "+e.base.box.left+", "+e.base.box.top+" to "+e.base.box.right+", "+e.base.box.bottom,n+="; clip.type "+e.base.clip.type,e.data&&(e.data.src_area&&(n+="; src_area "+e.data.src_area.left+", "+e.data.src_area.top+" to "+e.data.src_area.right+", "+e.data.src_area.bottom),e.data.src_bitmap&&null!=e.data.src_bitmap?(n+="; src_bitmap id: "+e.data.src_bitmap.descriptor.id,n+="; src_bitmap width "+e.data.src_bitmap.descriptor.width+", height "+e.data.src_bitmap.descriptor.height,n+="; src_bitmap type "+e.data.src_bitmap.descriptor.type+", flags "+e.data.src_bitmap.descriptor.flags,void 0!==e.data.src_bitmap.surface_id&&(n+="; src_bitmap surface_id "+e.data.src_bitmap.surface_id),e.data.src_bitmap.quic&&(n+="; QUIC type "+e.data.src_bitmap.quic.type+"; width "+e.data.src_bitmap.quic.width+"; height "+e.data.src_bitmap.quic.height),e.data.src_bitmap.lz_rgb&&(n+="; LZ_RGB length "+e.data.src_bitmap.lz_rgb.length+"; magic "+e.data.src_bitmap.lz_rgb.magic+"; version 0x"+e.data.src_bitmap.lz_rgb.version.toString(16)+"; type "+e.data.src_bitmap.lz_rgb.type+"; width "+e.data.src_bitmap.lz_rgb.width+"; height "+e.data.src_bitmap.lz_rgb.height+"; stride "+e.data.src_bitmap.lz_rgb.stride+"; top down "+e.data.src_bitmap.lz_rgb.top_down)):n+="; src_bitmap is null",e.data.brush&&(e.data.brush.type==SPICE_BRUSH_TYPE_SOLID&&(n+="; brush.color 0x"+e.data.brush.color.toString(16)),e.data.brush.type==SPICE_BRUSH_TYPE_PATTERN&&(n+="; brush.pat ",n+=null!=e.data.brush.pattern.pat?"[SpiceImage]":"[null]",n+=" at "+e.data.brush.pattern.pos.x+", "+e.data.brush.pattern.pos.y)),n+="; rop_descriptor "+e.data.rop_descriptor,void 0!==e.data.scale_mode&&(n+="; scale_mode "+e.data.scale_mode),n+="; mask.flags "+e.data.mask.flags,n+="; mask.pos "+e.data.mask.pos.x+", "+e.data.mask.pos.y,null!=e.data.mask.bitmap?(n+="; mask.bitmap width "+e.data.mask.bitmap.descriptor.width+", height "+e.data.mask.bitmap.descriptor.height,n+="; mask.bitmap type "+e.data.mask.bitmap.descriptor.type+", flags "+e.data.mask.bitmap.descriptor.flags):n+="; mask.bitmap is null"),console.log(n)},SpiceDisplayConn.prototype.hook_events=function(){if(void 0!==this.primary_surface){var t=this.surfaces[this.primary_surface].canvas;t.sc=this.parent,t.addEventListener("mousemove",handle_mousemove),t.addEventListener("mousedown",handle_mousedown),t.addEventListener("contextmenu",handle_contextmenu),t.addEventListener("mouseup",handle_mouseup),t.addEventListener("keydown",handle_keydown),t.addEventListener("keyup",handle_keyup),t.addEventListener("mouseout",handle_mouseout),t.addEventListener("mouseover",handle_mouseover),t.addEventListener("mousewheel",handle_mousewheel),t.focus()}},SpiceDisplayConn.prototype.unhook_events=function(){if(void 0!==this.primary_surface){var t=this.surfaces[this.primary_surface].canvas;t.removeEventListener("mousemove",handle_mousemove),t.removeEventListener("mousedown",handle_mousedown),t.removeEventListener("contextmenu",handle_contextmenu),t.removeEventListener("mouseup",handle_mouseup),t.removeEventListener("keydown",handle_keydown),t.removeEventListener("keyup",handle_keyup),t.removeEventListener("mouseout",handle_mouseout),t.removeEventListener("mouseover",handle_mouseover),t.removeEventListener("mousewheel",handle_mousewheel)}},SpiceDisplayConn.prototype.destroy_surfaces=function(){for(var t in this.surfaces)this.delete_surface(this.surfaces[t].surface_id);this.surfaces=void 0},SpiceMainConn.prototype=Object.create(SpiceConn.prototype),SpiceMainConn.prototype.process_channel_message=function(t){if(t.type==SPICE_MSG_MAIN_INIT){if(this.log_info("Connected to "+this.ws.url),this.report_success("Connected"),this.main_init=new SpiceMsgMainInit(t.data),this.connection_id=this.main_init.session_id,DEBUG>0&&this.log_info("session id "+this.main_init.session_id+" ; display_channels_hint "+this.main_init.display_channels_hint+" ; supported_mouse_modes "+this.main_init.supported_mouse_modes+" ; current_mouse_mode "+this.main_init.current_mouse_mode+" ; agent_connected "+this.main_init.agent_connected+" ; agent_tokens "+this.main_init.agent_tokens+" ; multi_media_time "+this.main_init.multi_media_time+" ; ram_hint "+this.main_init.ram_hint),this.mouse_mode=this.main_init.current_mouse_mode,this.main_init.current_mouse_mode!=SPICE_MOUSE_MODE_CLIENT&&this.main_init.supported_mouse_modes&SPICE_MOUSE_MODE_CLIENT){var e=new SpiceMsgcMainMouseModeRequest(SPICE_MOUSE_MODE_CLIENT),n=new SpiceMiniData;n.build_msg(SPICE_MSGC_MAIN_MOUSE_MODE_REQUEST,e),this.send_msg(n)}var i=new SpiceMiniData;return i.type=SPICE_MSGC_MAIN_ATTACH_CHANNELS,i.size=i.buffer_size(),this.send_msg(i),!0}if(t.type==SPICE_MSG_MAIN_MOUSE_MODE){var r=new SpiceMsgMainMouseMode(t.data);return DEBUG>0&&this.log_info("Mouse supported modes "+r.supported_modes+"; current "+r.current_mode),this.mouse_mode=r.current_mode,this.inputs&&(this.inputs.mouse_mode=r.current_mode),!0}if(t.type==SPICE_MSG_MAIN_CHANNELS_LIST){var o,s;for(DEBUG>0&&console.log("channels"),s=new SpiceMsgChannels(t.data),o=0;o<s.channels.length;o++){var a={uri:this.ws.url,parent:this,connection_id:this.connection_id,type:s.channels[o].type,chan_id:s.channels[o].id};s.channels[o].type==SPICE_CHANNEL_DISPLAY?this.display=new SpiceDisplayConn(a):s.channels[o].type==SPICE_CHANNEL_INPUTS?(this.inputs=new SpiceInputsConn(a),this.inputs.mouse_mode=this.mouse_mode):s.channels[o].type==SPICE_CHANNEL_CURSOR?this.cursor=new SpiceCursorConn(a):(this.log_err("Channel type "+s.channels[o].type+" unknown."),"extra_channels"in this||(this.extra_channels=[]),this.extra_channels[o]=new SpiceConn(a))}return!0}return!1},SpiceMainConn.prototype.stop=function(){if(this.state="closing",this.inputs&&(this.inputs.cleanup(),this.inputs=void 0),this.cursor&&(this.cursor.cleanup(),this.cursor=void 0),this.display&&(this.display.cleanup(),this.display.destroy_surfaces(),this.display=void 0),this.cleanup(),"extra_channels"in this)for(var t in this.extra_channels)this.extra_channels[t].cleanup();this.extra_channels=void 0};var Shift_state=-1,Ctrl_state=-1,Alt_state=-1,Meta_state=-1;SpiceInputsConn.prototype=Object.create(SpiceConn.prototype),SpiceInputsConn.prototype.process_channel_message=function(t){if(t.type==SPICE_MSG_INPUTS_INIT){var e=new SpiceMsgInputsInit(t.data);return this.keyboard_modifiers=e.keyboard_modifiers,DEBUG>1&&console.log("MsgInputsInit - modifier "+this.keyboard_modifiers),!0}if(t.type==SPICE_MSG_INPUTS_KEY_MODIFIERS){var n=new SpiceMsgInputsKeyModifiers(t.data);return this.keyboard_modifiers=n.keyboard_modifiers,DEBUG>1&&console.log("MsgInputsKeyModifiers - modifier "+this.keyboard_modifiers),!0}return t.type==SPICE_MSG_INPUTS_MOUSE_MOTION_ACK?(DEBUG>1&&console.log("mouse motion ack"),this.waiting_for_ack-=SPICE_INPUT_MOTION_ACK_BUNCH,!0):!1},SpiceCursorConn.prototype=Object.create(SpiceConn.prototype),SpiceCursorConn.prototype.process_channel_message=function(t){if(t.type==SPICE_MSG_CURSOR_INIT){var e=new SpiceMsgCursorInit(t.data);return DEBUG>1&&console.log("SpiceMsgCursorInit"),this.parent&&this.parent.inputs&&this.parent.inputs.mouse_mode==SPICE_MOUSE_MODE_SERVER&&(this.parent.inputs.mousex=e.position.x,this.parent.inputs.mousey=e.position.y),!0}if(t.type==SPICE_MSG_CURSOR_SET){var n=new SpiceMsgCursorSet(t.data);return DEBUG>1&&console.log("SpiceMsgCursorSet"),n.flags&SPICE_CURSOR_FLAGS_NONE?(document.getElementById(this.parent.screen_id).style.cursor="none",!0):(n.flags>0&&this.log_warn("FIXME: No support for cursor flags "+n.flags),n.cursor.header.type!=SPICE_CURSOR_TYPE_ALPHA?(this.log_warn("FIXME: No support for cursor type "+n.cursor.header.type),!1):(this.set_cursor(n.cursor),!0))}return t.type==SPICE_MSG_CURSOR_HIDE?(DEBUG>1&&console.log("SpiceMsgCursorHide"),document.getElementById(this.parent.screen_id).style.cursor="none",!0):!1},SpiceCursorConn.prototype.set_cursor=function(t){var e=create_rgba_png(t.header.height,t.header.width,t.data),n="url(data:image/png,"+e+") "+t.header.hot_spot_x+" "+t.header.hot_spot_y+", default";document.getElementById(this.parent.screen_id).style.cursor=n};var dbits,canary=0xdeadbeefcafe,j_lm=15715070==(16777215&canary);j_lm&&"Microsoft Internet Explorer"==navigator.appName?(BigInteger.prototype.am=am2,dbits=30):j_lm&&"Netscape"!=navigator.appName?(BigInteger.prototype.am=am1,dbits=26):(BigInteger.prototype.am=am3,dbits=28),BigInteger.prototype.DB=dbits,BigInteger.prototype.DM=(1<<dbits)-1,BigInteger.prototype.DV=1<<dbits;var BI_FP=52;BigInteger.prototype.FV=Math.pow(2,BI_FP),BigInteger.prototype.F1=BI_FP-dbits,BigInteger.prototype.F2=2*dbits-BI_FP;var BI_RM="0123456789abcdefghijklmnopqrstuvwxyz",BI_RC=new Array,rr,vv;for(rr="0".charCodeAt(0),vv=0;9>=vv;++vv)BI_RC[rr++]=vv;for(rr="a".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;for(rr="A".charCodeAt(0),vv=10;36>vv;++vv)BI_RC[rr++]=vv;Classic.prototype.convert=cConvert,Classic.prototype.revert=cRevert,Classic.prototype.reduce=cReduce,Classic.prototype.mulTo=cMulTo,Classic.prototype.sqrTo=cSqrTo,Montgomery.prototype.convert=montConvert,Montgomery.prototype.revert=montRevert,Montgomery.prototype.reduce=montReduce,Montgomery.prototype.mulTo=montMulTo,Montgomery.prototype.sqrTo=montSqrTo,BigInteger.prototype.copyTo=bnpCopyTo,BigInteger.prototype.fromInt=bnpFromInt,BigInteger.prototype.fromString=bnpFromString,BigInteger.prototype.clamp=bnpClamp,BigInteger.prototype.dlShiftTo=bnpDLShiftTo,BigInteger.prototype.drShiftTo=bnpDRShiftTo,BigInteger.prototype.lShiftTo=bnpLShiftTo,BigInteger.prototype.rShiftTo=bnpRShiftTo,BigInteger.prototype.subTo=bnpSubTo,BigInteger.prototype.multiplyTo=bnpMultiplyTo,BigInteger.prototype.squareTo=bnpSquareTo,BigInteger.prototype.divRemTo=bnpDivRemTo,BigInteger.prototype.invDigit=bnpInvDigit,BigInteger.prototype.isEven=bnpIsEven,BigInteger.prototype.exp=bnpExp,BigInteger.prototype.toString=bnToString,BigInteger.prototype.negate=bnNegate,BigInteger.prototype.abs=bnAbs,BigInteger.prototype.compareTo=bnCompareTo,BigInteger.prototype.bitLength=bnBitLength,BigInteger.prototype.mod=bnMod,BigInteger.prototype.modPowInt=bnModPowInt,BigInteger.ZERO=nbv(0),BigInteger.ONE=nbv(1),RSAKey.prototype.doPublic=RSADoPublic,RSAKey.prototype.setPublic=RSASetPublic,RSAKey.prototype.encrypt=RSAEncrypt,Arcfour.prototype.init=ARC4init,Arcfour.prototype.next=ARC4next;var rng_psize=256,rng_state,rng_pool,rng_pptr;if(null==rng_pool){rng_pool=new Array,rng_pptr=0;var t;if("Netscape"==navigator.appName&&navigator.appVersion<"5"&&window.crypto){var z=window.crypto.random(32);for(t=0;t<z.length;++t)rng_pool[rng_pptr++]=255&z.charCodeAt(t)}for(;rng_psize>rng_pptr;)t=Math.floor(65536*Math.random()),rng_pool[rng_pptr++]=t>>>8,rng_pool[rng_pptr++]=255&t;rng_pptr=0,rng_seed_time()}SecureRandom.prototype.nextBytes=rng_get_bytes;var hexcase=0,b64pad="",SHA_DIGEST_LENGTH=20;if(function(){var t,e,n,i,r,o,s,a,c,l,u,h,p,d,f,m,_,g,v,y,b,w,E,S,C,$,x,T,I,A,M,P,D,k,N,U,R,L,O,B,G,j,Y,F,K,H,q,z,V,W,Q,X,Z,J,te,ee,ne,ie,re,oe,se=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},ae=[].slice;R={},u=10,te=!1,m=null,D=null,$=["html"],Y=null,d=null,re=null,b=function(t){var e;return z(),l(),F(t),te&&(e=ee(t))?(w(e),E(t)):E(t,Z)},ee=function(t){var e;return e=R[t],e&&!e.transitionCacheDisabled?e:void 0},_=function(t){return null==t&&(t=!0),te=t},E=function(t,e){return null==e&&(e=function(){return function(){}}(this)),ne("page:fetch",{url:t}),null!=re&&re.abort(),re=new XMLHttpRequest,re.open("GET",W(t),!0),re.setRequestHeader("Accept","text/html, application/xhtml+xml, application/xml"),re.setRequestHeader("X-XHR-Referer",Y),re.onload=function(){var n;return ne("page:receive"),(n=G())?(h.apply(null,y(n)),K(),e(),ne("page:load")):document.location.href=t},re.onloadend=function(){return re=null},re.onerror=function(){return document.location.href=t},re.send()},w=function(t){return null!=re&&re.abort(),h(t.title,t.body),j(t),ne("page:restore")},l=function(){return R[m.url]={url:document.location.href,body:document.body,title:document.title,positionY:window.pageYOffset,positionX:window.pageXOffset,cachedAt:(new Date).getTime(),transitionCacheDisabled:null!=document.querySelector("[data-no-transition-cache]")},p(u)},O=function(t){return null==t&&(t=u),/^[\d]+$/.test(t)?u=parseInt(t):void 0},p=function(t){var e,n,i,r,o,s;for(i=Object.keys(R),e=i.map(function(t){return R[t].cachedAt}).sort(function(t,e){return e-t}),s=[],r=0,o=i.length;o>r;r++)n=i[r],R[n].cachedAt<=e[t]&&(ne("page:expire",R[n]),s.push(delete R[n]));return s},h=function(e,n,i,r){return document.title=e,document.documentElement.replaceChild(n,document.body),null!=i&&t.update(i),r&&g(),m=window.history.state,ne("page:change"),ne("page:update")},g=function(){var t,e,n,i,r,o,s,a,c,l,u,h;for(o=Array.prototype.slice.call(document.body.querySelectorAll('script:not([data-turbolinks-eval="false"])')),s=0,c=o.length;c>s;s++)if(r=o[s],""===(u=r.type)||"text/javascript"===u){for(e=document.createElement("script"),h=r.attributes,a=0,l=h.length;l>a;a++)t=h[a],e.setAttribute(t.name,t.value);e.appendChild(document.createTextNode(r.innerHTML)),i=r.parentNode,n=r.nextSibling,i.removeChild(r),i.insertBefore(e,n)}},Q=function(t){return t.innerHTML=t.innerHTML.replace(/<noscript[\S\s]*?<\/noscript>/gi,""),t},F=function(t){return t!==Y?window.history.pushState({turbolinks:!0,url:t},"",t):void 0},K=function(){var t,e;return(t=re.getResponseHeader("X-XHR-Redirected-To"))?(e=V(t)===t?document.location.hash:"",window.history.replaceState(m,"",t+e)):void 0},z=function(){return Y=document.location.href},q=function(){return window.history.replaceState({turbolinks:!0,url:document.location.href},"",document.location.href)},H=function(){return m=window.history.state},j=function(t){return window.scrollTo(t.positionX,t.positionY)},Z=function(){return document.location.hash?document.location.href=document.location.href:window.scrollTo(0,0)},W=function(t){return V(t)},V=function(t){var e;return e=t,null==t.href&&(e=document.createElement("A"),e.href=t),e.href.replace(e.hash,"")},B=function(t){var e,n;return e=(null!=(n=document.cookie.match(new RegExp(t+"=(\\w+)")))?n[1].toUpperCase():void 0)||"",document.cookie=t+"=; expires=Thu, 01-Jan-70 00:00:01 GMT; path=/",e},ne=function(t,e){var n;return n=document.createEvent("Events"),e&&(n.data=e),n.initEvent(t,!0,!0),document.dispatchEvent(n)},L=function(){return!ne("page:before-change")},G=function(){var t,e,n,i,r,o;return e=function(){var t;return 400<=(t=re.status)&&600>t},o=function(){return re.getResponseHeader("Content-Type").match(/^(?:text\/html|application\/xhtml\+xml|application\/xml)(?:;|$)/)},i=function(t){var e,n,i,r,o;for(r=t.head.childNodes,o=[],n=0,i=r.length;i>n;n++)e=r[n],null!=("function"==typeof e.getAttribute?e.getAttribute("data-turbolinks-track"):void 0)&&o.push(e.getAttribute("src")||e.getAttribute("href"));return o},t=function(t){var e;return D||(D=i(document)),e=i(t),e.length!==D.length||r(e,D).length!==D.length},r=function(t,e){var n,i,r,o,s;for(t.length>e.length&&(o=[e,t],t=o[0],e=o[1]),s=[],i=0,r=t.length;r>i;i++)n=t[i],se.call(e,n)>=0&&s.push(n);return s},!e()&&o()&&(n=d(re.responseText),n&&!t(n))?n:void 0},y=function(e){var n;return n=e.querySelector("title"),[null!=n?n.textContent:void 0,Q(e.body),t.get(e).token,"runScripts"]},t={get:function(t){var e;return null==t&&(t=document),{node:e=t.querySelector('meta[name="csrf-token"]'),token:null!=e?"function"==typeof e.getAttribute?e.getAttribute("content"):void 0:void 0}},update:function(t){var e;return e=this.get(),null!=e.token&&null!=t&&e.token!==t?e.node.setAttribute("content",t):void 0}},i=function(){var t,e,n,i,r,o;e=function(t){return(new DOMParser).parseFromString(t,"text/html")},t=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.documentElement.innerHTML=t,e},n=function(t){var e;return e=document.implementation.createHTMLDocument(""),e.open("replace"),e.write(t),e.close(),e};try{if(window.DOMParser)return r=e("<html><body><p>test"),e}catch(s){return i=s,r=t("<html><body><p>test"),t}finally{if(1!==(null!=r?null!=(o=r.body)?o.childNodes.length:void 0:void 0))return n}},I=function(t){return t.defaultPrevented?void 0:(document.removeEventListener("click",S,!1),document.addEventListener("click",S,!1))},S=function(t){var e;return t.defaultPrevented||(e=v(t),"A"!==e.nodeName||x(t,e))?void 0:(L()||ie(e.href),t.preventDefault())},v=function(t){var e;for(e=t.target;e.parentNode&&"A"!==e.nodeName;)e=e.parentNode;return e},f=function(t){return location.protocol!==t.protocol||location.host!==t.host},n=function(t){return(t.hash&&V(t))===V(location)||t.href===location.href+"#"},N=function(t){var e;return e=V(t),e.match(/\.[a-z]+(\?.*)?$/g)&&!e.match(new RegExp("\\.(?:"+$.join("|")+")?(\\?.*)?$","g"))},k=function(t){for(var e;!e&&t!==document;)e=null!=t.getAttribute("data-no-turbolink"),t=t.parentNode;return e},J=function(t){return 0!==t.target.length},U=function(t){return t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey},x=function(t,e){return f(e)||n(e)||N(e)||k(e)||J(e)||U(t)},e=function(){var t,e,n,i;for(e=1<=arguments.length?ae.call(arguments,0):[],n=0,i=e.length;i>n;n++)t=e[n],$.push(t);return $},c=function(t){return setTimeout(t,500)},A=function(){return document.addEventListener("DOMContentLoaded",function(){return ne("page:change"),ne("page:update")},!0)},P=function(){return"undefined"!=typeof jQuery?jQuery(document).on("ajaxSuccess",function(t,e){return jQuery.trim(e.responseText)?ne("page:update"):void 0}):void 0},M=function(t){var e,n;return(null!=(n=t.state)?n.turbolinks:void 0)?(e=R[t.state.url])?(l(),w(e)):ie(t.target.location.href):void 0},T=function(){return q(),H(),d=i(),document.addEventListener("click",I,!0),c(function(){return window.addEventListener("popstate",M,!1)})},C=void 0!==window.history.state||navigator.userAgent.match(/Firefox\/2[6|7]/),s=window.history&&window.history.pushState&&window.history.replaceState&&C,r=!navigator.userAgent.match(/CriOS\//),X="GET"===(oe=B("request_method"))||""===oe,a=s&&r&&X,o=document.addEventListener&&document.createEvent,o&&(A(),P()),a?(ie=b,T()):ie=function(t){return document.location.href=t},this.Turbolinks={visit:ie,pagesCached:O,enableTransitionCache:_,allowLinkExtensions:e,supported:a}}.call(this),function(t,e,n){"use strict";e.module("ngResource",["ng"]).factory("$resource",["$http","$parse",function(t,i){function r(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function o(t,e){this.template=t+="#",this.defaults=e||{};var n=this.urlParams={};l(t.split(/\W/),function(e){e&&RegExp("(^|[^\\\\]):"+e+"\\W").test(t)&&(n[e]=!0)}),this.template=t.replace(/\\:/g,":")}function s(r,d,f){function m(t,e){var n={},e=u({},d,e);return l(e,function(e,r){var o;e.charAt&&"@"==e.charAt(0)?(o=e.substr(1),o=i(o)(t)):o=e,n[r]=o}),n}function _(t){h(t||{},this)}var g=new o(r),f=u({},a,f);return l(f,function(i,r){i.method=e.uppercase(i.method);var o="POST"==i.method||"PUT"==i.method||"PATCH"==i.method;_[r]=function(e,n,r,s){var a,d={},f=c,v=null;switch(arguments.length){case 4:v=s,f=r;case 3:case 2:if(!p(n)){d=e,a=n,f=r;break}if(p(e)){f=e,v=n;break}f=n,v=r;case 1:p(e)?f=e:o?a=e:d=e;break;case 0:break;default:throw"Expected between 0-4 arguments [params, data, success, error], got "+arguments.length+" arguments."}var y=this instanceof _?this:i.isArray?[]:new _(a);return t({method:i.method,url:g.url(u({},m(a,i.params||{}),d)),data:a}).then(function(t){var e=t.data;e&&(i.isArray?(y.length=0,l(e,function(t){y.push(new _(t))})):h(e,y)),(f||c)(y,t.headers)},v),y},_.prototype["$"+r]=function(t,e,i){var s,a=m(this),l=c;switch(arguments.length){case 3:a=t,l=e,s=i;break;case 2:case 1:p(t)?(l=t,s=e):(a=t,l=e||c);case 0:break;default:throw"Expected between 1-3 arguments [params, success, error], got "+arguments.length+" arguments."}_[r].call(this,a,o?this:n,l,s)}}),_.bind=function(t){return s(r,u({},d,t),f)
},_}var a={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},c=e.noop,l=e.forEach,u=e.extend,h=e.copy,p=e.isFunction;return o.prototype={url:function(t){var n,i,o=this,s=this.template,t=t||{};l(this.urlParams,function(a,c){n=t.hasOwnProperty(c)?t[c]:o.defaults[c],e.isDefined(n)&&null!==n?(i=r(n,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+"),s=s.replace(RegExp(":"+c+"(\\W)","g"),i+"$1")):s=s.replace(RegExp("(/?):"+c+"(\\W)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})});var s=s.replace(/\/?#$/,""),a=[];return l(t,function(t,e){o.urlParams[e]||a.push(r(e)+"="+r(t))}),a.sort(),s=s.replace(/\/*$/,""),s+(a.length?"?"+a.join("&"):"")}},s}])}(window,window.angular),function(t,e,n){"use strict";function i(t,e,n){var r;if(t)if(E(t))for(r in t)"prototype"!=r&&"length"!=r&&"name"!=r&&t.hasOwnProperty(r)&&e.call(n,t[r],r);else if(t.forEach&&t.forEach!==i)t.forEach(e,n);else if(t&&"number"==typeof t.length?"function"!=typeof t.hasOwnProperty&&"function"!=typeof t.constructor||t instanceof Q||xn&&t instanceof xn||"[object Object]"!==Nn.call(t)||"function"==typeof t.callee:0)for(r=0;r<t.length;r++)e.call(n,t[r],r);else for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r);return t}function r(t){var e,n=[];for(e in t)t.hasOwnProperty(e)&&n.push(e);return n.sort()}function o(t,e,n){for(var i=r(t),o=0;o<i.length;o++)e.call(n,t[i[o]],i[o]);return i}function s(t){return function(e,n){t(n,e)}}function a(){for(var t,e=Rn.length;e;){if(e--,t=Rn[e].charCodeAt(0),57==t)return Rn[e]="A",Rn.join("");if(90!=t)return Rn[e]=String.fromCharCode(t+1),Rn.join("");Rn[e]="0"}return Rn.unshift("0"),Rn.join("")}function c(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function l(t){var e=t.$$hashKey;return i(arguments,function(e){e!==t&&i(e,function(e,n){t[n]=e})}),c(t,e),t}function u(t){return parseInt(t,10)}function h(t,e){return l(new(l(function(){},{prototype:t})),e)}function p(){}function d(t){return t}function f(t){return function(){return t}}function m(t){return"undefined"==typeof t}function _(t){return"undefined"!=typeof t}function g(t){return null!=t&&"object"==typeof t}function v(t){return"string"==typeof t}function y(t){return"number"==typeof t}function b(t){return"[object Date]"==Nn.apply(t)}function w(t){return"[object Array]"==Nn.apply(t)}function E(t){return"function"==typeof t}function S(t){return t&&t.document&&t.location&&t.alert&&t.setInterval}function C(t){return v(t)?t.replace(/^\s*/,"").replace(/\s*$/,""):t}function $(t){return t&&(t.nodeName||t.bind&&t.find)}function x(t,e,n){var r=[];return i(t,function(t,i,o){r.push(e.call(n,t,i,o))}),r}function T(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;n++)if(e===t[n])return n;return-1}function I(t,e){var n=T(t,e);return n>=0&&t.splice(n,1),e}function A(t,e){if(S(t)||t&&t.$evalAsync&&t.$watch)throw Error("Can't copy Window or Scope");if(e){if(t===e)throw Error("Can't copy equivalent objects or arrays");if(w(t))for(var n=e.length=0;n<t.length;n++)e.push(A(t[n]));else{n=e.$$hashKey,i(e,function(t,n){delete e[n]});for(var r in t)e[r]=A(t[r]);c(e,n)}}else(e=t)&&(w(t)?e=A(t,[]):b(t)?e=new Date(t.getTime()):g(t)&&(e=A(t,{})));return e}function M(t,e){var n,e=e||{};for(n in t)t.hasOwnProperty(n)&&"$$"!==n.substr(0,2)&&(e[n]=t[n]);return e}function P(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var i,r=typeof t;if(r==typeof e&&"object"==r){if(!w(t)){if(b(t))return b(e)&&t.getTime()==e.getTime();if(t&&t.$evalAsync&&t.$watch||e&&e.$evalAsync&&e.$watch||S(t)||S(e))return!1;r={};for(i in t)if("$"!==i.charAt(0)&&!E(t[i])){if(!P(t[i],e[i]))return!1;r[i]=!0}for(i in e)if(!r[i]&&"$"!==i.charAt(0)&&e[i]!==n&&!E(e[i]))return!1;return!0}if((r=t.length)==e.length){for(i=0;r>i;i++)if(!P(t[i],e[i]))return!1;return!0}}return!1}function D(t,e){var n=arguments.length>2?Dn.call(arguments,2):[];return!E(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,n.concat(Dn.call(arguments,0))):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function k(t,i){var r=i;return/^\$+/.test(t)?r=n:S(i)?r="$WINDOW":i&&e===i?r="$DOCUMENT":i&&i.$evalAsync&&i.$watch&&(r="$SCOPE"),r}function N(t,e){return JSON.stringify(t,k,e?"  ":null)}function U(t){return v(t)?JSON.parse(t):t}function R(t){return t&&0!==t.length?(t=An(""+t),t=!("f"==t||"0"==t||"false"==t||"no"==t||"n"==t||"[]"==t)):t=!1,t}function L(t){t=$n(t).clone();try{t.html("")}catch(e){}var n=$n("<div>").append(t).html();try{return 3===t[0].nodeType?An(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+An(e)})}catch(i){return An(n)}}function O(t){var e,n,r={};return i((t||"").split("&"),function(t){t&&(e=t.split("="),n=decodeURIComponent(e[0]),r[n]=_(e[1])?decodeURIComponent(e[1]):!0)}),r}function B(t){var e=[];return i(t,function(t,n){e.push(j(n,!0)+(t===!0?"":"="+j(t,!0)))}),e.length?e.join("&"):""}function G(t){return j(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function j(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function Y(t,n){function r(t){t&&a.push(t)}var o,s,a=[t],c=["ng:app","ng-app","x-ng-app","data-ng-app"],l=/\sng[:\-]app(:\s*([\w\d_]+);?)?\s/;i(c,function(n){c[n]=!0,r(e.getElementById(n)),n=n.replace(":","\\:"),t.querySelectorAll&&(i(t.querySelectorAll("."+n),r),i(t.querySelectorAll("."+n+"\\:"),r),i(t.querySelectorAll("["+n+"]"),r))}),i(a,function(t){if(!o){var e=l.exec(" "+t.className+" ");e?(o=t,s=(e[2]||"").replace(/\s+/g,",")):i(t.attributes,function(e){!o&&c[e.name]&&(o=t,s=e.value)})}}),o&&n(o,s?[s]:[])}function F(e,n){var r=function(){e=$n(e),n=n||[],n.unshift(["$provide",function(t){t.value("$rootElement",e)}]),n.unshift("ng");var t=me(n);return t.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,i){t.$apply(function(){e.data("$injector",i),n(e)(t)})}]),t},o=/^NG_DEFER_BOOTSTRAP!/;return t&&!o.test(t.name)?r():(t.name=t.name.replace(o,""),Un.resumeBootstrap=function(t){i(t,function(t){n.push(t)}),r()},void 0)}function K(t,e){return e=e||"_",t.replace(Ln,function(t,n){return(n?e:"")+t.toLowerCase()})}function H(t,e,n){if(!t)throw Error("Argument '"+(e||"?")+"' is "+(n||"required"));return t}function q(t,e,n){return n&&w(t)&&(t=t[t.length-1]),H(E(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function z(t){function e(t,e,n){return t[e]||(t[e]=n())}return e(e(t,"angular",Object),"module",function(){var t={};return function(n,i,r){return i&&t.hasOwnProperty(n)&&(t[n]=null),e(t,n,function(){function t(t,n,i){return function(){return e[i||"push"]([t,n,arguments]),a}}if(!i)throw Error("No module: "+n);var e=[],o=[],s=t("$injector","invoke"),a={_invokeQueue:e,_runBlocks:o,requires:i,name:n,provider:t("$provide","provider"),factory:t("$provide","factory"),service:t("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),filter:t("$filterProvider","register"),controller:t("$controllerProvider","register"),directive:t("$compileProvider","directive"),config:s,run:function(t){return o.push(t),this}};return r&&s(r),a})}})}function V(t){return t.replace(Kn,function(t,e,n,i){return i?n.toUpperCase():n}).replace(Hn,"Moz$1")}function W(t,e){function n(){for(var t,n,r,o,s,a,c,l=[this],u=e;l.length;)for(n=l.shift(),r=0,o=n.length;o>r;r++)for(s=$n(n[r]),u?s.triggerHandler("$destroy"):u=!u,a=0,t=(c=s.children()).length,s=t;s>a;a++)l.push(xn(c[a]));return i.apply(this,arguments)}var i=xn.fn[t],i=i.$original||i;n.$original=i,xn.fn[t]=n}function Q(t){if(t instanceof Q)return t;if(!(this instanceof Q)){if(v(t)&&"<"!=t.charAt(0))throw Error("selectors not implemented");return new Q(t)}if(v(t)){var n=e.createElement("div");n.innerHTML="<div>&#160;</div>"+t,n.removeChild(n.firstChild),se(this,n.childNodes),this.remove()}else se(this,t)}function X(t){return t.cloneNode(!0)}function Z(t){te(t);for(var e=0,t=t.childNodes||[];e<t.length;e++)Z(t[e])}function J(t,e,n){var r=ee(t,"events");ee(t,"handle")&&(m(e)?i(r,function(e,n){Fn(t,n,e),delete r[n]}):m(n)?(Fn(t,e,r[e]),delete r[e]):I(r[e],n))}function te(t){var e=t[Gn],i=Bn[e];i&&(i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),J(t)),delete Bn[e],t[Gn]=n)}function ee(t,e,n){var i=t[Gn],i=Bn[i||-1];return _(n)?(i||(t[Gn]=i=++jn,i=Bn[i]={}),i[e]=n,void 0):i&&i[e]}function ne(t,e,n){var i=ee(t,"data"),r=_(n),o=!r&&_(e),s=o&&!g(e);if(!i&&!s&&ee(t,"data",i={}),r)i[e]=n;else{if(!o)return i;if(s)return i&&i[e];l(i,e)}}function ie(t,e){return(" "+t.className+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1}function re(t,e){e&&i(e.split(" "),function(e){t.className=C((" "+t.className+" ").replace(/[\n\t]/g," ").replace(" "+C(e)+" "," "))})}function oe(t,e){e&&i(e.split(" "),function(e){ie(t,e)||(t.className=C(t.className+" "+C(e)))})}function se(t,e){if(e)for(var e=e.nodeName||!_(e.length)||S(e)?[e]:e,n=0;n<e.length;n++)t.push(e[n])}function ae(t,e){return ce(t,"$"+(e||"ngController")+"Controller")}function ce(t,e,n){for(t=$n(t),9==t[0].nodeType&&(t=t.find("html"));t.length;){if(n=t.data(e))return n;t=t.parent()}}function le(t,e){var n=zn[e.toLowerCase()];return n&&Vn[t.nodeName]&&n}function ue(t,n){var r=function(r,o){if(r.preventDefault||(r.preventDefault=function(){r.returnValue=!1}),r.stopPropagation||(r.stopPropagation=function(){r.cancelBubble=!0}),r.target||(r.target=r.srcElement||e),m(r.defaultPrevented)){var s=r.preventDefault;r.preventDefault=function(){r.defaultPrevented=!0,s.call(r)},r.defaultPrevented=!1}r.isDefaultPrevented=function(){return r.defaultPrevented},i(n[o||r.type],function(e){e.call(t,r)}),8>=Pn?(r.preventDefault=null,r.stopPropagation=null,r.isDefaultPrevented=null):(delete r.preventDefault,delete r.stopPropagation,delete r.isDefaultPrevented)};return r.elem=t,r}function he(t){var e,i=typeof t;return"object"==i&&null!==t?"function"==typeof(e=t.$$hashKey)?e=t.$$hashKey():e===n&&(e=t.$$hashKey=a()):e=t,i+":"+e}function pe(t){i(t,this.put,this)}function de(){}function fe(t){var e,n;return"function"==typeof t?(e=t.$inject)||(e=[],n=t.toString().replace(Zn,""),n=n.match(Wn),i(n[1].split(Qn),function(t){t.replace(Xn,function(t,n,i){e.push(i)})}),t.$inject=e):w(t)?(n=t.length-1,q(t[n],"fn"),e=t.slice(0,n)):q(t,"fn",!0),e}function me(t){function e(t){return function(e,n){return g(e)?(i(e,s(t)),void 0):t(e,n)}}function n(t,e){if((E(e)||w(e))&&(e=m.instantiate(e)),!e.$get)throw Error("Provider "+t+" must define $get factory method.");return d[t+l]=e}function r(t,e){return n(t,{$get:e})}function o(t){var e=[];return i(t,function(t){if(!h.get(t))if(h.put(t,!0),v(t)){var n=Tn(t);e=e.concat(o(n.requires)).concat(n._runBlocks);try{for(var i=n._invokeQueue,n=0,r=i.length;r>n;n++){var s=i[n],a="$injector"==s[0]?m:m.get(s[0]);a[s[1]].apply(a,s[2])}}catch(c){throw c.message&&(c.message+=" from "+t),c}}else if(E(t))try{e.push(m.invoke(t))}catch(l){throw l.message&&(l.message+=" from "+t),l}else if(w(t))try{e.push(m.invoke(t))}catch(u){throw u.message&&(u.message+=" from "+String(t[t.length-1])),u}else q(t,"module")}),e}function a(t,e){function n(n){if("string"!=typeof n)throw Error("Service name expected");if(t.hasOwnProperty(n)){if(t[n]===c)throw Error("Circular dependency: "+u.join(" <- "));return t[n]}try{return u.unshift(n),t[n]=c,t[n]=e(n)}finally{u.shift()}}function i(t,e,i){var r,o,s,a=[],c=fe(t);for(o=0,r=c.length;r>o;o++)s=c[o],a.push(i&&i.hasOwnProperty(s)?i[s]:n(s));switch(t.$inject||(t=t[r]),e?-1:a.length){case 0:return t();case 1:return t(a[0]);case 2:return t(a[0],a[1]);case 3:return t(a[0],a[1],a[2]);case 4:return t(a[0],a[1],a[2],a[3]);case 5:return t(a[0],a[1],a[2],a[3],a[4]);case 6:return t(a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);case 9:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);case 10:return t(a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]);default:return t.apply(e,a)}}return{invoke:i,instantiate:function(t,e){var n,r=function(){};return r.prototype=(w(t)?t[t.length-1]:t).prototype,r=new r,n=i(t,r,e),g(n)?n:r},get:n,annotate:fe}}var c={},l="Provider",u=[],h=new pe,d={$provide:{provider:e(n),factory:e(r),service:e(function(t,e){return r(t,["$injector",function(t){return t.instantiate(e)}])}),value:e(function(t,e){return r(t,f(e))}),constant:e(function(t,e){d[t]=e,_[t]=e}),decorator:function(t,e){var n=m.get(t+l),i=n.$get;n.$get=function(){var t=y.invoke(i,n);return y.invoke(e,null,{$delegate:t})}}}},m=a(d,function(){throw Error("Unknown provider: "+u.join(" <- "))}),_={},y=_.$injector=a(_,function(t){return t=m.get(t+l),y.invoke(t.$get,t)});return i(o(t),function(t){y.invoke(t||p)}),y}function _e(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function o(t){var e=null;return i(t,function(t){!e&&"a"===An(t.nodeName)&&(e=t)}),e}function s(){var t,i=n.hash();i?(t=a.getElementById(i))?t.scrollIntoView():(t=o(a.getElementsByName(i)))?t.scrollIntoView():"top"===i&&e.scrollTo(0,0):e.scrollTo(0,0)}var a=e.document;return t&&r.$watch(function(){return n.hash()},function(){r.$evalAsync(s)}),s}]}function ge(t,e,r,o){function s(t){try{t.apply(null,Dn.call(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(e){r.error(e)}}}function a(t,e){!function n(){i(E,function(t){t()}),w=e(n,t)}()}function c(){S!=l.url()&&(S=l.url(),i($,function(t){t(l.url())}))}var l=this,u=e[0],h=t.location,d=t.history,f=t.setTimeout,_=t.clearTimeout,g={};l.isMock=!1;var y=0,b=[];l.$$completeOutstandingRequest=s,l.$$incOutstandingRequestCount=function(){y++},l.notifyWhenNoOutstandingRequests=function(t){i(E,function(t){t()}),0===y?t():b.push(t)};var w,E=[];l.addPollFn=function(t){return m(w)&&a(100,f),E.push(t),t};var S=h.href,C=e.find("base");l.url=function(t,e){return t?S!=t?(S=t,o.history?e?d.replaceState(null,"",t):(d.pushState(null,"",t),C.attr("href",C.attr("href"))):e?h.replace(t):h.href=t,l):void 0:h.href.replace(/%27/g,"'")};var $=[],x=!1;l.onUrlChange=function(e){return x||(o.history&&$n(t).bind("popstate",c),o.hashchange?$n(t).bind("hashchange",c):l.addPollFn(c),x=!0),$.push(e),e},l.baseHref=function(){var t=C.attr("href");return t?t.replace(/^https?\:\/\/[^\/]*/,""):""};var T={},I="",A=l.baseHref();l.cookies=function(t,e){var i,o,s,a;if(!t){if(u.cookie!==I)for(I=u.cookie,i=I.split("; "),T={},s=0;s<i.length;s++)o=i[s],a=o.indexOf("="),a>0&&(t=unescape(o.substring(0,a)),T[t]===n&&(T[t]=unescape(o.substring(a+1))));return T}e===n?u.cookie=escape(t)+"=;path="+A+";expires=Thu, 01 Jan 1970 00:00:00 GMT":v(e)&&(i=(u.cookie=escape(t)+"="+escape(e)+";path="+A).length+1,i>4096&&r.warn("Cookie '"+t+"' possibly not set or overflowed because it was too large ("+i+" > 4096 bytes)!"))},l.defer=function(t,e){var n;return y++,n=f(function(){delete g[n],s(t)},e||0),g[n]=!0,n},l.defer.cancel=function(t){return g[t]?(delete g[t],_(t),s(p),!0):!1}}function ve(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,i){return new ge(t,i,e,n)}]}function ye(){this.$get=function(){function t(t,n){function i(t){t!=h&&(p?p==t&&(p=t.n):p=t,r(t.n,t.p),r(t,h),h=t,h.n=null)}function r(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw Error("cacheId "+t+" taken");var o=0,s=l({},n,{id:t}),a={},c=n&&n.capacity||Number.MAX_VALUE,u={},h=null,p=null;return e[t]={put:function(t,e){var n=u[t]||(u[t]={key:t});i(n),m(e)||(t in a||o++,a[t]=e,o>c&&this.remove(p.key))},get:function(t){var e=u[t];return e?(i(e),a[t]):void 0},remove:function(t){var e=u[t];e&&(e==h&&(h=e.p),e==p&&(p=e.n),r(e.n,e.p),delete u[t],delete a[t],o--)},removeAll:function(){a={},o=0,u={},h=p=null},destroy:function(){u=s=a=null,delete e[t]},info:function(){return l({},s,{size:o})}}}var e={};return t.info=function(){var t={};return i(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function be(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function we(t){var r={},o="Directive",a=/^\s*directive\:\s*([\d\w\-_]+)\s+(.*)$/,c=/(([\d\w\-_]+)(?:\:([^;]+))?;?)/,u="Template must have exactly one root element. was: ",h=/^\s*(https?|ftp|mailto|file):/;this.directive=function p(e,n){return v(e)?(H(n,"directive"),r.hasOwnProperty(e)||(r[e]=[],t.factory(e+o,["$injector","$exceptionHandler",function(t,n){var o=[];return i(r[e],function(i){try{var r=t.invoke(i);E(r)?r={compile:f(r)}:!r.compile&&r.link&&(r.compile=f(r.link)),r.priority=r.priority||0,r.name=r.name||e,r.require=r.require||r.controller&&r.name,r.restrict=r.restrict||"A",o.push(r)}catch(s){n(s)}}),o}])),r[e].push(n)):i(e,s(p)),this},this.urlSanitizationWhitelist=function(t){return _(t)?(h=t,this):h},this.$get=["$injector","$interpolate","$exceptionHandler","$http","$templateCache","$parse","$controller","$rootScope","$document",function(t,s,p,m,_,y,b,S,$){function x(t,e,n){t instanceof $n||(t=$n(t)),i(t,function(e,n){3==e.nodeType&&e.nodeValue.match(/\S+/)&&(t[n]=$n(e).wrap("<span></span>").parent()[0])});var r=I(t,e,t,n);return function(e,n){H(e,"scope");for(var i=n?qn.clone.call(t):t,o=0,s=i.length;s>o;o++){var a=i[o];(1==a.nodeType||9==a.nodeType)&&i.eq(o).data("$scope",e)}return T(i,"ng-scope"),n&&n(i,e),r&&r(e,i,i),i}}function T(t,e){try{t.addClass(e)}catch(n){}}function I(t,e,i,r){function o(t,i,r,o){var s,a,c,u,h,p,d,f=[];for(h=0,p=i.length;p>h;h++)f.push(i[h]);for(d=h=0,p=l.length;p>h;d++)a=f[d],i=l[h++],s=l[h++],i?(i.scope?(c=t.$new(g(i.scope)),$n(a).data("$scope",c)):c=t,(u=i.transclude)||!o&&e?i(s,c,a,r,function(e){return function(n){var i=t.$new();return i.$$transcluded=!0,e(i,n).bind("$destroy",D(i,i.$destroy))}}(u||e)):i(s,c,a,n,o)):s&&s(t,a.childNodes,n,o)}for(var s,a,c,l=[],u=0;u<t.length;u++)a=new Y,s=A(t[u],[],a,r),a=(s=s.length?P(s,t[u],a,e,i):null)&&s.terminal||!t[u].childNodes||!t[u].childNodes.length?null:I(t[u].childNodes,s?s.transclude:e),l.push(s),l.push(a),c=c||s||a;return c?o:null}function A(t,e,n,i){var r,o=n.$attr;switch(t.nodeType){case 1:k(e,Ee(In(t).toLowerCase()),"E",i);var s,l,u;r=t.attributes;for(var h=0,p=r&&r.length;p>h;h++)s=r[h],s.specified&&(l=s.name,u=Ee(l.toLowerCase()),o[u]=l,n[u]=s=C(Pn&&"href"==l?decodeURIComponent(t.getAttribute(l,2)):s.value),le(t,u)&&(n[u]=!0),G(t,e,s,u),k(e,u,"A",i));if(t=t.className,v(t)&&""!==t)for(;r=c.exec(t);)u=Ee(r[2]),k(e,u,"C",i)&&(n[u]=C(r[3])),t=t.substr(r.index+r[0].length);break;case 3:B(e,t.nodeValue);break;case 8:try{(r=a.exec(t.nodeValue))&&(u=Ee(r[1]),k(e,u,"M",i)&&(n[u]=C(r[2])))}catch(d){}}return e.sort(R),e}function P(t,r,o,s,a){function c(t,e){t&&(t.require=d.require,D.push(t)),e&&(e.require=d.require,k.push(e))}function l(t,e){var n,r="data",o=!1;if(v(t)){for(;"^"==(n=t.charAt(0))||"?"==n;)t=t.substr(1),"^"==n&&(r="inheritedData"),o=o||"?"==n;if(n=e[r]("$"+t+"Controller"),!n&&!o)throw Error("No controller: "+t)}else w(t)&&(n=[],i(t,function(t){n.push(l(t,e))}));return n}function h(t,e,s,a,c){var u,h,d,f,m;if(u=r===s?o:M(o,new Y($n(s),o.$attr)),h=u.$$element,B){var _=/^\s*([@=&])\s*(\w*)\s*$/,g=e.$parent||e;i(B.scope,function(t,n){var i,r,o,s=t.match(_)||[],a=s[2]||n,s=s[1];switch(e.$$isolateBindings[n]=s+a,s){case"@":u.$observe(a,function(t){e[n]=t}),u.$$observers[a].$$scope=g;break;case"=":r=y(u[a]),o=r.assign||function(){throw i=e[n]=r(g),Error(Jn+u[a]+" (directive: "+B.name+")")},i=e[n]=r(g),e.$watch(function(){var t=r(g);return t!==e[n]&&(t!==i?i=e[n]=t:o(g,t=i=e[n])),t});break;case"&":r=y(u[a]),e[n]=function(t){return r(g,t)};break;default:throw Error("Invalid isolate scope definition for directive "+B.name+": "+t)}})}for(S&&i(S,function(t){var n={$scope:e,$element:h,$attrs:u,$transclude:c};m=t.controller,"@"==m&&(m=u[t.name]),h.data("$"+t.name+"Controller",b(m,n))}),a=0,d=D.length;d>a;a++)try{(f=D[a])(e,h,u,f.require&&l(f.require,h))}catch(v){p(v,L(h))}for(t&&t(e,s.childNodes,n,c),a=0,d=k.length;d>a;a++)try{(f=k[a])(e,h,u,f.require&&l(f.require,h))}catch(w){p(w,L(h))}}for(var d,f,m,_,S,$,I,P=-Number.MAX_VALUE,D=[],k=[],R=null,B=null,G=null,F=o.$$element=$n(r),K=s,H=0,q=t.length;q>H&&(d=t[H],m=n,!(P>d.priority));H++){if((I=d.scope)&&(O("isolated scope",B,d,F),g(I)&&(T(F,"ng-isolate-scope"),B=d),T(F,"ng-scope"),R=R||d),f=d.name,(I=d.controller)&&(S=S||{},O("'"+f+"' controller",S[f],d,F),S[f]=d),(I=d.transclude)&&(O("transclusion",_,d,F),_=d,P=d.priority,"element"==I?(m=$n(r),F=o.$$element=$n(e.createComment(" "+f+": "+o[f]+" ")),r=F[0],j(a,$n(m[0]),r),K=x(m,s,P)):(m=$n(X(r)).contents(),F.html(""),K=x(m,s))),I=d.template)if(O("template",G,d,F),G=d,I=V(I),d.replace){if(m=$n("<div>"+C(I)+"</div>").contents(),r=m[0],1!=m.length||1!==r.nodeType)throw Error(u+I);j(a,F,r),f={$attr:{}},t=t.concat(A(r,t.splice(H+1,t.length-(H+1)),f)),N(o,f),q=t.length}else F.html(I);if(d.templateUrl)O("template",G,d,F),G=d,h=U(t.splice(H,t.length-H),h,F,o,a,d.replace,K),q=t.length;else if(d.compile)try{$=d.compile(F,o,K),E($)?c(null,$):$&&c($.pre,$.post)}catch(z){p(z,L(F))}d.terminal&&(h.terminal=!0,P=Math.max(P,d.priority))}return h.scope=R&&R.scope,h.transclude=_&&K,h}function k(e,i,s,a){var c=!1;if(r.hasOwnProperty(i))for(var l,i=t.get(i+o),u=0,h=i.length;h>u;u++)try{l=i[u],(a===n||a>l.priority)&&-1!=l.restrict.indexOf(s)&&(e.push(l),c=!0)}catch(d){p(d)}return c}function N(t,e){var n=e.$attr,r=t.$attr,o=t.$$element;i(t,function(i,r){"$"!=r.charAt(0)&&(e[r]&&(i+=("style"===r?";":" ")+e[r]),t.$set(r,i,!0,n[r]))}),i(e,function(e,i){"class"==i?(T(o,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==i?o.attr("style",o.attr("style")+";"+e):"$"!=i.charAt(0)&&!t.hasOwnProperty(i)&&(t[i]=e,r[i]=n[i])})}function U(t,e,n,i,r,o,s){var a,c,h=[],p=n[0],d=t.shift(),f=l({},d,{controller:null,templateUrl:null,transclude:null,scope:null});return n.html(""),m.get(d.templateUrl,{cache:_}).success(function(l){var d,m,l=V(l);if(o){if(m=$n("<div>"+C(l)+"</div>").contents(),d=m[0],1!=m.length||1!==d.nodeType)throw Error(u+l);l={$attr:{}},j(r,n,d),A(d,t,l),N(i,l)}else d=p,n.html(l);for(t.unshift(f),a=P(t,d,i,s),c=I(n[0].childNodes,s);h.length;){var _=h.pop(),l=h.pop();m=h.pop();var g=h.pop(),v=d;m!==p&&(v=X(d),j(l,$n(m),v)),a(function(){e(c,g,v,r,_)},g,v,r,_)}h=null}).error(function(t,e,n,i){throw Error("Failed to load template: "+i.url)}),function(t,n,i,r,o){h?(h.push(n),h.push(i),h.push(r),h.push(o)):a(function(){e(c,n,i,r,o)},n,i,r,o)}}function R(t,e){return e.priority-t.priority}function O(t,e,n,i){if(e)throw Error("Multiple directives ["+e.name+", "+n.name+"] asking for "+t+" on: "+L(i))}function B(t,e){var n=s(e,!0);n&&t.push({priority:0,compile:f(function(t,e){var i=e.parent(),r=i.data("$binding")||[];r.push(n),T(i.data("$binding",r),"ng-binding"),t.$watch(n,function(t){e[0].nodeValue=t})})})}function G(t,e,i,r){var o=s(i,!0);o&&e.push({priority:100,compile:f(function(t,e,i){e=i.$$observers||(i.$$observers={}),"class"===r&&(o=s(i[r],!0)),i[r]=n,(e[r]||(e[r]=[])).$$inter=!0,(i.$$observers&&i.$$observers[r].$$scope||t).$watch(o,function(t){i.$set(r,t)})})})}function j(t,e,n){var i,r,o=e[0],s=o.parentNode;if(t)for(i=0,r=t.length;r>i;i++)if(t[i]==o){t[i]=n;break}s&&s.replaceChild(n,o),n[$n.expando]=o[$n.expando],e[0]=n}var Y=function(t,e){this.$$element=t,this.$attr=e||{}};Y.prototype={$normalize:Ee,$set:function(t,e,r,o){var s=le(this.$$element[0],t),a=this.$$observers;s&&(this.$$element.prop(t,e),o=s),this[t]=e,o?this.$attr[t]=o:(o=this.$attr[t])||(this.$attr[t]=o=K(t,"-")),"A"===In(this.$$element[0])&&"href"===t&&(F.setAttribute("href",e),s=F.href,s.match(h)||(this[t]=e="unsafe:"+s)),r!==!1&&(null===e||e===n?this.$$element.removeAttr(o):this.$$element.attr(o,e)),a&&i(a[t],function(t){try{t(e)}catch(n){p(n)}})},$observe:function(t,e){var n=this,i=n.$$observers||(n.$$observers={}),r=i[t]||(i[t]=[]);return r.push(e),S.$evalAsync(function(){r.$$inter||e(n[t])}),e}};var F=$[0].createElement("a"),q=s.startSymbol(),z=s.endSymbol(),V="{{"==q||"}}"==z?d:function(t){return t.replace(/\{\{/g,q).replace(/}}/g,z)};return x}]}function Ee(t){return V(t.replace(ti,""))}function Se(){var t={};this.register=function(e,n){g(e)?l(t,e):t[e]=n},this.$get=["$injector","$window",function(e,n){return function(i,r){if(v(i)){var o=i,i=t.hasOwnProperty(o)?t[o]:Ye(r.$scope,o,!0)||Ye(n,o,!0);q(i,o,!0)}return e.instantiate(i,r)}}]}function Ce(){this.$get=["$window",function(t){return $n(t.document)}]}function $e(){this.$get=["$log",function(t){return function(){t.error.apply(t,arguments)}}]}function xe(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse",function(i){function r(r,a){for(var c,l,u=0,h=[],p=r.length,d=!1,f=[];p>u;)-1!=(c=r.indexOf(t,u))&&-1!=(l=r.indexOf(e,c+o))?(u!=c&&h.push(r.substring(u,c)),h.push(u=i(d=r.substring(c+o,l))),u.exp=d,u=l+s,d=!0):(u!=p&&h.push(r.substring(u)),u=p);return(p=h.length)||(h.push(""),p=1),!a||d?(f.length=p,u=function(t){for(var e,i=0,r=p;r>i;i++)"function"==typeof(e=h[i])&&(e=e(t),null==e||e==n?e="":"string"!=typeof e&&(e=N(e))),f[i]=e;return f.join("")},u.exp=r,u.parts=h,u):void 0}var o=t.length,s=e.length;return r.startSymbol=function(){return t},r.endSymbol=function(){return e},r}]}function Te(t){for(var t=t.split("/"),e=t.length;e--;)t[e]=G(t[e]);return t.join("/")}function Ie(t,e){var n=ei.exec(t),n={protocol:n[1],host:n[3],port:u(n[5])||ri[n[1]]||null,path:n[6]||"/",search:n[8],hash:n[10]};return e&&(e.$$protocol=n.protocol,e.$$host=n.host,e.$$port=n.port),n}function Ae(t,e,n){return t+"://"+e+(n==ri[t]?"":":"+n)}function Me(t,e,n){var i=Ie(t);return decodeURIComponent(i.path)!=e||m(i.hash)||0!==i.hash.indexOf(n)?t:Ae(i.protocol,i.host,i.port)+e.substr(0,e.lastIndexOf("/"))+i.hash.substr(n.length)}function Pe(t,e,n){var i=Ie(t);if(decodeURIComponent(i.path)!=e||m(i.hash)||0!==i.hash.indexOf(n)){var r=i.search&&"?"+i.search||"",o=i.hash&&"#"+i.hash||"",s=e.substr(0,e.lastIndexOf("/")),a=i.path.substr(s.length);if(0!==i.path.indexOf(s))throw Error('Invalid url "'+t+'", missing path prefix "'+s+'" !');return Ae(i.protocol,i.host,i.port)+e+"#"+n+a+r+o}return t}function De(t,e,n){e=e||"",this.$$parse=function(t){var n=Ie(t,this);if(0!==n.path.indexOf(e))throw Error('Invalid url "'+t+'", missing path prefix "'+e+'" !');this.$$path=decodeURIComponent(n.path.substr(e.length)),this.$$search=O(n.search),this.$$hash=n.hash&&decodeURIComponent(n.hash)||"",this.$$compose()},this.$$compose=function(){var t=B(this.$$search),n=this.$$hash?"#"+G(this.$$hash):"";this.$$url=Te(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=Ae(this.$$protocol,this.$$host,this.$$port)+e+this.$$url},this.$$rewriteAppUrl=function(t){return 0==t.indexOf(n)?t:void 0},this.$$parse(t)}function ke(t,e,n){var i;this.$$parse=function(t){var n=Ie(t,this);if(n.hash&&0!==n.hash.indexOf(e))throw Error('Invalid url "'+t+'", missing hash prefix "'+e+'" !');i=n.path+(n.search?"?"+n.search:""),n=ii.exec((n.hash||"").substr(e.length)),this.$$path=n[1]?("/"==n[1].charAt(0)?"":"/")+decodeURIComponent(n[1]):"",this.$$search=O(n[3]),this.$$hash=n[5]&&decodeURIComponent(n[5])||"",this.$$compose()},this.$$compose=function(){var t=B(this.$$search),n=this.$$hash?"#"+G(this.$$hash):"";this.$$url=Te(this.$$path)+(t?"?"+t:"")+n,this.$$absUrl=Ae(this.$$protocol,this.$$host,this.$$port)+i+(this.$$url?"#"+e+this.$$url:"")},this.$$rewriteAppUrl=function(t){return 0==t.indexOf(n)?t:void 0},this.$$parse(t)}function Ne(t,e,n,i){ke.apply(this,arguments),this.$$rewriteAppUrl=function(t){return 0==t.indexOf(n)?n+i+"#"+e+t.substr(n.length):void 0}}function Ue(t){return function(){return this[t]}}function Re(t,e){return function(n){return m(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Le(){var e="",n=!1;this.hashPrefix=function(t){return _(t)?(e=t,this):e},this.html5Mode=function(t){return _(t)?(n=t,this):n},this.$get=["$rootScope","$browser","$sniffer","$rootElement",function(i,r,o,s){function a(t){i.$broadcast("$locationChangeSuccess",c.absUrl(),t)}var c,l,u,h=r.url(),p=Ie(h);n?(l=r.baseHref()||"/",u=l.substr(0,l.lastIndexOf("/")),p=Ae(p.protocol,p.host,p.port)+u+"/",c=o.history?new De(Me(h,l,e),u,p):new Ne(Pe(h,l,e),e,p,l.substr(u.length+1))):(p=Ae(p.protocol,p.host,p.port)+(p.path||"")+(p.search?"?"+p.search:"")+"#"+e+"/",c=new ke(h,e,p)),s.bind("click",function(e){if(!e.ctrlKey&&!e.metaKey&&2!=e.which){for(var n=$n(e.target);"a"!==An(n[0].nodeName);)if(n[0]===s[0]||!(n=n.parent())[0])return;var r=n.prop("href"),o=c.$$rewriteAppUrl(r);r&&!n.attr("target")&&o&&(c.$$parse(o),i.$apply(),e.preventDefault(),t.angular["ff-684208-preventDefault"]=!0)}}),c.absUrl()!=h&&r.url(c.absUrl(),!0),r.onUrlChange(function(t){c.absUrl()!=t&&(i.$broadcast("$locationChangeStart",t,c.absUrl()).defaultPrevented?r.url(c.absUrl()):(i.$evalAsync(function(){var e=c.absUrl();c.$$parse(t),a(e)}),i.$$phase||i.$digest()))});var d=0;return i.$watch(function(){var t=r.url(),e=c.$$replace;return d&&t==c.absUrl()||(d++,i.$evalAsync(function(){i.$broadcast("$locationChangeStart",c.absUrl(),t).defaultPrevented?c.$$parse(t):(r.url(c.absUrl(),e),a(t))})),c.$$replace=!1,d}),c}]}function Oe(){this.$get=["$window",function(t){function e(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function n(n){var r=t.console||{},o=r[n]||r.log||p;return o.apply?function(){var t=[];return i(arguments,function(n){t.push(e(n))}),o.apply(r,t)}:function(t,e){o(t,e)}}return{log:n("log"),warn:n("warn"),info:n("info"),error:n("error")}}]}function Be(t,e){function n(t){return-1!=t.indexOf(f)}function i(){return g+1<t.length?t.charAt(g+1):!1}function r(t){return t>="0"&&"9">=t}function o(t){return" "==t||"\r"==t||"	"==t||"\n"==t||""==t||" "==t}function s(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"==t||"$"==t}function a(t){return"-"==t||"+"==t||r(t)}function c(e,n,i){throw i=i||g,Error("Lexer Error: "+e+" at column"+(_(n)?"s "+n+"-"+g+" ["+t.substring(n,i)+"]":" "+i)+" in expression ["+t+"].")}function u(){for(var e="",n=g;g<t.length;){var o=An(t.charAt(g));if("."==o||r(o))e+=o;else{var s=i();if("e"==o&&a(s))e+=o;else if(a(o)&&s&&r(s)&&"e"==e.charAt(e.length-1))e+=o;else{if(!a(o)||s&&r(s)||"e"!=e.charAt(e.length-1))break;c("Invalid exponent")}}g++}e*=1,m.push({index:n,text:e,json:!0,fn:function(){return e}})}function h(){for(var n,i,a,c,u="",h=g;g<t.length&&(c=t.charAt(g),"."==c||s(c)||r(c));)"."==c&&(n=g),u+=c,g++;if(n)for(i=g;i<t.length;){if(c=t.charAt(i),"("==c){a=u.substr(n-h+1),u=u.substr(0,n-h),g=i;break}if(!o(c))break;i++}if(h={index:h,text:u},oi.hasOwnProperty(u))h.fn=h.json=oi[u];else{var p=Ke(u,e);h.fn=l(function(t,e){return p(t,e)},{assign:function(t,e){return je(t,u,e)}})}m.push(h),a&&(m.push({index:n,text:".",json:!1}),m.push({index:n+1,text:a,json:!1}))}function p(e){var n=g;g++;for(var i="",r=e,o=!1;g<t.length;){var s=t.charAt(g);if(r+=s,o)"u"==s?(s=t.substring(g+1,g+5),s.match(/[\da-f]{4}/i)||c("Invalid unicode escape [\\u"+s+"]"),g+=4,i+=String.fromCharCode(parseInt(s,16))):(o=si[s],i+=o?o:s),o=!1;else if("\\"==s)o=!0;else{if(s==e)return g++,m.push({index:n,text:r,string:i,json:!0,fn:function(){return i}}),void 0;i+=s}g++}c("Unterminated quote",n)}for(var d,f,m=[],g=0,v=[],y=":";g<t.length;){if(f=t.charAt(g),n("\"'"))p(f);else if(r(f)||n(".")&&r(i()))u();else if(s(f))h(),-1!="{,".indexOf(y)&&"{"==v[0]&&(d=m[m.length-1])&&(d.json=-1==d.text.indexOf("."));else if(n("(){}[].,;:"))m.push({index:g,text:f,json:-1!=":[,".indexOf(y)&&n("{[")||n("}]:,")}),n("{[")&&v.unshift(f),n("}]")&&v.shift(),g++;else{if(o(f)){g++;continue}var b=f+i(),w=oi[f],E=oi[b];E?(m.push({index:g,text:b,fn:E}),g+=2):w?(m.push({index:g,text:f,fn:w,json:-1!="[,:".indexOf(y)&&n("+-")}),g+=1):c("Unexpected next character ",g,g+1)}y=f}return m}function Ge(t,e,i,r){function o(e,n){throw Error("Syntax Error: Token '"+n.text+"' "+e+" at column "+(n.index+1)+" of the expression ["+t+"] starting at ["+t.substring(n.index)+"].")}function s(){if(0===I.length)throw Error("Unexpected end of expression: "+t);return I[0]}function a(t,e,n,i){if(I.length>0){var r=I[0],o=r.text;if(o==t||o==e||o==n||o==i||!t&&!e&&!n&&!i)return r}return!1}function c(t,n,i,r){return(t=a(t,n,i,r))?(e&&!t.json&&o("is not valid json",t),I.shift(),t):!1}function u(t){c(t)||o("is unexpected, expecting ["+t+"]",a())}function h(t,e){return function(n,i){return t(n,i,e)}}function d(t,e,n){return function(i,r){return e(i,r,t,n)}}function m(){for(var t=[];;)if(I.length>0&&!a("}",")",";","]")&&t.push(k()),!c(";"))return 1==t.length?t[0]:function(e,n){for(var i,r=0;r<t.length;r++){var o=t[r];o&&(i=o(e,n))}return i}}function _(){for(var t=c(),e=i(t.text),n=[];;){if(!(t=c(":"))){var r=function(t,i,r){for(var r=[r],o=0;o<n.length;o++)r.push(n[o](t,i));return e.apply(t,r)};return function(){return r
}}n.push(A())}}function g(){for(var t,e=v();;){if(!(t=c("||")))return e;e=d(e,t.fn,v())}}function v(){var t,e=y();return(t=c("&&"))&&(e=d(e,t.fn,v())),e}function y(){var t,e=b();return(t=c("==","!="))&&(e=d(e,t.fn,y())),e}function b(){var t;t=w();for(var e;e=c("+","-");)t=d(t,e.fn,w());return(e=c("<",">","<=",">="))&&(t=d(t,e.fn,b())),t}function w(){for(var t,e=E();t=c("*","/","%");)e=d(e,t.fn,E());return e}function E(){var t;return c("+")?S():(t=c("-"))?d(T,t.fn,E()):(t=c("!"))?h(t.fn,E()):S()}function S(){var t;if(c("("))t=k(),u(")");else if(c("["))t=C();else if(c("{"))t=$();else{var e=c();(t=e.fn)||o("not a primary expression",e)}for(var n;e=c("(","[",".");)"("===e.text?(t=M(t,n),n=null):"["===e.text?(n=t,t=D(t)):"."===e.text?(n=t,t=P(t)):o("IMPOSSIBLE");return t}function C(){var t=[];if("]"!=s().text)do t.push(A());while(c(","));return u("]"),function(e,n){for(var i=[],r=0;r<t.length;r++)i.push(t[r](e,n));return i}}function $(){var t=[];if("}"!=s().text)do{var e=c(),e=e.string||e.text;u(":");var n=A();t.push({key:e,value:n})}while(c(","));return u("}"),function(e,n){for(var i={},r=0;r<t.length;r++){var o=t[r];i[o.key]=o.value(e,n)}return i}}var x,T=f(0),I=Be(t,r),A=function(){var e,n,i=g();return(n=c("="))?(i.assign||o("implies assignment but ["+t.substring(0,n.index)+"] can not be assigned to",n),e=g(),function(t,n){return i.assign(t,e(t,n),n)}):i},M=function(t,e){var n=[];if(")"!=s().text)do n.push(A());while(c(","));return u(")"),function(i,r){for(var o=[],s=e?e(i,r):i,a=0;a<n.length;a++)o.push(n[a](i,r));return a=t(i,r,s)||p,a.apply?a.apply(s,o):a(o[0],o[1],o[2],o[3],o[4])}},P=function(t){var e=c().text,n=Ke(e,r);return l(function(e,i,r){return n(r||t(e,i),i)},{assign:function(n,i,r){return je(t(n,r),e,i)}})},D=function(t){var e=A();return u("]"),l(function(i,r){var o,s=t(i,r),a=e(i,r);return s?((s=s[a])&&s.then&&(o=s,"$$v"in s||(o.$$v=n,o.then(function(t){o.$$v=t})),s=s.$$v),s):n},{assign:function(n,i,r){return t(n,r)[e(n,r)]=i}})},k=function(){for(var t,e=A();;){if(!(t=c("|")))return e;e=d(e,t.fn,_())}};return e?(A=g,M=P=D=k=function(){o("is not valid json",{text:t,index:0})},x=S()):x=m(),0!==I.length&&o("is an unexpected token",I[0]),x}function je(t,e,n){for(var e=e.split("."),i=0;e.length>1;i++){var r=e.shift(),o=t[r];o||(o={},t[r]=o),t=o}return t[e.shift()]=n}function Ye(t,e,n){if(!e)return t;for(var i,e=e.split("."),r=t,o=e.length,s=0;o>s;s++)i=e[s],t&&(t=(r=t)[i]);return!n&&E(t)?D(r,t):t}function Fe(t,e,i,r,o){return function(s,a){var c,l=a&&a.hasOwnProperty(t)?a:s;return null===l||l===n?l:((l=l[t])&&l.then&&("$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),e&&null!==l&&l!==n?((l=l[e])&&l.then&&("$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),i&&null!==l&&l!==n?((l=l[i])&&l.then&&("$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),r&&null!==l&&l!==n?((l=l[r])&&l.then&&("$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),o&&null!==l&&l!==n?((l=l[o])&&l.then&&("$$v"in l||(c=l,c.$$v=n,c.then(function(t){c.$$v=t})),l=l.$$v),l):l):l):l):l)}}function Ke(t,e){if(ai.hasOwnProperty(t))return ai[t];var r,o=t.split("."),s=o.length;if(e)r=6>s?Fe(o[0],o[1],o[2],o[3],o[4]):function(t,e){var i,r=0;do i=Fe(o[r++],o[r++],o[r++],o[r++],o[r++])(t,e),e=n,t=i;while(s>r);return i};else{var a="var l, fn, p;\n";i(o,function(t,e){a+="if(s === null || s === undefined) return s;\nl=s;\ns="+(e?"s":'((k&&k.hasOwnProperty("'+t+'"))?k:s)')+'["'+t+'"];\nif (s && s.then) {\n if (!("$$v" in s)) {\n p=s;\n p.$$v = undefined;\n p.then(function(v) {p.$$v=v;});\n}\n s=s.$$v\n}\n'}),a+="return s;",r=Function("s","k",a),r.toString=function(){return a}}return ai[t]=r}function He(){var t={};this.$get=["$filter","$sniffer",function(e,n){return function(i){switch(typeof i){case"string":return t.hasOwnProperty(i)?t[i]:t[i]=Ge(i,!1,e,n.csp);case"function":return i;default:return p}}}]}function qe(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return ze(function(e){t.$evalAsync(e)},e)}]}function ze(t,e){function r(t){return t}function o(t){return c(t)}var s=function(){var i,l,u=[];return l={resolve:function(e){if(u){var r=u;u=n,i=a(e),r.length&&t(function(){for(var t,e=0,n=r.length;n>e;e++)t=r[e],i.then(t[0],t[1])})}},reject:function(t){l.resolve(c(t))},promise:{then:function(t,n){var a=s(),c=function(n){try{a.resolve((t||r)(n))}catch(i){e(i),a.reject(i)}},l=function(t){try{a.resolve((n||o)(t))}catch(i){e(i),a.reject(i)}};return u?u.push([c,l]):i.then(c,l),a.promise}}}},a=function(e){return e&&e.then?e:{then:function(n){var i=s();return t(function(){i.resolve(n(e))}),i.promise}}},c=function(e){return{then:function(n,i){var r=s();return t(function(){r.resolve((i||o)(e))}),r.promise}}};return{defer:s,reject:c,when:function(n,i,l){var u,h=s(),p=function(t){try{return(i||r)(t)}catch(n){return e(n),c(n)}},d=function(t){try{return(l||o)(t)}catch(n){return e(n),c(n)}};return t(function(){a(n).then(function(t){u||(u=!0,h.resolve(a(t).then(p,d)))},function(t){u||(u=!0,h.resolve(d(t)))})}),h.promise},all:function(t){var e=s(),n=t.length,r=[];return n?i(t,function(t,i){a(t).then(function(t){i in r||(r[i]=t,--n||e.resolve(r))},function(t){i in r||e.reject(t)})}):e.resolve(r),e.promise}}}function Ve(){var t={};this.when=function(e,n){if(t[e]=l({reloadOnSearch:!0},n),e){var i="/"==e[e.length-1]?e.substr(0,e.length-1):e+"/";t[i]={redirectTo:e}}return this},this.otherwise=function(t){return this.when(null,t),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache",function(e,n,r,o,s,a,c){function u(t,e){for(var n,e="^"+e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"$",r="",o=[],s={},a=/:(\w+)/g,c=0;null!==(n=a.exec(e));)r+=e.slice(c,n.index),r+="([^\\/]*)",o.push(n[1]),c=a.lastIndex;r+=e.substr(c);var l=t.match(RegExp(r));return l&&i(o,function(t,e){s[t]=l[e+1]}),l?s:null}function p(){var t=d(),l=g.current;t&&l&&t.$$route===l.$$route&&P(t.pathParams,l.pathParams)&&!t.reloadOnSearch&&!m?(l.params=t.params,A(l.params,r),e.$broadcast("$routeUpdate",l)):(t||l)&&(m=!1,e.$broadcast("$routeChangeStart",t,l),(g.current=t)&&t.redirectTo&&(v(t.redirectTo)?n.path(f(t.redirectTo,t.params)).search(t.params).replace():n.url(t.redirectTo(t.pathParams,n.path(),n.search())).replace()),o.when(t).then(function(){if(t){var e,n=[],r=[];return i(t.resolve||{},function(t,e){n.push(e),r.push(v(t)?s.get(t):s.invoke(t))}),_(e=t.template)||_(e=t.templateUrl)&&(e=a.get(e,{cache:c}).then(function(t){return t.data})),_(e)&&(n.push("$template"),r.push(e)),o.all(r).then(function(t){var e={};return i(t,function(t,i){e[n[i]]=t}),e})}}).then(function(n){t==g.current&&(t&&(t.locals=n,A(t.params,r)),e.$broadcast("$routeChangeSuccess",t,l))},function(n){t==g.current&&e.$broadcast("$routeChangeError",t,l,n)}))}function d(){var e,r;return i(t,function(t,i){!r&&(e=u(n.path(),i))&&(r=h(t,{params:l({},n.search(),e),pathParams:e}),r.$$route=t)}),r||t[null]&&h(t[null],{params:{},pathParams:{}})}function f(t,e){var n=[];return i((t||"").split(":"),function(t,i){if(0==i)n.push(t);else{var r=t.match(/(\w+)(.*)/),o=r[1];n.push(e[o]),n.push(r[2]||""),delete e[o]}}),n.join("")}var m=!1,g={routes:t,reload:function(){m=!0,e.$evalAsync(p)}};return e.$on("$locationChangeSuccess",p),g}]}function We(){this.$get=f({})}function Qe(){var t=10;this.digestTtl=function(e){return arguments.length&&(t=e),t},this.$get=["$injector","$exceptionHandler","$parse",function(e,n,i){function r(){this.$id=a(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this["this"]=this.$root=this,this.$$destroyed=!1,this.$$asyncQueue=[],this.$$listeners={},this.$$isolateBindings={}}function o(t){if(l.$$phase)throw Error(l.$$phase+" already in progress");l.$$phase=t}function s(t,e){var n=i(t);return q(n,e),n}function c(){}r.prototype={$new:function(t){if(E(t))throw Error("API-CHANGE: Use $controller to instantiate controllers.");return t?(t=new r,t.$root=this.$root):(t=function(){},t.prototype=this,t=new t,t.$id=a()),t["this"]=t,t.$$listeners={},t.$parent=this,t.$$asyncQueue=[],t.$$watchers=t.$$nextSibling=t.$$childHead=t.$$childTail=null,t.$$prevSibling=this.$$childTail,this.$$childHead?this.$$childTail=this.$$childTail.$$nextSibling=t:this.$$childHead=this.$$childTail=t,t},$watch:function(t,e,n){var i=s(t,"watch"),r=this.$$watchers,o={fn:e,last:c,get:i,exp:t,eq:!!n};if(!E(e)){var a=s(e||p,"listener");o.fn=function(t,e,n){a(n)}}return r||(r=this.$$watchers=[]),r.unshift(o),function(){I(r,o)}},$digest:function(){var e,i,r,s,a,u,h,p,d,f,m=t,_=[];o("$digest");do{h=!1,p=this;do{for(a=p.$$asyncQueue;a.length;)try{p.$eval(a.shift())}catch(g){n(g)}if(s=p.$$watchers)for(u=s.length;u--;)try{e=s[u],(i=e.get(p))===(r=e.last)||(e.eq?P(i,r):"number"==typeof i&&"number"==typeof r&&isNaN(i)&&isNaN(r))||(h=!0,e.last=e.eq?A(i):i,e.fn(i,r===c?i:r,p),5>m&&(d=4-m,_[d]||(_[d]=[]),f=E(e.exp)?"fn: "+(e.exp.name||e.exp.toString()):e.exp,f+="; newVal: "+N(i)+"; oldVal: "+N(r),_[d].push(f)))}catch(v){n(v)}if(!(s=p.$$childHead||p!==this&&p.$$nextSibling))for(;p!==this&&!(s=p.$$nextSibling);)p=p.$parent}while(p=s);if(h&&!m--)throw l.$$phase=null,Error(t+" $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: "+N(_))}while(h||a.length);l.$$phase=null},$destroy:function(){if(l!=this&&!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null}},$eval:function(t,e){return i(t)(this,e)},$evalAsync:function(t){this.$$asyncQueue.push(t)},$apply:function(t){try{return o("$apply"),this.$eval(t)}catch(e){n(e)}finally{l.$$phase=null;try{l.$digest()}catch(i){throw n(i),i}}},$on:function(t,e){var n=this.$$listeners[t];return n||(this.$$listeners[t]=n=[]),n.push(e),function(){n[T(n,e)]=null}},$emit:function(t){var e,i,r,o=[],s=this,a=!1,c={name:t,targetScope:s,stopPropagation:function(){a=!0},preventDefault:function(){c.defaultPrevented=!0},defaultPrevented:!1},l=[c].concat(Dn.call(arguments,1));do{for(e=s.$$listeners[t]||o,c.currentScope=s,i=0,r=e.length;r>i;i++)if(e[i])try{if(e[i].apply(null,l),a)return c}catch(u){n(u)}else e.splice(i,1),i--,r--;s=s.$parent}while(s);return c},$broadcast:function(t){var e,i,r=this,o=this,s={name:t,targetScope:this,preventDefault:function(){s.defaultPrevented=!0},defaultPrevented:!1},a=[s].concat(Dn.call(arguments,1));do{for(r=o,s.currentScope=r,o=r.$$listeners[t]||[],e=0,i=o.length;i>e;e++)if(o[e])try{o[e].apply(null,a)}catch(c){n(c)}else o.splice(e,1),e--,i--;if(!(o=r.$$childHead||r!==this&&r.$$nextSibling))for(;r!==this&&!(o=r.$$nextSibling);)r=r.$parent}while(r=o);return s}};var l=new r;return l}]}function Xe(){this.$get=["$window",function(t){var e={},n=u((/android (\d+)/.exec(An(t.navigator.userAgent))||[])[1]);return{history:!(!t.history||!t.history.pushState||4>n),hashchange:"onhashchange"in t&&(!t.document.documentMode||t.document.documentMode>7),hasEvent:function(n){if("input"==n&&9==Pn)return!1;if(m(e[n])){var i=t.document.createElement("div");e[n]="on"+n in i}return e[n]},csp:!1}}]}function Ze(){this.$get=f(t)}function Je(t){var e,n,r,o={};return t?(i(t.split("\n"),function(t){r=t.indexOf(":"),e=An(C(t.substr(0,r))),n=C(t.substr(r+1)),e&&(o[e]?o[e]+=", "+n:o[e]=n)}),o):o}function tn(t){var e=g(t)?t:n;return function(n){return e||(e=Je(t)),n?e[An(n)]||null:e}}function en(t,e,n){return E(n)?n(t,e):(i(n,function(n){t=n(t,e)}),t)}function nn(){var t=/^\s*(\[|\{[^\{])/,e=/[\}\]]\s*$/,r=/^\)\]\}',?\n/,s=this.defaults={transformResponse:[function(n){return v(n)&&(n=n.replace(r,""),t.test(n)&&e.test(n)&&(n=U(n,!0))),n}],transformRequest:[function(t){return g(t)&&"[object File]"!==Nn.apply(t)?N(t):t}],headers:{common:{Accept:"application/json, text/plain, */*","X-Requested-With":"XMLHttpRequest"},post:{"Content-Type":"application/json;charset=utf-8"},put:{"Content-Type":"application/json;charset=utf-8"}}},a=this.responseInterceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function(t,e,r,c,u,h){function p(t){function n(t){var e=l({},t,{data:en(t.data,t.headers,a)});return 200<=t.status&&t.status<300?e:u.reject(e)}t.method=Mn(t.method);var r,o=t.transformRequest||s.transformRequest,a=t.transformResponse||s.transformResponse,c=s.headers,c=l({"X-XSRF-TOKEN":e.cookies()["XSRF-TOKEN"]},c.common,c[An(t.method)],t.headers),o=en(t.data,tn(c),o);return m(t.data)&&delete c["Content-Type"],r=d(t,o,c),r=r.then(n,n),i(y,function(t){r=t(r)}),r.success=function(e){return r.then(function(n){e(n.data,n.status,n.headers,t)}),r},r.error=function(e){return r.then(null,function(n){e(n.data,n.status,n.headers,t)}),r},r}function d(e,n,i){function r(t,e,n){a&&(t>=200&&300>t?a.put(m,[t,e,Je(n)]):a.remove(m)),o(e,t,n),c.$apply()}function o(t,n,i){n=Math.max(n,0),(n>=200&&300>n?h.resolve:h.reject)({data:t,status:n,headers:tn(i),config:e})}function s(){var t=T(p.pendingRequests,e);-1!==t&&p.pendingRequests.splice(t,1)}var a,l,h=u.defer(),d=h.promise,m=f(e.url,e.params);if(p.pendingRequests.push(e),d.then(s,s),e.cache&&"GET"==e.method&&(a=g(e.cache)?e.cache:_),a)if(l=a.get(m)){if(l.then)return l.then(s,s),l;w(l)?o(l[1],l[0],A(l[2])):o(l,200,{})}else a.put(m,d);return l||t(e.method,m,n,r,i,e.timeout,e.withCredentials),d}function f(t,e){if(!e)return t;var i=[];return o(e,function(t,e){null==t||t==n||(g(t)&&(t=N(t)),i.push(encodeURIComponent(e)+"="+encodeURIComponent(t)))}),t+(-1==t.indexOf("?")?"?":"&")+i.join("&")}var _=r("$http"),y=[];return i(a,function(t){y.push(v(t)?h.get(t):h.invoke(t))}),p.pendingRequests=[],function(){i(arguments,function(t){p[t]=function(e,n){return p(l(n||{},{method:t,url:e}))}})}("get","delete","head","jsonp"),function(){i(arguments,function(t){p[t]=function(e,n,i){return p(l(i||{},{method:t,url:e,data:n}))}})}("post","put"),p.defaults=s,p}]}function rn(){this.$get=["$browser","$window","$document",function(t,e,n){return on(t,ci,t.defer,e.angular.callbacks,n[0],e.location.protocol.replace(":",""))}]}function on(t,e,n,r,o,s){function a(t,e){var n=o.createElement("script"),i=function(){o.body.removeChild(n),e&&e()};n.type="text/javascript",n.src=t,Pn?n.onreadystatechange=function(){/loaded|complete/.test(n.readyState)&&i()}:n.onload=n.onerror=i,o.body.appendChild(n)}return function(o,c,l,u,h,d,f){function m(e,n,i,r){n="file"==(c.match(ei)||["",s])[1]?i?200:404:n,e(1223==n?204:n,i,r),t.$$completeOutstandingRequest(p)}if(t.$$incOutstandingRequestCount(),c=c||t.url(),"jsonp"==An(o)){var _="_"+(r.counter++).toString(36);r[_]=function(t){r[_].data=t},a(c.replace("JSON_CALLBACK","angular.callbacks."+_),function(){r[_].data?m(u,200,r[_].data):m(u,-2),delete r[_]})}else{var g=new e;g.open(o,c,!0),i(h,function(t,e){t&&g.setRequestHeader(e,t)});var v;g.onreadystatechange=function(){if(4==g.readyState){var t=g.getAllResponseHeaders(),e=["Cache-Control","Content-Language","Content-Type","Expires","Last-Modified","Pragma"];t||(t="",i(e,function(e){var n=g.getResponseHeader(e);n&&(t+=e+": "+n+"\n")})),m(u,v||g.status,g.responseText,t)}},f&&(g.withCredentials=!0),g.send(l||""),d>0&&n(function(){v=-1,g.abort()},d)}}}function sn(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(t){return 1===t?"one":"other"}}}}function an(){this.$get=["$rootScope","$browser","$q","$exceptionHandler",function(t,e,n,i){function r(r,s,a){var c=n.defer(),l=c.promise,u=_(a)&&!a,s=e.defer(function(){try{c.resolve(r())}catch(e){c.reject(e),i(e)}u||t.$apply()},s),a=function(){delete o[l.$$timeoutId]};return l.$$timeoutId=s,o[s]=c,l.then(a,a),l}var o={};return r.cancel=function(t){return t&&t.$$timeoutId in o?(o[t.$$timeoutId].reject("canceled"),e.defer.cancel(t.$$timeoutId)):!1},r}]}function cn(t){function e(e,i){return t.factory(e+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",un),e("date",_n),e("filter",ln),e("json",gn),e("limitTo",vn),e("lowercase",di),e("number",hn),e("orderBy",yn),e("uppercase",fi)}function ln(){return function(t,e){if(!w(t))return t;var n=[];n.check=function(t){for(var e=0;e<n.length;e++)if(!n[e](t))return!1;return!0};var i=function(t,e){if("!"===e.charAt(0))return!i(t,e.substr(1));switch(typeof t){case"boolean":case"number":case"string":return(""+t).toLowerCase().indexOf(e)>-1;case"object":for(var n in t)if("$"!==n.charAt(0)&&i(t[n],e))return!0;return!1;case"array":for(n=0;n<t.length;n++)if(i(t[n],e))return!0;return!1;default:return!1}};switch(typeof e){case"boolean":case"number":case"string":e={$:e};case"object":for(var r in e)"$"==r?function(){var t=(""+e[r]).toLowerCase();t&&n.push(function(e){return i(e,t)})}():function(){var t=r,o=(""+e[r]).toLowerCase();o&&n.push(function(e){return i(Ye(e,t),o)})}();break;case"function":n.push(e);break;default:return t}for(var o=[],s=0;s<t.length;s++){var a=t[s];n.check(a)&&o.push(a)}return o}}function un(t){var e=t.NUMBER_FORMATS;return function(t,n){return m(n)&&(n=e.CURRENCY_SYM),pn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,2).replace(/\u00A4/g,n)}}function hn(t){var e=t.NUMBER_FORMATS;return function(t,n){return pn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function pn(t,e,n,i,r){if(isNaN(t)||!isFinite(t))return"";var o=0>t,t=Math.abs(t),s=t+"",a="",c=[],l=!1;if(-1!==s.indexOf("e")){var u=s.match(/([\d\.]+)e(-?)(\d+)/);u&&"-"==u[2]&&u[3]>r+1?s="0":(a=s,l=!0)}if(!l){s=(s.split(li)[1]||"").length,m(r)&&(r=Math.min(Math.max(e.minFrac,s),e.maxFrac));var s=Math.pow(10,r),t=Math.round(t*s)/s,t=(""+t).split(li),s=t[0],t=t[1]||"",l=0,u=e.lgSize,h=e.gSize;if(s.length>=u+h)for(var l=s.length-u,p=0;l>p;p++)(l-p)%h===0&&0!==p&&(a+=n),a+=s.charAt(p);for(p=l;p<s.length;p++)(s.length-p)%u===0&&0!==p&&(a+=n),a+=s.charAt(p);for(;t.length<r;)t+="0";r&&"0"!==r&&(a+=i+t.substr(0,r))}return c.push(o?e.negPre:e.posPre),c.push(a),c.push(o?e.negSuf:e.posSuf),c.join("")}function dn(t,e,n){var i="";for(0>t&&(i="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),i+t}function fn(t,e,n,i){return n=n||0,function(r){return r=r["get"+t](),(n>0||r>-n)&&(r+=n),0===r&&-12==n&&(r=12),dn(r,e,i)}}function mn(t,e){return function(n,i){var r=n["get"+t](),o=Mn(e?"SHORT"+t:t);return i[o][r]}}function _n(t){function e(t){var e;if(e=t.match(n)){var t=new Date(0),i=0,r=0;e[9]&&(i=u(e[9]+e[10]),r=u(e[9]+e[11])),t.setUTCFullYear(u(e[1]),u(e[2])-1,u(e[3])),t.setUTCHours(u(e[4]||0)-i,u(e[5]||0)-r,u(e[6]||0),u(e[7]||0))}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r){var o,s,a="",c=[],r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r;if(v(n)&&(n=pi.test(n)?u(n):e(n)),y(n)&&(n=new Date(n)),!b(n))return n;for(;r;)(s=hi.exec(r))?(c=c.concat(Dn.call(s,1)),r=c.pop()):(c.push(r),r=null);return i(c,function(e){o=ui[e],a+=o?o(n,t.DATETIME_FORMATS):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),a}}function gn(){return function(t){return N(t,!0)}}function vn(){return function(t,e){if(!(t instanceof Array))return t;var n,i,e=u(e),r=[];if(!(t&&t instanceof Array))return r;for(e>t.length?e=t.length:e<-t.length&&(e=-t.length),e>0?(n=0,i=e):(n=t.length+e,i=t.length);i>n;n++)r.push(t[n]);return r}}function yn(t){return function(e,n,i){function r(t,e){return R(e)?function(e,n){return t(n,e)}:t}if(!w(e))return e;if(!n)return e;for(var n=w(n)?n:[n],n=x(n,function(e){var n=!1,i=e||d;return v(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),i=t(e)),r(function(t,e){var n;n=i(t);var r=i(e),o=typeof n,s=typeof r;return o==s?("string"==o&&(n=n.toLowerCase()),"string"==o&&(r=r.toLowerCase()),n=n===r?0:r>n?-1:1):n=s>o?-1:1,n},n)}),o=[],s=0;s<e.length;s++)o.push(e[s]);return o.sort(r(function(t,e){for(var i=0;i<n.length;i++){var r=n[i](t,e);if(0!==r)return r}return 0},i))}}function bn(t){return E(t)&&(t={link:t}),t.restrict=t.restrict||"AC",f(t)}function wn(t,e){function n(e,n){n=n?"-"+K(n,"-"):"",t.removeClass((e?xi:$i)+n).addClass((e?$i:xi)+n)}var r=this,o=t.parent().controller("form")||gi,s=0,a=r.$error={};r.$name=e.name,r.$dirty=!1,r.$pristine=!0,r.$valid=!0,r.$invalid=!1,o.$addControl(r),t.addClass(Ti),n(!0),r.$addControl=function(t){t.$name&&!r.hasOwnProperty(t.$name)&&(r[t.$name]=t)},r.$removeControl=function(t){t.$name&&r[t.$name]===t&&delete r[t.$name],i(a,function(e,n){r.$setValidity(n,!0,t)})},r.$setValidity=function(t,e,i){var c=a[t];if(e)c&&(I(c,i),!c.length)&&(s--,s||(n(e),r.$valid=!0,r.$invalid=!1),a[t]=!1,n(!0,t),o.$setValidity(t,!0,r));else{if(s||n(e),c){if(-1!=T(c,i))return}else a[t]=c=[],s++,n(!1,t),o.$setValidity(t,!1,r);c.push(i),r.$valid=!1,r.$invalid=!0}},r.$setDirty=function(){t.removeClass(Ti).addClass(Ii),r.$dirty=!0,r.$pristine=!1,o.$setDirty()}}function En(t){return m(t)||""===t||null===t||t!==t}function Sn(t,e,i,r,o,s){var a=function(){var n=C(e.val());r.$viewValue!==n&&t.$apply(function(){r.$setViewValue(n)})};if(o.hasEvent("input"))e.bind("input",a);else{var c,l=function(){c||(c=s.defer(function(){a(),c=null}))};e.bind("keydown",function(t){t=t.keyCode,91===t||t>15&&19>t||t>=37&&40>=t||l()}),e.bind("change",a),o.hasEvent("paste")&&e.bind("paste cut",l)}r.$render=function(){e.val(En(r.$viewValue)?"":r.$viewValue)};var h=i.ngPattern,p=function(t,e){return En(e)||t.test(e)?(r.$setValidity("pattern",!0),e):(r.$setValidity("pattern",!1),n)};if(h&&(h.match(/^\/(.*)\/$/)?(h=RegExp(h.substr(1,h.length-2)),o=function(t){return p(h,t)}):o=function(e){var n=t.$eval(h);if(!n||!n.test)throw Error("Expected "+h+" to be a RegExp but was "+n);return p(n,e)},r.$formatters.push(o),r.$parsers.push(o)),i.ngMinlength){var d=u(i.ngMinlength),o=function(t){return!En(t)&&t.length<d?(r.$setValidity("minlength",!1),n):(r.$setValidity("minlength",!0),t)};r.$parsers.push(o),r.$formatters.push(o)}if(i.ngMaxlength){var f=u(i.ngMaxlength),i=function(t){return!En(t)&&t.length>f?(r.$setValidity("maxlength",!1),n):(r.$setValidity("maxlength",!0),t)};r.$parsers.push(i),r.$formatters.push(i)}}function Cn(t,e){return t="ngClass"+t,bn(function(i,r,o){function s(t){(e===!0||i.$index%2===e)&&(l&&!P(t,l)&&a(l),c(t)),l=A(t)}function a(t){g(t)&&!w(t)&&(t=x(t,function(t,e){return t?e:void 0})),r.removeClass(w(t)?t.join(" "):t)}function c(t){g(t)&&!w(t)&&(t=x(t,function(t,e){return t?e:void 0})),t&&r.addClass(w(t)?t.join(" "):t)}var l=n;i.$watch(o[t],s,!0),o.$observe("class",function(){var e=i.$eval(o[t]);s(e,e)}),"ngClass"!==t&&i.$watch("$index",function(n,r){var s=1&n;s!==r&1&&(s===e?c(i.$eval(o[t])):a(i.$eval(o[t])))})})}var $n,xn,Tn,In,An=function(t){return v(t)?t.toLowerCase():t},Mn=function(t){return v(t)?t.toUpperCase():t},Pn=u((/msie (\d+)/.exec(An(navigator.userAgent))||[])[1]),Dn=[].slice,kn=[].push,Nn=Object.prototype.toString,Un=t.angular||(t.angular={}),Rn=["0","0","0"];p.$inject=[],d.$inject=[],In=9>Pn?function(t){return t=t.nodeName?t:t[0],t.scopeName&&"HTML"!=t.scopeName?Mn(t.scopeName+":"+t.nodeName):t.nodeName}:function(t){return t.nodeName?t.nodeName:t[0].nodeName};var Ln=/[A-Z]/g,On={full:"1.0.7",major:1,minor:0,dot:7,codeName:"monochromatic-rainbow"},Bn=Q.cache={},Gn=Q.expando="ng-"+(new Date).getTime(),jn=1,Yn=t.document.addEventListener?function(t,e,n){t.addEventListener(e,n,!1)}:function(t,e,n){t.attachEvent("on"+e,n)},Fn=t.document.removeEventListener?function(t,e,n){t.removeEventListener(e,n,!1)}:function(t,e,n){t.detachEvent("on"+e,n)},Kn=/([\:\-\_]+(.))/g,Hn=/^moz([A-Z])/,qn=Q.prototype={ready:function(e){function n(){i||(i=!0,e())}var i=!1;this.bind("DOMContentLoaded",n),Q(t).bind("load",n)},toString:function(){var t=[];return i(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return t>=0?$n(this[t]):$n(this[this.length+t])},length:0,push:kn,sort:[].sort,splice:[].splice},zn={};i("multiple,selected,checked,disabled,readOnly,required".split(","),function(t){zn[An(t)]=t});var Vn={};i("input,select,option,textarea,button,form".split(","),function(t){Vn[Mn(t)]=!0}),i({data:ne,inheritedData:ce,scope:function(t){return ce(t,"$scope")},controller:ae,injector:function(t){return ce(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:ie,css:function(t,e,i){if(e=V(e),!_(i)){var r;return 8>=Pn&&(r=t.currentStyle&&t.currentStyle[e],""===r&&(r="auto")),r=r||t.style[e],8>=Pn&&(r=""===r?n:r),r}t.style[e]=i},attr:function(t,e,i){var r=An(e);if(zn[r]){if(!_(i))return t[e]||(t.attributes.getNamedItem(e)||p).specified?r:n;i?(t[e]=!0,t.setAttribute(e,r)):(t[e]=!1,t.removeAttribute(r))}else if(_(i))t.setAttribute(e,i);else if(t.getAttribute)return t=t.getAttribute(e,2),null===t?n:t},prop:function(t,e,n){return _(n)?(t[e]=n,void 0):t[e]},text:l(9>Pn?function(t,e){if(1==t.nodeType){if(m(e))return t.innerText;t.innerText=e}else{if(m(e))return t.nodeValue;t.nodeValue=e}}:function(t,e){return m(e)?t.textContent:(t.textContent=e,void 0)},{$dv:""}),val:function(t,e){return m(e)?t.value:(t.value=e,void 0)},html:function(t,e){if(m(e))return t.innerHTML;for(var n=0,i=t.childNodes;n<i.length;n++)Z(i[n]);t.innerHTML=e}},function(t,e){Q.prototype[e]=function(e,i){var r,o;if((2==t.length&&t!==ie&&t!==ae?e:i)!==n){for(r=0;r<this.length;r++)t(this[r],e,i);return this}if(g(e)){for(r=0;r<this.length;r++)if(t===ne)t(this[r],e);else for(o in e)t(this[r],o,e[o]);return this}return this.length?t(this[0],e,i):t.$dv}}),i({removeData:te,dealoc:Z,bind:function hr(t,n,r){var o=ee(t,"events"),s=ee(t,"handle");o||ee(t,"events",o={}),s||ee(t,"handle",s=ue(t,o)),i(n.split(" "),function(n){var i=o[n];if(!i){if("mouseenter"==n||"mouseleave"==n){var a=e.body.contains||e.body.compareDocumentPosition?function(t,e){var n=9===t.nodeType?t.documentElement:t,i=e&&e.parentNode;return t===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):t.compareDocumentPosition&&16&t.compareDocumentPosition(i)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1};o[n]=[],hr(t,{mouseleave:"mouseout",mouseenter:"mouseover"}[n],function(t){var e=t.relatedTarget;(!e||e!==this&&!a(this,e))&&s(t,n)})}else Yn(t,n,s),o[n]=[];i=o[n]}i.push(r)})},unbind:J,replaceWith:function(t,e){var n,r=t.parentNode;Z(t),i(new Q(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return i(t.childNodes,function(t){1===t.nodeType&&e.push(t)}),e},contents:function(t){return t.childNodes||[]},append:function(t,e){i(new Q(e),function(e){1===t.nodeType&&t.appendChild(e)})},prepend:function(t,e){if(1===t.nodeType){var n=t.firstChild;i(new Q(e),function(e){n?t.insertBefore(e,n):(t.appendChild(e),n=e)})}},wrap:function(t,e){var e=$n(e)[0],n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:function(t){Z(t);var e=t.parentNode;e&&e.removeChild(t)},after:function(t,e){var n=t,r=t.parentNode;i(new Q(e),function(t){r.insertBefore(t,n.nextSibling),n=t})},addClass:oe,removeClass:re,toggleClass:function(t,e,n){m(n)&&(n=!ie(t,e)),(n?oe:re)(t,e)},parent:function(t){return(t=t.parentNode)&&11!==t.nodeType?t:null},next:function(t){if(t.nextElementSibling)return t.nextElementSibling;for(t=t.nextSibling;null!=t&&1!==t.nodeType;)t=t.nextSibling;return t},find:function(t,e){return t.getElementsByTagName(e)},clone:X,triggerHandler:function(t,e){var n=(ee(t,"events")||{})[e];i(n,function(e){e.call(t,null)})}},function(t,e){Q.prototype[e]=function(e,i){for(var r,o=0;o<this.length;o++)r==n?(r=t(this[o],e,i),r!==n&&(r=$n(r))):se(r,t(this[o],e,i));return r==n?this:r}}),pe.prototype={put:function(t,e){this[he(t)]=e},get:function(t){return this[he(t)]},remove:function(t){var e=this[t=he(t)];return delete this[t],e}},de.prototype={push:function(t,e){var n=this[t=he(t)];n?n.push(e):this[t]=[e]},shift:function(t){var e=this[t=he(t)];return e?1==e.length?(delete this[t],e[0]):e.shift():void 0},peek:function(t){return(t=this[he(t)])?t[0]:void 0}};var Wn=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,Qn=/,/,Xn=/^\s*(_?)(\S+?)\1\s*$/,Zn=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Jn="Non-assignable model expression: ";we.$inject=["$provide"];var ti=/^(x[\:\-_]|data[\:\-_])/i,ei=/^([^:]+):\/\/(\w+:{0,1}\w*@)?(\{?[\w\.-]*\}?)(:([0-9]+))?(\/[^\?#]*)?(\?([^#]*))?(#(.*))?$/,ni=/^([^\?#]*)?(\?([^#]*))?(#(.*))?$/,ii=ni,ri={http:80,https:443,ftp:21};De.prototype={$$replace:!1,absUrl:Ue("$$absUrl"),url:function(t,e){if(m(t))return this.$$url;var n=ni.exec(t);return n[1]&&this.path(decodeURIComponent(n[1])),(n[2]||n[1])&&this.search(n[3]||""),this.hash(n[5]||"",e),this},protocol:Ue("$$protocol"),host:Ue("$$host"),port:Ue("$$port"),path:Re("$$path",function(t){return"/"==t.charAt(0)?t:"/"+t}),search:function(t,e){return m(t)?this.$$search:(_(e)?null===e?delete this.$$search[t]:this.$$search[t]=e:this.$$search=v(t)?O(t):t,this.$$compose(),this)},hash:Re("$$hash",d),replace:function(){return this.$$replace=!0,this}},ke.prototype=h(De.prototype),Ne.prototype=h(ke.prototype);var oi={"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:p,"+":function(t,e,i,r){return i=i(t,e),r=r(t,e),_(i)?_(r)?i+r:i:_(r)?r:n},"-":function(t,e,n,i){return n=n(t,e),i=i(t,e),(_(n)?n:0)-(_(i)?i:0)},"*":function(t,e,n,i){return n(t,e)*i(t,e)},"/":function(t,e,n,i){return n(t,e)/i(t,e)},"%":function(t,e,n,i){return n(t,e)%i(t,e)},"^":function(t,e,n,i){return n(t,e)^i(t,e)},"=":p,"==":function(t,e,n,i){return n(t,e)==i(t,e)},"!=":function(t,e,n,i){return n(t,e)!=i(t,e)},"<":function(t,e,n,i){return n(t,e)<i(t,e)},">":function(t,e,n,i){return n(t,e)>i(t,e)},"<=":function(t,e,n,i){return n(t,e)<=i(t,e)},">=":function(t,e,n,i){return n(t,e)>=i(t,e)},"&&":function(t,e,n,i){return n(t,e)&&i(t,e)},"||":function(t,e,n,i){return n(t,e)||i(t,e)},"&":function(t,e,n,i){return n(t,e)&i(t,e)},"|":function(t,e,n,i){return i(t,e)(t,e,n(t,e))},"!":function(t,e,n){return!n(t,e)}},si={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},ai={},ci=t.XMLHttpRequest||function(){try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(t){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(n){}throw Error("This browser does not support XMLHttpRequest.")};cn.$inject=["$provide"],un.$inject=["$locale"],hn.$inject=["$locale"];var li=".",ui={yyyy:fn("FullYear",4),yy:fn("FullYear",2,0,!0),y:fn("FullYear",1),MMMM:mn("Month"),MMM:mn("Month",!0),MM:fn("Month",2,1),M:fn("Month",1,1),dd:fn("Date",2),d:fn("Date",1),HH:fn("Hours",2),H:fn("Hours",1),hh:fn("Hours",2,-12),h:fn("Hours",1,-12),mm:fn("Minutes",2),m:fn("Minutes",1),ss:fn("Seconds",2),s:fn("Seconds",1),EEEE:mn("Day"),EEE:mn("Day",!0),a:function(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]},Z:function(t){var t=-1*t.getTimezoneOffset(),e=t>=0?"+":"";return e+=dn(Math[t>0?"floor":"ceil"](t/60),2)+dn(Math.abs(t%60),2)}},hi=/((?:[^yMdHhmsaZE']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z))(.*)/,pi=/^\d+$/;_n.$inject=["$locale"];var di=f(An),fi=f(Mn);yn.$inject=["$parse"];var mi=f({restrict:"E",compile:function(t,n){return 8>=Pn&&(!n.href&&!n.name&&n.$set("href",""),t.append(e.createComment("IE fix"))),function(t,e){e.bind("click",function(t){e.attr("href")||t.preventDefault()})}}}),_i={};i(zn,function(t,e){var n=Ee("ng-"+e);_i[n]=function(){return{priority:100,compile:function(){return function(t,i,r){t.$watch(r[n],function(t){r.$set(e,!!t)})}}}}}),i(["src","href"],function(t){var e=Ee("ng-"+t);_i[e]=function(){return{priority:99,link:function(n,i,r){r.$observe(e,function(e){e&&(r.$set(t,e),Pn&&i.prop(t,r[t]))})}}}});var gi={$addControl:p,$removeControl:p,$setValidity:p,$setDirty:p};wn.$inject=["$element","$attrs","$scope"];var kn=function(t){return["$timeout",function(e){var i={name:"form",restrict:"E",controller:wn,compile:function(){return{pre:function(t,i,r,o){if(!r.action){var s=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1};Yn(i[0],"submit",s),i.bind("$destroy",function(){e(function(){Fn(i[0],"submit",s)},0,!1)})}var a=i.parent().controller("form"),c=r.name||r.ngForm;
c&&(t[c]=o),a&&i.bind("$destroy",function(){a.$removeControl(o),c&&(t[c]=n),l(o,gi)})}}}};return t?l(A(i),{restrict:"EAC"}):i}]},vi=kn(),yi=kn(!0),bi=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,wi=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,4}$/,Ei=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,Si={text:Sn,number:function(t,e,i,r,o,s){if(Sn(t,e,i,r,o,s),r.$parsers.push(function(t){var e=En(t);return e||Ei.test(t)?(r.$setValidity("number",!0),""===t?null:e?t:parseFloat(t)):(r.$setValidity("number",!1),n)}),r.$formatters.push(function(t){return En(t)?"":""+t}),i.min){var a=parseFloat(i.min),t=function(t){return!En(t)&&a>t?(r.$setValidity("min",!1),n):(r.$setValidity("min",!0),t)};r.$parsers.push(t),r.$formatters.push(t)}if(i.max){var c=parseFloat(i.max),i=function(t){return!En(t)&&t>c?(r.$setValidity("max",!1),n):(r.$setValidity("max",!0),t)};r.$parsers.push(i),r.$formatters.push(i)}r.$formatters.push(function(t){return En(t)||y(t)?(r.$setValidity("number",!0),t):(r.$setValidity("number",!1),n)})},url:function(t,e,i,r,o,s){Sn(t,e,i,r,o,s),t=function(t){return En(t)||bi.test(t)?(r.$setValidity("url",!0),t):(r.$setValidity("url",!1),n)},r.$formatters.push(t),r.$parsers.push(t)},email:function(t,e,i,r,o,s){Sn(t,e,i,r,o,s),t=function(t){return En(t)||wi.test(t)?(r.$setValidity("email",!0),t):(r.$setValidity("email",!1),n)},r.$formatters.push(t),r.$parsers.push(t)},radio:function(t,e,n,i){m(n.name)&&e.attr("name",a()),e.bind("click",function(){e[0].checked&&t.$apply(function(){i.$setViewValue(n.value)})}),i.$render=function(){e[0].checked=n.value==i.$viewValue},n.$observe("value",i.$render)},checkbox:function(t,e,n,i){var r=n.ngTrueValue,o=n.ngFalseValue;v(r)||(r=!0),v(o)||(o=!1),e.bind("click",function(){t.$apply(function(){i.$setViewValue(e[0].checked)})}),i.$render=function(){e[0].checked=i.$viewValue},i.$formatters.push(function(t){return t===r}),i.$parsers.push(function(t){return t?r:o})},hidden:p,button:p,submit:p,reset:p},Ci=["$browser","$sniffer",function(t,e){return{restrict:"E",require:"?ngModel",link:function(n,i,r,o){o&&(Si[An(r.type)]||Si.text)(n,i,r,o,e,t)}}}],$i="ng-valid",xi="ng-invalid",Ti="ng-pristine",Ii="ng-dirty",Ai=["$scope","$exceptionHandler","$attrs","$element","$parse",function(t,e,n,r,o){function s(t,e){e=e?"-"+K(e,"-"):"",r.removeClass((t?xi:$i)+e).addClass((t?$i:xi)+e)}this.$modelValue=this.$viewValue=Number.NaN,this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$name=n.name;var a=o(n.ngModel),c=a.assign;if(!c)throw Error(Jn+n.ngModel+" ("+L(r)+")");this.$render=p;var l=r.inheritedData("$formController")||gi,u=0,h=this.$error={};r.addClass(Ti),s(!0),this.$setValidity=function(t,e){h[t]!==!e&&(e?(h[t]&&u--,u||(s(!0),this.$valid=!0,this.$invalid=!1)):(s(!1),this.$invalid=!0,this.$valid=!1,u++),h[t]=!e,s(e,t),l.$setValidity(t,e,this))},this.$setViewValue=function(n){this.$viewValue=n,this.$pristine&&(this.$dirty=!0,this.$pristine=!1,r.removeClass(Ti).addClass(Ii),l.$setDirty()),i(this.$parsers,function(t){n=t(n)}),this.$modelValue!==n&&(this.$modelValue=n,c(t,n),i(this.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}}))};var d=this;t.$watch(function(){var e=a(t);if(d.$modelValue!==e){var n=d.$formatters,i=n.length;for(d.$modelValue=e;i--;)e=n[i](e);d.$viewValue!==e&&(d.$viewValue=e,d.$render())}})}],Mi=function(){return{require:["ngModel","^?form"],controller:Ai,link:function(t,e,n,i){var r=i[0],o=i[1]||gi;o.$addControl(r),e.bind("$destroy",function(){o.$removeControl(r)})}}},Pi=f({require:"ngModel",link:function(t,e,n,i){i.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Di=function(){return{require:"?ngModel",link:function(t,e,n,i){if(i){n.required=!0;var r=function(t){return!n.required||!En(t)&&t!==!1?(i.$setValidity("required",!0),t):(i.$setValidity("required",!1),void 0)};i.$formatters.push(r),i.$parsers.unshift(r),n.$observe("required",function(){r(i.$viewValue)})}}}},ki=function(){return{require:"ngModel",link:function(t,e,r,o){var s=(t=/\/(.*)\//.exec(r.ngList))&&RegExp(t[1])||r.ngList||",";o.$parsers.push(function(t){var e=[];return t&&i(t.split(s),function(t){t&&e.push(C(t))}),e}),o.$formatters.push(function(t){return w(t)?t.join(", "):n})}}},Ni=/^(true|false|\d+)$/,Ui=function(){return{priority:100,compile:function(t,e){return Ni.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t,!1)})}}}},Ri=bn(function(t,e,i){e.addClass("ng-binding").data("$binding",i.ngBind),t.$watch(i.ngBind,function(t){e.text(t==n?"":t)})}),Li=["$interpolate",function(t){return function(e,n,i){e=t(n.attr(i.$attr.ngBindTemplate)),n.addClass("ng-binding").data("$binding",e),i.$observe("ngBindTemplate",function(t){n.text(t)})}}],Oi=[function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.ngBindHtmlUnsafe),t.$watch(n.ngBindHtmlUnsafe,function(t){e.html(t||"")})}}],Bi=Cn("",!0),Gi=Cn("Odd",0),ji=Cn("Even",1),Yi=bn({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Fi=[function(){return{scope:!0,controller:"@"}}],Ki=["$sniffer",function(t){return{priority:1e3,compile:function(){t.csp=!0}}}],Hi={};i("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave".split(" "),function(t){var e=Ee("ng-"+t);Hi[e]=["$parse",function(n){return function(i,r,o){var s=n(o[e]);r.bind(An(t),function(t){i.$apply(function(){s(i,{$event:t})})})}}]});var qi=bn(function(t,e,n){e.bind("submit",function(){t.$apply(n.ngSubmit)})}),zi=["$http","$templateCache","$anchorScroll","$compile",function(t,e,n,i){return{restrict:"ECA",terminal:!0,compile:function(r,o){var s=o.ngInclude||o.src,a=o.onload||"",c=o.autoscroll;return function(r,o){var l,u=0,h=function(){l&&(l.$destroy(),l=null),o.html("")};r.$watch(s,function(s){var p=++u;s?t.get(s,{cache:e}).success(function(t){p===u&&(l&&l.$destroy(),l=r.$new(),o.html(t),i(o.contents())(l),_(c)&&(!c||r.$eval(c))&&n(),l.$emit("$includeContentLoaded"),r.$eval(a))}).error(function(){p===u&&h()}):h()})}}}}],Vi=bn({compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Wi=bn({terminal:!0,priority:1e3}),Qi=["$locale","$interpolate",function(t,e){var n=/{}/g;return{restrict:"EA",link:function(r,o,s){var a=s.count,c=o.attr(s.$attr.when),l=s.offset||0,u=r.$eval(c),h={},p=e.startSymbol(),d=e.endSymbol();i(u,function(t,i){h[i]=e(t.replace(n,p+a+"-"+l+d))}),r.$watch(function(){var e=parseFloat(r.$eval(a));return isNaN(e)?"":(e in u||(e=t.pluralCat(e-l)),h[e](r,o,!0))},function(t){o.text(t)})}}}],Xi=bn({transclude:"element",priority:1e3,terminal:!0,compile:function(t,e,n){return function(t,e,i){var r,o,s,a=i.ngRepeat,i=a.match(/^\s*(.+)\s+in\s+(.*)\s*$/);if(!i)throw Error("Expected ngRepeat in form of '_item_ in _collection_' but got '"+a+"'.");if(a=i[1],r=i[2],i=a.match(/^(?:([\$\w]+)|\(([\$\w]+)\s*,\s*([\$\w]+)\))$/),!i)throw Error("'item' in 'item in collection' should be identifier or (key, value) but got '"+a+"'.");o=i[3]||i[1],s=i[2];var c=new de;t.$watch(function(t){var i,a,l,u,h,p,d,f,m=t.$eval(r),_=e,g=new de;if(w(m))d=m||[];else{d=[];for(h in m)m.hasOwnProperty(h)&&"$"!=h.charAt(0)&&d.push(h);d.sort()}for(l=d.length-1,i=0,a=d.length;a>i;i++)h=m===d?i:d[i],p=m[h],(f=c.shift(p))?(u=f.scope,g.push(p,f),i!==f.index&&(f.index=i,_.after(f.element)),_=f.element):u=t.$new(),u[o]=p,s&&(u[s]=h),u.$index=i,u.$first=0===i,u.$last=i===l,u.$middle=!(u.$first||u.$last),f||n(u,function(t){_.after(t),f={scope:u,element:_=t,index:i},g.push(p,f)});for(h in c)if(c.hasOwnProperty(h))for(d=c[h];d.length;)p=d.pop(),p.element.remove(),p.scope.$destroy();c=g})}}}),Zi=bn(function(t,e,n){t.$watch(n.ngShow,function(t){e.css("display",R(t)?"":"none")})}),Ji=bn(function(t,e,n){t.$watch(n.ngHide,function(t){e.css("display",R(t)?"none":"")})}),tr=bn(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&i(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),er=f({restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(t,e,n,i){var r,o,s;t.$watch(n.ngSwitch||n.on,function(a){o&&(s.$destroy(),o.remove(),o=s=null),(r=i.cases["!"+a]||i.cases["?"])&&(t.$eval(n.change),s=t.$new(),r(s,function(t){o=t,e.append(t)}))})}}),nr=bn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(t,e,n){return function(t,i,r,o){o.cases["!"+e.ngSwitchWhen]=n}}}),ir=bn({transclude:"element",priority:500,require:"^ngSwitch",compile:function(t,e,n){return function(t,e,i,r){r.cases["?"]=n}}}),rr=bn({controller:["$transclude","$element",function(t,e){t(function(t){e.append(t)})}]}),or=["$http","$templateCache","$route","$anchorScroll","$compile","$controller",function(t,e,n,i,r,o){return{restrict:"ECA",terminal:!0,link:function(t,e,s){function a(){var s=n.current&&n.current.locals,a=s&&s.$template;if(a){e.html(a),c&&(c.$destroy(),c=null);var a=r(e.contents()),u=n.current;c=u.scope=t.$new(),u.controller&&(s.$scope=c,s=o(u.controller,s),e.children().data("$ngControllerController",s)),a(c),c.$emit("$viewContentLoaded"),c.$eval(l),i()}else e.html(""),c&&(c.$destroy(),c=null)}var c,l=s.onload||"";t.$on("$routeChangeSuccess",a),a()}}}],sr=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){"text/ng-template"==n.type&&t.put(n.id,e[0].text)}}}],ar=f({terminal:!0}),cr=["$compile","$parse",function(t,o){var s=/^\s*(.*?)(?:\s+as\s+(.*?))?(?:\s+group\s+by\s+(.*))?\s+for\s+(?:([\$\w][\$\w\d]*)|(?:\(\s*([\$\w][\$\w\d]*)\s*,\s*([\$\w][\$\w\d]*)\s*\)))\s+in\s+(.*)$/,a={$setViewValue:p};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function(t,e,n){var i,r=this,o={},s=a;r.databound=n.ngModel,r.init=function(t,e,n){s=t,i=n},r.addOption=function(e){o[e]=!0,s.$viewValue==e&&(t.val(e),i.parent()&&i.remove())},r.removeOption=function(t){this.hasOption(t)&&(delete o[t],s.$viewValue==t&&this.renderUnknownOption(t))},r.renderUnknownOption=function(e){e="? "+he(e)+" ?",i.val(e),t.prepend(i),t.val(e),i.prop("selected",!0)},r.hasOption=function(t){return o.hasOwnProperty(t)},e.$on("$destroy",function(){r.renderUnknownOption=p})}],link:function(a,c,l,u){function h(t,e,n,i){n.$render=function(){var t=n.$viewValue;i.hasOption(t)?(C.parent()&&C.remove(),e.val(t),""===t&&f.prop("selected",!0)):m(t)&&f?e.val(""):i.renderUnknownOption(t)},e.bind("change",function(){t.$apply(function(){C.parent()&&C.remove(),n.$setViewValue(e.val())})})}function p(t,e,n){var r;n.$render=function(){var t=new pe(n.$viewValue);i(e.find("option"),function(e){e.selected=_(t.get(e.value))})},t.$watch(function(){P(r,n.$viewValue)||(r=A(n.$viewValue),n.$render())}),e.bind("change",function(){t.$apply(function(){var t=[];i(e.find("option"),function(e){e.selected&&t.push(e.value)}),n.$setViewValue(t)})})}function d(e,i,a){function c(){var t,o,s,c,l,g={"":[]},v=[""];s=a.$modelValue,c=m(e)||[];var b,C,$,x=p?r(c):c;C={},l=!1;var T,I;for(y&&(l=new pe(s)),$=0;b=x.length,b>$;$++)C[h]=c[p?C[p]=x[$]:$],t=d(e,C)||"",(o=g[t])||(o=g[t]=[],v.push(t)),y?t=l.remove(f(e,C))!=n:(t=s===f(e,C),l=l||t),T=u(e,C),T=T===n?"":T,o.push({id:p?x[$]:$,label:T,selected:t});for(y||(w||null===s?g[""].unshift({id:"",label:"",selected:!l}):l||g[""].unshift({id:"?",label:"",selected:!0})),C=0,x=v.length;x>C;C++){for(t=v[C],o=g[t],_.length<=C?(s={element:S.clone().attr("label",t),label:o.label},c=[s],_.push(c),i.append(s.element)):(c=_[C],s=c[0],s.label!=t&&s.element.attr("label",s.label=t)),T=null,$=0,b=o.length;b>$;$++)t=o[$],(l=c[$+1])?(T=l.element,l.label!==t.label&&T.text(l.label=t.label),l.id!==t.id&&T.val(l.id=t.id),T[0].selected!==t.selected&&T.prop("selected",l.selected=t.selected)):(""===t.id&&w?I=w:(I=E.clone()).val(t.id).attr("selected",t.selected).text(t.label),c.push({element:I,label:t.label,id:t.id,selected:t.selected}),T?T.after(I):s.element.append(I),T=I);for($++;c.length>$;)c.pop().element.remove()}for(;_.length>C;)_.pop()[0].element.remove()}var l;if(!(l=b.match(s)))throw Error("Expected ngOptions in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '"+b+"'.");var u=o(l[2]||l[1]),h=l[4]||l[6],p=l[5],d=o(l[3]||""),f=o(l[2]?l[1]:h),m=o(l[7]),_=[[{element:i,label:""}]];w&&(t(w)(e),w.removeClass("ng-scope"),w.remove()),i.html(""),i.bind("change",function(){e.$apply(function(){var t,r,o,s,c,l,u,d=m(e)||[],g={};if(y)for(o=[],c=0,u=_.length;u>c;c++)for(t=_[c],s=1,l=t.length;l>s;s++)(r=t[s].element)[0].selected&&(r=r.val(),p&&(g[p]=r),g[h]=d[r],o.push(f(e,g)));else r=i.val(),"?"==r?o=n:""==r?o=null:(g[h]=d[r],p&&(g[p]=r),o=f(e,g));a.$setViewValue(o)})}),a.$render=c,e.$watch(c)}if(u[1]){for(var f,g=u[0],v=u[1],y=l.multiple,b=l.ngOptions,w=!1,E=$n(e.createElement("option")),S=$n(e.createElement("optgroup")),C=E.clone(),u=0,$=c.children(),x=$.length;x>u;u++)if(""==$[u].value){f=w=$.eq(u);break}if(g.init(v,w,C),y&&(l.required||l.ngRequired)){var T=function(t){return v.$setValidity("required",!l.required||t&&t.length),t};v.$parsers.push(T),v.$formatters.unshift(T),l.$observe("required",function(){T(v.$viewValue)})}b?d(a,c,v):y?p(a,c,v):h(a,c,v,g)}}}}],lr=["$interpolate",function(t){var e={addOption:p,removeOption:p};return{restrict:"E",priority:100,compile:function(n,i){if(m(i.value)){var r=t(n.text(),!0);r||i.$set("value",n.text())}return function(t,n,i){var o=n.parent(),s=o.data("$selectController")||o.parent().data("$selectController");s&&s.databound?n.prop("selected",!1):s=e,r?t.$watch(r,function(t,e){i.$set("value",t),t!==e&&s.removeOption(e),s.addOption(t)}):s.addOption(i.value),n.bind("$destroy",function(){s.removeOption(i.value)})}}}}],ur=f({restrict:"E",terminal:!0});(xn=t.jQuery)?($n=xn,l(xn.fn,{scope:qn.scope,controller:qn.controller,injector:qn.injector,inheritedData:qn.inheritedData}),W("remove",!0),W("empty"),W("html")):$n=Q,Un.element=$n,function(e){l(e,{bootstrap:F,copy:A,extend:l,equals:P,element:$n,forEach:i,injector:me,noop:p,bind:D,toJson:N,fromJson:U,identity:d,isUndefined:m,isDefined:_,isString:v,isFunction:E,isObject:g,isNumber:y,isElement:$,isArray:w,version:On,isDate:b,lowercase:An,uppercase:Mn,callbacks:{counter:0}}),Tn=z(t);try{Tn("ngLocale")}catch(n){Tn("ngLocale",[]).provider("$locale",sn)}Tn("ng",["ngLocale"],["$provide",function(t){t.provider("$compile",we).directive({a:mi,input:Ci,textarea:Ci,form:vi,script:sr,select:cr,style:ur,option:lr,ngBind:Ri,ngBindHtmlUnsafe:Oi,ngBindTemplate:Li,ngClass:Bi,ngClassEven:ji,ngClassOdd:Gi,ngCsp:Ki,ngCloak:Yi,ngController:Fi,ngForm:yi,ngHide:Ji,ngInclude:zi,ngInit:Vi,ngNonBindable:Wi,ngPluralize:Qi,ngRepeat:Xi,ngShow:Zi,ngSubmit:qi,ngStyle:tr,ngSwitch:er,ngSwitchWhen:nr,ngSwitchDefault:ir,ngOptions:ar,ngView:or,ngTransclude:rr,ngModel:Mi,ngList:ki,ngChange:Pi,required:Di,ngRequired:Di,ngValue:Ui}).directive(_i).directive(Hi),t.provider({$anchorScroll:_e,$browser:ve,$cacheFactory:ye,$controller:Se,$document:Ce,$exceptionHandler:$e,$filter:cn,$interpolate:xe,$http:nn,$httpBackend:rn,$location:Le,$log:Oe,$parse:He,$route:Ve,$routeParams:We,$rootScope:Qe,$q:qe,$sniffer:Xe,$templateCache:be,$timeout:an,$window:Ze})}])}(Un),$n(e).ready(function(){Y(e,F)})}(window,document),angular.element(document).find("head").append('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak{display:none;}ng\\:form{display:block;}</style>'),!jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]}}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one(t.support.transition.end,function(){n=!0});var r=function(){n||t(i).trigger(t.support.transition.end)};return setTimeout(r,e),this},t(function(){t.support.transition=e()})}(window.jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.prototype.close=function(e){function n(){o.trigger("closed.bs.alert").remove()}var i=t(this),r=i.attr("data-target");r||(r=i.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var o=t(r);e&&e.preventDefault(),o.length||(o=i.hasClass("alert")?i:i.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,n).emulateTransitionEnd(150):n())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),r=i.data("bs.alert");r||i.data("bs.alert",r=new n(this)),"string"==typeof e&&r[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",n=this.$element,i=n.is("input")?"val":"html",r=n.data();t+="Text",r.resetText||n.data("resetText",n[i]()),n[i](r[t]||this.options[t]),setTimeout(function(){"loadingText"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var e=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===e.prop("type")&&t.find(".active").removeClass("active")}this.$element.toggleClass("active")};var n=t.fn.button;t.fn.button=function(n){return this.each(function(){var i=t(this),r=i.data("bs.button"),o="object"==typeof n&&n;r||i.data("bs.button",r=new e(this,o)),"toggle"==n?r.toggle():n&&r.setState(n)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=n,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var n=t(e.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),e.preventDefault()})}(window.jQuery),+function(t){"use strict";var e=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var n=this,i=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid",function(){n.to(e)}):i==e?this.pause().cycle():this.slide(e>i?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,n){var i=this.$element.find(".item.active"),r=n||i[e](),o=this.interval,s="next"==e?"left":"right",a="next"==e?"first":"last",c=this;if(!r.length){if(!this.options.wrap)return;r=this.$element.find(".item")[a]()}this.sliding=!0,o&&this.pause();var l=t.Event("slide.bs.carousel",{relatedTarget:r[0],direction:s});if(!r.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var e=t(c.$indicators.children()[c.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(l),l.isDefaultPrevented())return;r.addClass(e),r[0].offsetWidth,i.addClass(s),r.addClass(s),i.one(t.support.transition.end,function(){r.removeClass([e,s].join(" ")).addClass("active"),i.removeClass(["active",s].join(" ")),c.sliding=!1,setTimeout(function(){c.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(l),l.isDefaultPrevented())return;i.removeClass("active"),r.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return o&&this.cycle(),this}};var n=t.fn.carousel;t.fn.carousel=function(n){return this.each(function(){var i=t(this),r=i.data("bs.carousel"),o=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n),s="string"==typeof n?n:o.slide;r||i.data("bs.carousel",r=new e(this,o)),"number"==typeof n?r.to(n):s?r[s]():o.interval&&r.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=n,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var n,i=t(this),r=t(i.attr("data-target")||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},r.data(),i.data()),s=i.attr("data-slide-to");s&&(o.interval=!1),r.carousel(o),(s=i.attr("data-slide-to"))&&r.data("bs.carousel").to(s),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.$element=t(n),this.options=t.extend({},e.DEFAULTS,i),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var i=n.data("bs.collapse");if(i&&i.transitioning)return;n.collapse("hide"),i||n.data("bs.collapse",null)}var r=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[r](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[r]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var s=t.camelCase(["scroll",r].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[r](this.$element[0][s])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var i=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?(this.$element[n](0).one(t.support.transition.end,t.proxy(i,this)).emulateTransitionEnd(350),void 0):i.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=t.fn.collapse;t.fn.collapse=function(n){return this.each(function(){var i=t(this),r=i.data("bs.collapse"),o=t.extend({},e.DEFAULTS,i.data(),"object"==typeof n&&n);r||i.data("bs.collapse",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=n,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var n,i=t(this),r=i.attr("data-target")||e.preventDefault()||(n=i.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,""),o=t(r),s=o.data("bs.collapse"),a=s?"toggle":i.data(),c=i.attr("data-parent"),l=c&&t(c);s&&s.transitioning||(l&&l.find('[data-toggle=collapse][data-parent="'+c+'"]').not(i).addClass("collapsed"),i[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(a)})}(window.jQuery),+function(t){"use strict";function e(){t(i).remove(),t(r).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown")}return r.focus(),!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(r).focus(),i.click();var a=t("[role=menu] li:not(.divider):visible a",o);if(a.length){var c=a.index(a.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<a.length-1&&c++,~c||(c=0),a.eq(c).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(window.jQuery),+function(t){"use strict";var e=function(e,n){this.options=n,this.$element=t(e).on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var n=this,i=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.backdrop(function(){var i=t.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),i&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var r=t.Event("shown.bs.modal",{relatedTarget:e});i?n.$element.one(t.support.transition.end,function(){n.$element.focus().trigger(r)}).emulateTransitionEnd(300):n.$element.focus().trigger(r)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=t.support.transition&&n;if(this.$backdrop=t('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;i?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var n=t.fn.modal;t.fn.modal=function(n,i){return this.each(function(){var r=t(this),o=r.data("bs.modal"),s=t.extend({},e.DEFAULTS,r.data(),"object"==typeof n&&n);o||r.data("bs.modal",o=new e(this,s)),"string"==typeof n?o[n](i):s.show&&o.show(i)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=n,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var n=t(this),i=n.attr("href"),r=t(n.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),o=r.data("modal")?"toggle":t.extend({remote:!/#/.test(i)&&i},r.data(),n.data());e.preventDefault(),r.modal(o,this).one("hide",function(){n.is(":visible")&&n.focus()})}),t(document).on("shown.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,n,i){this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),o=r.length;o--;){var s=r[o];if("click"==s)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=s){var a="hover"==s?"mouseenter":"focus",c="hover"==s?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(c+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.options.delay&&n.options.delay.show?(n.hoverState="in",n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show),void 0):n.show()},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(n.timeout),n.options.delay&&n.options.delay.hide?(n.hoverState="out",n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide),void 0):n.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,o=r.test(i);o&&(i=i.replace(r,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition(),a=n[0].offsetWidth,c=n[0].offsetHeight;if(o){var l=this.$element.parent(),u=i,h=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:l.outerWidth(),d="body"==this.options.container?window.innerHeight:l.outerHeight(),f="body"==this.options.container?0:l.offset().left;
i="bottom"==i&&s.top+s.height+c-h>d?"top":"top"==i&&s.top-h-c<0?"bottom":"right"==i&&s.right+a>p?"left":"left"==i&&s.left-a<f?"right":i,n.removeClass(u).addClass(i)}var m=this.getCalculatedOffset(i,s,a,c);this.applyPlacement(m,i),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var n,i=this.tip(),r=i[0].offsetWidth,o=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(a)&&(a=0),t.top=t.top+s,t.left=t.left+a,i.offset(t).addClass("in");var c=i[0].offsetWidth,l=i[0].offsetHeight;if("top"==e&&l!=o&&(n=!0,t.top=t.top+o-l),/bottom|top/.test(e)){var u=0;t.left<0&&(u=-2*t.left,t.left=0,i.offset(t),c=i[0].offsetWidth,l=i[0].offsetHeight),this.replaceArrow(u-r+c,c,"left")}else this.replaceArrow(l-o,l,"top");n&&i.offset(t)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){n.detach()}var n=this.tip(),i=t.Event("hide.bs."+this.type);return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,n=this.options;return t=e.attr("data-original-title")||("function"==typeof n.title?n.title.call(e[0]):n.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tooltip"),o="object"==typeof n&&n;r||i.data("bs.tooltip",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(window.jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](n),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),r=i.data("bs.popover"),o="object"==typeof n&&n;r||i.data("bs.popover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(window.jQuery),+function(t){"use strict";function e(n,i){var r,o=t.proxy(this.process,this);this.$element=t(n).is("body")?t(window):t(n),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||(r=t(n).attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var n=this;this.$body.find(this.selector).map(function(){var i=t(this),r=i.data("target")||i.attr("href"),o=/^#\w/.test(r)&&t(r);return o&&o.length&&[[o[e]().top+(!t.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),r]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,i=n-this.$scrollElement.height(),r=this.offsets,o=this.targets,s=this.activeTarget;if(e>=i)return s!=(t=o.last()[0])&&this.activate(t);for(t=r.length;t--;)s!=o[t]&&e>=r[t]&&(!r[t+1]||e<=r[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("active");i.parent(".dropdown-menu").length&&(i=i.closest("li.dropdown").addClass("active")),i.trigger("activate")};var n=t.fn.scrollspy;t.fn.scrollspy=function(n){return this.each(function(){var i=t(this),r=i.data("bs.scrollspy"),o="object"==typeof n&&n;r||i.data("bs.scrollspy",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=n,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(window.jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.dropdown-menu)"),i=e.attr("data-target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var r=n.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:r});if(e.trigger(o),!o.isDefaultPrevented()){var s=t(i);this.activate(e.parent("li"),n),this.activate(s,s.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:r})})}}},e.prototype.activate=function(e,n,i){function r(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),s?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),i&&i()}var o=n.find("> .active"),s=i&&t.support.transition&&o.hasClass("fade");s?o.one(t.support.transition.end,r).emulateTransitionEnd(150):r(),o.removeClass("in")};var n=t.fn.tab;t.fn.tab=function(n){return this.each(function(){var i=t(this),r=i.data("bs.tab");r||i.data("bs.tab",r=new e(this)),"string"==typeof n&&r[n]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=n,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(window.jQuery),+function(t){"use strict";var e=function(n,i){this.options=t.extend({},e.DEFAULTS,i),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(n),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var n=t(document).height(),i=this.$window.scrollTop(),r=this.$element.offset(),o=this.options.offset,s=o.top,a=o.bottom;"object"!=typeof o&&(a=s=o),"function"==typeof s&&(s=o.top()),"function"==typeof a&&(a=o.bottom());var c=null!=this.unpin&&i+this.unpin<=r.top?!1:null!=a&&r.top+this.$element.height()>=n-a?"bottom":null!=s&&s>=i?"top":!1;this.affixed!==c&&(this.unpin&&this.$element.css("top",""),this.affixed=c,this.unpin="bottom"==c?r.top-i:null,this.$element.removeClass(e.RESET).addClass("affix"+(c?"-"+c:"")),"bottom"==c&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var n=t.fn.affix;t.fn.affix=function(n){return this.each(function(){var i=t(this),r=i.data("bs.affix"),o="object"==typeof n&&n;r||i.data("bs.affix",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=n,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),n=e.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),e.affix(n)})})}(window.jQuery),+function(t){"use strict";function e(){t(i).remove(),t(r).each(function(e){var i=n(t(this));i.hasClass("open")&&(i.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||i.removeClass("open").trigger("hidden.bs.dropdown"))})}function n(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}var i=".dropdown-backdrop",r="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(i){var r=t(this);if(!r.is(".disabled, :disabled")){var o=n(r),s=o.hasClass("open");if(e(),!s){if("ontouchstart"in document.documentElement&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(i=t.Event("show.bs.dropdown")),i.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown")}return r.focus(),!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var i=t(this);if(e.preventDefault(),e.stopPropagation(),!i.is(".disabled, :disabled")){var o=n(i),s=o.hasClass("open");if(!s||s&&27==e.keyCode)return 27==e.which&&o.find(r).focus(),i.click();var a=t("[role=menu] li:not(.divider):visible a",o);if(a.length){var c=a.index(a.filter(":focus"));38==e.keyCode&&c>0&&c--,40==e.keyCode&&c<a.length-1&&c++,~c||(c=0),a.eq(c).focus()}}}};var s=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("dropdown");i||n.data("dropdown",i=new o(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",r,o.prototype.toggle).on("keydown.bs.dropdown.data-api",r+", [role=menu]",o.prototype.keydown)}(window.jQuery),jQuery.fn.extend({groupSelect:function(t,e){function n(t){var e=$(t);console.log(e),e.find("select.gps_choice").change(function(){var t=$(this).val();return console.log(t),""==$(this).val()?!1:(e.find("select.gps_subChoice").removeAttr("disabled"),e.find("select.gps_subChoice > option").each(function(){$(this).attr("alt")!=t&&$(this).wrap("<span>").hide().toggleClass("show")}),e.find("select.gps_subChoice > span > option").each(function(){$(this).attr("alt")==t&&$(this).unwrap("span").show().toggleClass("show")}),val=e.find("select.gps_subChoice option.show").first().val(),e.find("select.gps_subChoice").val(val),void 0)}),e.find("select.gps_choice").change()}function i(t){$that=$(t),$that.html()}switch(e={opt1:{1:"sub_opt1.1",2:"sub_opt1.2"},opt2:{1:"sub_opt2.1",2:"sup_opt2.2"}},t){case void 0:case"init":n(this);break;case"create":"object"==typeof e?i(this,e):console.log("Wrong arrgument")}}}),window.App=angular.module("bkclient",["ngResource"]),!function(t){"use strict";var e=function(t,e){this.cinit("clickover",t,e)};e.prototype=t.extend({},t.fn.popover.Constructor.prototype,{constructor:e,cinit:function(e,n,i){this.attr={},this.attr.me=(10*Math.random()+"").replace(/\D/g,""),this.attr.click_event_ns="click."+this.attr.me+" touchstart."+this.attr.me,i||(i={}),i.trigger="manual",this.init(e,n,i),this.$element.on("click",this.options.selector,t.proxy(this.clickery,this))},clickery:function(e){if(e&&(e.preventDefault(),e.stopPropagation()),this.options.width&&this.tip().width(this.options.width),this.options.height&&this.tip().height(this.options.height),this.options.tip_id&&this.tip().attr("id",this.options.tip_id),this.options.class_name&&this.tip().addClass(this.options.class_name),this[this.isShown()?"hide":"show"](),this.isShown()){var n=this;this.options.global_close&&t("body").on(this.attr.click_event_ns,function(t){n.tip().has(t.target).length||n.clickery()}),this.options.esc_close&&t(document).bind("keyup.clickery",function(t){27==t.keyCode&&n.clickery()}),!this.options.allow_multiple&&t("[data-clickover-open=1]").each(function(){t(this).data("clickover")&&t(this).data("clickover").clickery()}),this.$element.attr("data-clickover-open",1),this.tip().on("click",'[data-dismiss="clickover"]',t.proxy(this.clickery,this)),this.options.auto_close&&this.options.auto_close>0&&(this.attr.tid=setTimeout(t.proxy(this.clickery,this),this.options.auto_close)),"function"==typeof this.options.onShown&&this.options.onShown.call(this),this.$element.trigger("shown")}else this.$element.removeAttr("data-clickover-open"),this.options.esc_close&&t(document).unbind("keyup.clickery"),t("body").off(this.attr.click_event_ns),"number"==typeof this.attr.tid&&(clearTimeout(this.attr.tid),delete this.attr.tid),"function"==typeof this.options.onHidden&&this.options.onHidden.call(this),this.$element.trigger("hidden")},isShown:function(){return this.tip().hasClass("in")},resetPosition:function(){var t,e,n,i,r,o,s;if(this.hasContent()&&this.enabled){switch(t=this.tip(),o="function"==typeof this.options.placement?this.options.placement.call(this,t[0],this.$element[0]):this.options.placement,e=/in/.test(o),n=this.getPosition(e),i=t[0].offsetWidth,r=t[0].offsetHeight,e?o.split(" ")[1]:o){case"bottom":s={top:n.top+n.height,left:n.left+n.width/2-i/2};break;case"top":s={top:n.top-r,left:n.left+n.width/2-i/2};break;case"left":s={top:n.top+n.height/2-r/2,left:n.left-i};break;case"right":s={top:n.top+n.height/2-r/2,left:n.left+n.width}}t.css(s)}},debughide:function(){var t=(new Date).toString();console.log(t+": clickover hide"),this.hide()}}),t.fn.clickover=function(n){return this.each(function(){var i=t(this),r=i.data("clickover"),o="object"==typeof n&&n;r||i.data("clickover",r=new e(this,o)),"string"==typeof n&&r[n]()})},t.fn.clickover.Constructor=e,t.fn.clickover.defaults=t.extend({},t.fn.popover.defaults,{trigger:"manual",auto_close:0,global_close:1,esc_close:1,onShown:null,onHidden:null,width:null,height:null,tip_id:null,class_name:"clickover",allow_multiple:0})}(window.jQuery);var change_to_wait=function(t){$(t).html("Waiting..."),$(t).removeClass("btn-primary").addClass("btn-default disabled")};